/**
 * Winter Board Game Styles
 * Speech Therapy AI - Board Game CSS
 *
 * TABLE OF CONTENTS
 * =================
 * SECTION A: CORE STYLES
 *   - Base Styles & Reset (~line 30)
 *   - Shared UI Pattern Base Classes (~line 85)
 *   - Game Board Layout (~line 465)
 *   - Card Modal & Interactions (~line 800)
 *
 * SECTION B: CARD HANDLERS [1-65] (~line 1767)
 *   [1] Conditional Following Directions
 *   [2] Context Clues
 *   [3] Fill In The Blank
 *   [4] Coordinating Conjunctions
 *   [5] Describe The Scene
 *   [6] Describing
 *   [7] Describing - More Advanced
 *   [8] Descriptive Words - Opposites
 *   [9] Do Vs Does
 *   [10] Has Vs Have
 *   [11] Expanding Sentences
 *   [12] Figurative Language (Idioms)
 *   [13-16] Following Directions, Function Labeling, Future Tense, First Next Then Last
 *   [17-27] Homophones, How To, Identify Meaning/Missing, Idioms, Inferencing, Irregular Verbs/Plurals
 *   [28-40] Multiple Meaning, Naming, Negation, Noun Naming, Past Tense, Possessives, Prepositions, Problem Solving, Pronouns
 *   [41-50] Questions For You, Rhyming, Safety Signs, Semantic, Sequencing, Subordinating Conjunctions, Synonyms
 *   [51-65] Verbs, Vocabulary, Wh Questions, What Will Happen, Which Doesn't Belong, Who Questions
 *
 * SECTION C: SYSTEM STYLES
 *   [R] Responsive Design (~line 3413)
 *   [A] Animations (~line 4445)
 *   [N] Notifications (~line 4574)
 *   [W] Win Screen (~line 4640)
 *   [C] Character Selection (~line 4733)
 *   [V] Voice Recording (~line 4832)
 *   [L] Loading Screen (~line 5079)
 *   [M] Touch & Mobile (~line 5156)
 *
 * SECTION D: UNIFIED CONTAINERS [U1-U2] (~line 11128)
 *   - Standardized overrides for all card types
 */

/* Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Nunito', sans-serif;
    min-height: 100vh;
    overflow: hidden;
    background: linear-gradient(180deg, #87CEEB 0%, #B0E0E6 50%, #E6E6FA 100%);
}

.game-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    overflow: hidden;
}

/* Snowflakes Animation */
.snowflakes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.snowflake {
    position: absolute;
    top: -20px;
    color: white;
    font-size: 1.5rem;
    animation: fall linear infinite;
    opacity: 0.8;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
}

.snowflake:nth-child(1) { left: 5%; animation-duration: 10s; animation-delay: 0s; font-size: 1.2rem; }
.snowflake:nth-child(2) { left: 15%; animation-duration: 12s; animation-delay: 2s; font-size: 1.8rem; }
.snowflake:nth-child(3) { left: 25%; animation-duration: 8s; animation-delay: 4s; font-size: 1rem; }
.snowflake:nth-child(4) { left: 35%; animation-duration: 14s; animation-delay: 1s; font-size: 1.5rem; }
.snowflake:nth-child(5) { left: 50%; animation-duration: 9s; animation-delay: 3s; font-size: 2rem; }
.snowflake:nth-child(6) { left: 60%; animation-duration: 11s; animation-delay: 5s; font-size: 1.3rem; }
.snowflake:nth-child(7) { left: 70%; animation-duration: 13s; animation-delay: 2s; font-size: 1.7rem; }
.snowflake:nth-child(8) { left: 80%; animation-duration: 7s; animation-delay: 4s; font-size: 1.1rem; }
.snowflake:nth-child(9) { left: 90%; animation-duration: 10s; animation-delay: 0s; font-size: 1.6rem; }
.snowflake:nth-child(10) { left: 95%; animation-duration: 12s; animation-delay: 3s; font-size: 1.4rem; }

@keyframes fall {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0.3; }
}

/* ============================================================
   SHARED UI PATTERN BASE CLASSES
   These base classes are used by multiple card handlers to avoid CSS duplication.
   Handlers should use these base classes with modifier classes for customization.
   ============================================================ */

/* --- Base Container Class --- */
.card-container-base {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    gap: 15px;
    width: 100%;
}

/* --- Base Image Box Class --- */
.image-box-base {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: 12px;
    background: #fff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.image-box-base img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.image-box-base--small { width: 150px; height: 120px; }
.image-box-base--medium { width: 200px; height: 160px; }
.image-box-base--large { width: 280px; height: 200px; }
.image-box-base--xlarge { width: 320px; height: 240px; }

/* --- Base Input Field Class --- */
.input-base {
    padding: 12px 18px;
    font-family: 'Nunito', sans-serif;
    font-size: 1.1rem;
    border: 3px solid #e0e0e0;
    border-radius: 12px;
    outline: none;
    transition: all 0.3s ease;
    width: 100%;
    max-width: 400px;
}

.input-base:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.input-base.correct {
    border-color: #27ae60;
    background-color: #e8f8f0;
}

.input-base.incorrect {
    border-color: #e74c3c;
    background-color: #ffeaea;
}

.input-base:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

/* --- Base Choice/Button Class --- */
.choice-btn-base {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 18px;
    background: #fff;
    border: 3px solid #e0e0e0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1rem;
    text-align: left;
    width: 100%;
}

.choice-btn-base:hover:not(:disabled) {
    border-color: #667eea;
    background: #f0f4ff;
    transform: translateX(5px);
}

.choice-btn-base.selected {
    background: #f0f4ff;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

.choice-btn-base.correct {
    background: #e8f8f0;
    border-color: #27ae60;
    color: #1e7e34;
}

.choice-btn-base.incorrect {
    background: #ffeaea;
    border-color: #e74c3c;
    color: #c0392b;
}

.choice-btn-base:disabled {
    cursor: not-allowed;
    opacity: 0.8;
}

/* --- Base Feedback Message Class --- */
.feedback-base {
    text-align: center;
    padding: 12px 20px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1rem;
    min-height: 20px;
}

.feedback-base.correct {
    color: #27ae60;
    background: #e8f8f0;
}

.feedback-base.incorrect {
    color: #e74c3c;
    background: #ffeaea;
}

/* --- Base Option Card Class (for selectable image cards) --- */
.option-card-base {
    width: 130px;
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 12px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
}

.option-card-base:hover:not(.correct):not(.incorrect):not(.disabled) {
    border-color: #667eea;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.option-card-base.selected {
    border-color: #667eea;
    background: #f0f4ff;
}

.option-card-base.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.option-card-base.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.option-card-base.disabled {
    pointer-events: none;
    opacity: 0.8;
}

.option-card-base img {
    width: 100%;
    height: 100px;
    object-fit: contain;
    border-radius: 8px;
}

.option-card-base .option-label {
    font-size: 0.95rem;
    font-weight: 600;
    color: #333;
    margin-top: 8px;
}

/* --- Standard Main Image Display Heights --- */
.main-image-display {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    background: #f8f9fa;
    border-radius: 12px;
    overflow: hidden;
}

.main-image-display img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

/* --- Base Check Button Class --- */
.check-btn-base {
    padding: 12px 30px;
    font-size: 1.1rem;
    font-weight: 600;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.check-btn-base:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
}

.check-btn-base:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* --- Base Question/Text Display Class --- */
.question-text-base {
    font-size: 1.15rem;
    font-weight: 600;
    color: #333;
    text-align: center;
    padding: 10px;
    line-height: 1.5;
}

/* --- Base Highlight/Blank Class --- */
.highlight-base {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 600;
}

.blank-base {
    display: inline-block;
    min-width: 80px;
    padding: 2px 10px;
    border-bottom: 3px solid #667eea;
    text-align: center;
    font-weight: 700;
}

.blank-base.filled { border-style: solid; border-radius: 4px; }
.blank-base.correct { color: #27ae60; border-color: #27ae60; background: #e8f8f0; }
.blank-base.incorrect { color: #e74c3c; border-color: #e74c3c; background: #ffeaea; }

/* --- Base Grid/Options Layout Class --- */
.options-grid-base {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
}

.options-column-base {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
}

/* --- Base Card Item Class (for selectable cards) --- */
.card-item-base {
    position: relative;
    width: 130px;
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 12px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.card-item-base img {
    width: 100%;
    height: 100px;
    object-fit: contain;
    border-radius: 8px;
}

.card-item-base:hover:not(.correct):not(.incorrect) {
    border-color: #667eea;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.card-item-base.selected {
    border-color: #667eea;
    background: #f0f4ff;
}

.card-item-base.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.card-item-base.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

/* --- Base Fallback (no image) Class --- */
.fallback-base {
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%);
    border-radius: 8px;
    color: #9e9e9e;
    font-size: 0.85rem;
    font-weight: 500;
    text-align: center;
    padding: 10px;
}

/* Standard "No Image" placeholder - apply to all fallback elements */
.no-image-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
    border: 2px dashed #ccc;
    border-radius: 8px;
    color: #9e9e9e;
    font-size: 0.8rem;
    font-weight: 500;
    text-align: center;
    padding: 15px;
    gap: 5px;
}

.no-image-placeholder::before {
    content: 'ðŸ–¼';
    font-size: 1.5rem;
    opacity: 0.5;
}

.no-image-placeholder::after {
    content: 'No Image';
}

/* --- Base Progress Indicator Class --- */
.progress-dots-base {
    display: flex;
    justify-content: center;
    gap: 8px;
}

.progress-dot-base {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #e0e0e0;
    transition: all 0.3s ease;
}

.progress-dot-base.current { background: #667eea; transform: scale(1.2); }
.progress-dot-base.correct { background: #27ae60; }
.progress-dot-base.incorrect { background: #e74c3c; }

/* ============================================================
   END SHARED UI PATTERN BASE CLASSES
   ============================================================ */

/* Game Board Layout */
.game-board {
    display: grid;
    grid-template-columns: 260px 1fr 100px;
    height: 100vh;
    padding: 20px;
    position: relative;
    z-index: 2;
}

/* Left Panel */
.left-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding-top: 20px;
}

.player-card {
    width: 120px;
    height: 150px;
    background: linear-gradient(180deg, #FFE4B5 0%, #FFCC80 100%);
    border-radius: 20px;
    border: 5px solid #FF9800;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 0 #E65100, 0 10px 20px rgba(0, 0, 0, 0.3);
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    overflow: visible;
}

.player-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 0 #E65100, 0 15px 25px rgba(0, 0, 0, 0.35);
}

.player-card:active {
    transform: translateY(2px);
    box-shadow: 0 3px 0 #E65100;
}

.player-avatar-emoji {
    font-size: 70px;
    line-height: 1;
}

.change-hint {
    position: absolute;
    bottom: -12px;
    background: #4CAF50;
    color: white;
    font-family: 'Fredoka One', cursive;
    font-size: 11px;
    padding: 4px 12px;
    border-radius: 10px;
    box-shadow: 0 3px 0 #2E7D32;
    animation: hintPulse 2s ease-in-out infinite;
}

@keyframes hintPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.player-avatar {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Spinner Wheel */
.spinner-container {
    position: relative;
    width: 220px;
    height: 220px;
    margin: 30px auto;
}

.spinner-wheel {
    width: 220px;
    height: 220px;
    border-radius: 50%;
    position: relative;
    transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
    box-shadow:
        0 0 0 10px #8B4513,
        0 0 0 15px #654321,
        0 12px 30px rgba(0, 0, 0, 0.4);
    overflow: visible;
    background: conic-gradient(
        #F5DEB3 0deg 60deg,
        #FFB6C1 60deg 120deg,
        #87CEEB 120deg 180deg,
        #DDA0DD 180deg 240deg,
        #90EE90 240deg 300deg,
        #FFE4B5 300deg 360deg
    );
}

.spinner-section {
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 25px;
    font-family: 'Fredoka One', cursive;
    font-size: 32px;
    color: #8B0000;
    text-shadow: 2px 2px 0 white, -1px -1px 0 white;
    background: transparent;
}

.section-1 { transform: rotate(30deg); }
.section-2 { transform: rotate(90deg); }
.section-3 { transform: rotate(150deg); }
.section-4 { transform: rotate(210deg); }
.section-5 { transform: rotate(270deg); }
.section-6 { transform: rotate(330deg); }

.spinner-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70px;
    height: 70px;
    background: linear-gradient(180deg, #2a2a2a 0%, #111 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Fredoka One', cursive;
    font-size: 16px;
    color: white;
    cursor: pointer;
    z-index: 10;
    box-shadow:
        0 0 0 5px #444,
        0 5px 12px rgba(0, 0, 0, 0.5);
    transition: transform 0.2s;
    letter-spacing: 1px;
}

.spinner-center:hover {
    transform: translate(-50%, -50%) scale(1.05);
    background: linear-gradient(180deg, #3a3a3a 0%, #222 100%);
}

.spinner-pointer {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 18px solid transparent;
    border-right: 18px solid transparent;
    border-top: 35px solid #1a1a1a;
    z-index: 15;
    filter: drop-shadow(0 3px 4px rgba(0, 0, 0, 0.4));
}

.spinner-pointer::after {
    content: '';
    position: absolute;
    top: -35px;
    left: -15px;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 30px solid #333;
}

/* Decorations */
.decoration {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    font-size: 40px;
}

.candy-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    font-size: 45px;
}

/* Board Center */
.board-center {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: visible;
}

/* Story Decorations - Distributed along the path */
.story-decorations {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
}

.decor {
    position: absolute;
    filter: drop-shadow(0 3px 5px rgba(0,0,0,0.25));
    transition: transform 0.3s ease;
}

/* Different sizes for variety */
.decor.market { font-size: 50px; }
.decor.candy-jar { font-size: 35px; }
.decor.lollipop { font-size: 38px; }
.decor.child { font-size: 32px; }
.decor.snowball { font-size: 20px; }
.decor.candy-cane { font-size: 36px; }
.decor.sled { font-size: 40px; transform: rotate(-15deg); }
.decor.tree { font-size: 55px; }
.decor.skater { font-size: 30px; }
.decor.penguin { font-size: 35px; }
.decor.snowman { font-size: 50px; }
.decor.snowman-small { font-size: 35px; }
.decor.carrot { font-size: 22px; }
.decor.hot-choco { font-size: 38px; }
.decor.cookie { font-size: 28px; }
.decor.gift { font-size: 32px; }
.decor.star { font-size: 28px; animation: twinkle 2s ease-in-out infinite; }
.decor.lights { font-size: 24px; animation: twinkle 1.5s ease-in-out infinite 0.5s; }

@keyframes twinkle {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.2); }
}

/* Subtle floating animation for some decorations */
.decor.snowman,
.decor.penguin,
.decor.hot-choco {
    animation: gentle-bob 3s ease-in-out infinite;
}

@keyframes gentle-bob {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* Board Path */
.board-path {
    position: relative;
    width: 900px;
    height: 580px;
}

.board-space {
    width: 52px;
    height: 52px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Fredoka One', cursive;
    font-size: 16px;
    color: white;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    position: absolute;
    box-shadow:
        0 4px 0 rgba(0, 0, 0, 0.2),
        0 6px 10px rgba(0, 0, 0, 0.3);
}

.board-space.green {
    background: linear-gradient(180deg, #4CAF50 0%, #2E7D32 100%);
    border: 3px solid #1B5E20;
}

.board-space.orange {
    background: linear-gradient(180deg, #FF9800 0%, #E65100 100%);
    border: 3px solid #BF360C;
}

.board-space.red {
    background: linear-gradient(180deg, #F44336 0%, #C62828 100%);
    border: 3px solid #B71C1C;
}

.board-space:hover {
    transform: translateY(-3px);
    box-shadow:
        0 6px 0 rgba(0, 0, 0, 0.2),
        0 10px 15px rgba(0, 0, 0, 0.3);
}

.board-space.current {
    animation: pulse 1s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* Special Spaces with Labels */
.space-label {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.95);
    padding: 5px 10px;
    border-radius: 10px;
    font-size: 11px;
    font-family: 'Nunito', sans-serif;
    font-weight: 700;
    color: #333;
    white-space: nowrap;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.25);
    z-index: 5;
    border: 2px solid #FFB300;
}

.space-label::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-top: 8px solid white;
}

/* Finish space */
.board-space.finish {
    background: linear-gradient(180deg, #FFD700 0%, #FFA000 100%);
    border: 4px solid #FF6F00;
    width: 60px;
    height: 60px;
    font-size: 14px;
    animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
    0%, 100% { box-shadow: 0 0 10px #FFD700, 0 4px 0 rgba(0,0,0,0.2); }
    50% { box-shadow: 0 0 25px #FFD700, 0 0 40px #FFA000, 0 4px 0 rgba(0,0,0,0.2); }
}

/* Center Decoration - Gingerbread House */
.center-decoration {
    position: absolute;
    top: 45%;
    left: 55%;
    transform: translate(-50%, -50%);
    font-size: 100px;
    z-index: 0;
    opacity: 0.9;
    filter: drop-shadow(0 5px 10px rgba(0,0,0,0.3));
}

.gingerbread-house {
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* Player Token */
.player-token {
    position: absolute;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    z-index: 100;
    transition: left 0.3s ease, top 0.3s ease;
    filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
    pointer-events: none;
}

.player-token.player-1 {
    background: linear-gradient(180deg, #FFD700 0%, #FFA500 100%);
    border: 3px solid #FF8C00;
    box-shadow:
        0 0 0 3px rgba(255, 215, 0, 0.4),
        0 4px 8px rgba(0, 0, 0, 0.3);
}

/* Right Panel */
.right-panel {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end;
    padding-bottom: 50px;
}

.candy-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    font-size: 50px;
}

/* Play Overlay */
.play-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
}

.play-overlay.hidden {
    display: none;
}

.play-button {
    font-family: 'Fredoka One', cursive;
    font-size: 72px;
    color: white;
    background: linear-gradient(180deg, #FFB300 0%, #FF8F00 100%);
    border: 6px solid white;
    border-radius: 40px;
    padding: 20px 100px;
    cursor: pointer;
    box-shadow:
        0 8px 0 #E65100,
        0 12px 20px rgba(0, 0, 0, 0.3);
    transition: all 0.2s;
    text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.2);
}

.play-button:hover {
    transform: translateY(-5px);
    box-shadow:
        0 12px 0 #E65100,
        0 18px 25px rgba(0, 0, 0, 0.3);
}

.play-button:active {
    transform: translateY(3px);
    box-shadow:
        0 3px 0 #E65100,
        0 6px 10px rgba(0, 0, 0, 0.3);
}

/* Browser Link */
.browser-link {
    display: block;
    margin-top: 20px;
    font-family: 'Nunito', sans-serif;
    font-size: 18px;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
    text-decoration: none;
    padding: 10px 25px;
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 25px;
    transition: all 0.3s;
}

.browser-link:hover {
    background: rgba(255, 255, 255, 0.25);
    border-color: rgba(255, 255, 255, 0.5);
    color: white;
    transform: translateY(-2px);
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 150;
    backdrop-filter: blur(3px);
}

.modal-overlay.hidden {
    display: none;
}

.modal-content {
    background: #FDF5E6;
    border-radius: 15px;
    padding: 0;
    max-width: 750px;
    width: 92%;
    max-height: 85vh;
    overflow-y: auto;
    overflow-x: hidden;
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.5);
    border: 4px solid #8B0000;
}

.modal-header {
    background: linear-gradient(180deg, #C62828 0%, #8B0000 100%);
    color: white;
    padding: 25px 30px;
    text-align: center;
    position: relative;
    clip-path: polygon(0 0, 100% 0, 100% 85%, 95% 100%, 5% 100%, 0 85%);
    margin-bottom: 10px;
}

.modal-header::before,
.modal-header::after {
    content: '';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
}

.modal-header::before {
    left: -20px;
    border-top: 30px solid transparent;
    border-bottom: 30px solid transparent;
    border-right: 20px solid #8B0000;
}

.modal-header::after {
    right: -20px;
    border-top: 30px solid transparent;
    border-bottom: 30px solid transparent;
    border-left: 20px solid #8B0000;
}

.modal-header h2 {
    font-family: 'Fredoka One', cursive;
    font-size: 36px;
    margin-bottom: 8px;
    text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
    letter-spacing: 2px;
}

.modal-header p {
    font-size: 15px;
    opacity: 0.95;
    font-weight: 600;
    letter-spacing: 1px;
}

/* ==================== SESSION START MODAL (AI Chooses Deck) ==================== */
.session-start-modal .modal-header h2 {
    font-size: 28px;
}

.session-start-modal .modal-header p {
    font-size: 18px;
    margin-top: 8px;
}

.session-goal-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 24px 20px;
    gap: 16px;
}

.goal-icon {
    font-size: 72px;
    animation: goalPulse 2s ease-in-out infinite;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
}

@keyframes goalPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.goal-categories {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    max-width: 100%;
}

.goal-category-tag {
    background: linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 100%);
    border: 2px solid #64B5F6;
    border-radius: 20px;
    padding: 8px 16px;
    font-family: 'Fredoka One', cursive;
    font-size: 12px;
    color: #1565C0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.prompt-level-display {
    margin-top: 8px;
}

.support-level {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    background: linear-gradient(180deg, #FFF8E1 0%, #FFECB3 100%);
    border: 2px solid #FFB300;
    border-radius: 16px;
    padding: 12px 24px;
}

.support-emoji {
    font-size: 28px;
}

.support-text {
    font-family: 'Fredoka One', cursive;
    font-size: 14px;
    color: #F57C00;
    text-transform: uppercase;
}

/* Theme Selection Section (child picks visual theme) */
.theme-selection-section {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 2px dashed #ddd;
    text-align: center;
}

.theme-label {
    font-family: 'Fredoka One', cursive;
    font-size: 16px;
    color: #666;
    margin-bottom: 12px;
    text-transform: uppercase;
}

.theme-options {
    display: flex;
    justify-content: center;
    gap: 16px;
}

.theme-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 90px;
    height: 100px;
    border: 3px solid #ddd;
    border-radius: 16px;
    cursor: pointer;
    background: linear-gradient(180deg, #ffffff 0%, #f5f5f5 100%);
    transition: all 0.2s ease;
    box-shadow: 0 4px 0 #ccc;
    position: relative;
}

.theme-option:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #ccc;
}

.theme-option.selected {
    border-color: #4CAF50;
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    box-shadow: 0 4px 0 #388E3C;
}

.theme-option.selected::after {
    content: 'âœ“';
    position: absolute;
    top: -8px;
    right: -8px;
    width: 24px;
    height: 24px;
    background: #4CAF50;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 14px;
}

.theme-emoji {
    font-size: 40px;
    margin-bottom: 4px;
}

.theme-name {
    font-family: 'Fredoka One', cursive;
    font-size: 11px;
    color: #333;
    text-transform: uppercase;
}

/* Snowflake theme animation */
.theme-option[data-theme="snowflake"] .theme-emoji {
    animation: snowflakeSpin 3s linear infinite;
}

@keyframes snowflakeSpin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Bunny theme animation */
.theme-option[data-theme="bunny"] .theme-emoji {
    animation: bunnyBounce 1s ease-in-out infinite;
}

@keyframes bunnyBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* ==================== GAME THEME STYLES ==================== */

/* Snowflake Theme (Default - Winter Wonderland) */
.game-container.theme-snowflake {
    /* Uses existing winter theme styles */
}

.game-container.theme-snowflake .snowflakes {
    display: block;
}

/* ==================== BUNNY THEME (Spring Garden) ==================== */
.game-container.theme-bunny {
    background: linear-gradient(180deg, #87CEEB 0%, #98FB98 40%, #90EE90 100%);
    position: relative;
}

/* Hide snowflakes in bunny theme */
.game-container.theme-bunny .snowflakes {
    display: none;
}

/* Floating flowers animation container */
.game-container.theme-bunny::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 1;
    background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='30'%3EðŸŒ¸%3C/text%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='25'%3EðŸŒ·%3C/text%3E%3C/svg%3E"),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='20'%3EðŸ¦‹%3C/text%3E%3C/svg%3E");
    background-size: 60px 60px, 50px 50px, 40px 40px;
    background-position: 10% 20%, 80% 60%, 50% 80%;
    opacity: 0.4;
    animation: floatFlowers 20s ease-in-out infinite;
}

@keyframes floatFlowers {
    0%, 100% { background-position: 10% 20%, 80% 60%, 50% 80%; }
    25% { background-position: 20% 30%, 70% 50%, 60% 70%; }
    50% { background-position: 15% 25%, 85% 65%, 45% 85%; }
    75% { background-position: 25% 15%, 75% 55%, 55% 75%; }
}

/* Grass decoration at bottom */
.game-container.theme-bunny::after {
    content: 'ðŸŒ±ðŸŒ¿ðŸŒ¾ðŸ¥•ðŸŒ»ðŸŒ¼ðŸŒ±ðŸŒ¿ðŸŒ¾ðŸ¥•ðŸŒ»ðŸŒ¼ðŸŒ±ðŸŒ¿';
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    font-size: 28px;
    text-align: center;
    letter-spacing: 10px;
    opacity: 0.7;
    pointer-events: none;
    z-index: 1;
    padding: 8px;
    background: linear-gradient(to top, rgba(144, 238, 144, 0.5), transparent);
}

/* Game board - sunny meadow style */
.game-container.theme-bunny .game-board {
    background: linear-gradient(180deg, #FFFACD 0%, #F0E68C 50%, #BDB76B 100%);
    border: 4px solid #8B4513;
    box-shadow: 0 8px 32px rgba(139, 69, 19, 0.3), inset 0 0 60px rgba(255, 255, 255, 0.3);
}

/* Board center - grassy field */
.game-container.theme-bunny .board-center {
    background: linear-gradient(180deg, #98FB98 0%, #90EE90 50%, #7CFC00 100%);
    border: 3px dashed #228B22;
    box-shadow: inset 0 0 30px rgba(34, 139, 34, 0.2);
}

/* Board spaces - flower patches */
.game-container.theme-bunny .board-space {
    background: linear-gradient(180deg, #FFE4E1 0%, #FFC0CB 100%);
    border: 3px solid #FF69B4;
    box-shadow: 0 3px 0 #DB7093, 0 4px 8px rgba(255, 105, 180, 0.3);
}

.game-container.theme-bunny .board-space:hover {
    background: linear-gradient(180deg, #FFB6C1 0%, #FF69B4 100%);
    transform: translateY(-2px);
}

/* Player card - carrot style */
.game-container.theme-bunny .player-card {
    background: linear-gradient(180deg, #FFA07A 0%, #FF7F50 100%);
    border-color: #FF6347;
}

/* Spinner - sunflower style */
.game-container.theme-bunny .spinner-container {
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    border: 4px solid #DAA520;
    box-shadow: 0 6px 0 #B8860B, 0 8px 20px rgba(218, 165, 32, 0.4);
}

.game-container.theme-bunny .spinner-wheel {
    background: linear-gradient(135deg, #FFFACD 0%, #FFE4B5 100%);
}

.game-container.theme-bunny .spinner-center {
    background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
    color: #FFFACD;
}

/* Card modal - garden fence style */
.game-container.theme-bunny .card-modal .card-content {
    background: linear-gradient(180deg, #FFFFF0 0%, #FFFACD 100%);
    border: 4px solid #8B4513;
    box-shadow: 0 12px 40px rgba(139, 69, 19, 0.3);
}

.game-container.theme-bunny .modal-header {
    background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
}

/* Buttons - carrot orange */
.game-container.theme-bunny .next-button,
.game-container.theme-bunny .done-button {
    background: linear-gradient(180deg, #FFA500 0%, #FF8C00 100%);
    border: 3px solid #FF7F00;
    box-shadow: 0 4px 0 #CC6600, 0 6px 12px rgba(255, 140, 0, 0.4);
    color: white;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
}

.game-container.theme-bunny .next-button:hover,
.game-container.theme-bunny .done-button:hover {
    background: linear-gradient(180deg, #FFB347 0%, #FFA500 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 0 #CC6600, 0 8px 16px rgba(255, 140, 0, 0.5);
}

/* Answer input - garden style */
.game-container.theme-bunny .answer-input {
    border: 3px solid #90EE90;
    background: #FFFFF0;
}

.game-container.theme-bunny .answer-input:focus {
    border-color: #FF69B4;
    box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.3);
}

/* Score display */
.game-container.theme-bunny .score-display {
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    border-color: #DAA520;
}

.category-tabs {
    display: flex;
    justify-content: center;
    gap: 8px;
    padding: 15px 20px;
    flex-wrap: wrap;
    background: rgba(255, 255, 255, 0.5);
    margin: 0 15px;
    border-radius: 10px;
}

.category-tab {
    font-family: 'Fredoka One', cursive;
    font-size: 11px;
    padding: 10px 18px;
    border: 2px solid #555;
    border-radius: 8px;
    cursor: pointer;
    background: linear-gradient(180deg, #f5f5f5 0%, #ddd 100%);
    color: #333;
    transition: all 0.2s;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 3px 0 #999;
}

.category-tab.active {
    background: linear-gradient(180deg, #4CAF50 0%, #388E3C 100%);
    color: white;
    border-color: #2E7D32;
    box-shadow: 0 3px 0 #1B5E20;
}

.category-tab:hover:not(.active) {
    transform: translateY(-2px);
    background: linear-gradient(180deg, #fff 0%, #eee 100%);
}

.target-list {
    max-height: 280px;
    overflow-y: auto;
    padding: 15px 25px;
    background: #FFFEF5;
    margin: 15px 20px;
    border-radius: 12px;
    border: 3px solid #D4C896;
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
}

.target-list::-webkit-scrollbar {
    width: 10px;
}

.target-list::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 5px;
}

.target-list::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 5px;
}

.target-item {
    display: flex;
    align-items: center;
    padding: 12px 10px;
    border-bottom: 1px solid #E8E0C8;
    cursor: pointer;
    transition: background 0.2s;
    border-radius: 5px;
}

.target-item:hover {
    background: #FFF8DC;
}

.target-item:last-child {
    border-bottom: none;
}

.target-checkbox {
    width: 22px;
    height: 22px;
    margin-right: 15px;
    cursor: pointer;
    accent-color: #4CAF50;
}

.target-label {
    font-size: 17px;
    color: #333;
    font-weight: 500;
}

.target-section-header {
    font-family: 'Fredoka One', cursive;
    font-size: 16px;
    color: #2E7D32;
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    padding: 10px 15px;
    margin: 0;
    border-bottom: 2px solid #4CAF50;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Styling for categories without card data */
.target-item.no-cards {
    opacity: 0.6;
    cursor: not-allowed;
}

.target-item.no-cards:hover {
    background: transparent;
}

.target-item.no-cards .target-label {
    color: #c0392b;
    font-style: italic;
}

.target-item.no-cards .target-checkbox {
    cursor: not-allowed;
    accent-color: #ccc;
}

.next-button {
    display: block;
    margin: 20px auto 25px;
    font-family: 'Fredoka One', cursive;
    font-size: 20px;
    padding: 14px 60px;
    background: linear-gradient(180deg, #4CAF50 0%, #2E7D32 100%);
    color: white;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 5px 0 #1B5E20, 0 8px 15px rgba(0, 0, 0, 0.2);
    transition: all 0.2s;
    letter-spacing: 1px;
}

.next-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 0 #1B5E20, 0 12px 20px rgba(0, 0, 0, 0.25);
}

.next-button:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #1B5E20;
}

/* Question Card - Centered Modal (Child-friendly) */
.card-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    pointer-events: auto;
}

.card-modal.hidden {
    display: none;
}

.card-modal.hidden .card-content {
    transform: scale(0.8);
    opacity: 0;
}

.card-content {
    pointer-events: auto;
    background: linear-gradient(180deg, #FFF9E6 0%, #FFE4B5 100%);
    border-radius: 30px;
    padding: 25px 30px 30px;
    max-width: 800px;
    width: 90%;
    max-height: 85vh;
    overflow-y: auto;
    margin: 0 auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    border: 6px solid #FF9800;
    position: relative;
    transform: scale(1);
    opacity: 1;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease;
}

/* Fun decorative top handle */
.card-content::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 6px;
    background: rgba(255, 152, 0, 0.5);
    border-radius: 10px;
}

.card-header {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
    position: relative;
}

.card-category {
    font-family: 'Fredoka One', cursive;
    font-size: 28px;
    color: #E65100;
    text-shadow: 2px 2px 0 white;
    background: linear-gradient(180deg, #FFF 0%, #FFE0B2 100%);
    padding: 8px 30px;
    border-radius: 20px;
    border: 3px solid #FF9800;
}

.card-close {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 3px solid #78909C;
    background: linear-gradient(180deg, #90A4AE 0%, #607D8B 100%);
    color: white;
    font-size: 22px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    box-shadow: 0 3px 0 #455A64;
}

.card-close:hover {
    transform: translateY(-50%) scale(1.1);
}

.card-question {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 26px;
    color: #5D4037;
    text-align: center;
    margin-bottom: 20px;
    background: white;
    padding: 15px 25px;
    border-radius: 20px;
    border: 4px dashed #FFCC80;
}

.card-images {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 20px;
}

.image-pair {
    text-align: center;
}

.word-label {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 20px;
    color: #5D4037;
    margin-bottom: 10px;
    background: #FFCC80;
    padding: 5px 20px;
    border-radius: 15px;
    display: inline-block;
}

.answer-label {
    background: #90CAF9 !important;
    color: #1565C0 !important;
}

.image-box {
    width: 280px;
    height: 220px;
    border-radius: 20px;
    overflow: hidden;
    border: 5px solid #8D6E63;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 0 #5D4037, 0 10px 20px rgba(0, 0, 0, 0.2);
    font-size: 50px;
}

.image-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Sequencing layout for 3-image cards */
.card-images.sequencing-layout {
    display: flex;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: flex-start;
    gap: 15px;
}

.card-images.sequencing-layout .image-pair {
    flex: 0 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.card-images.sequencing-layout .image-pair .word-label {
    display: none;
}

.card-images.sequencing-layout .image-box {
    width: 160px;
    height: 130px;
}

/* Before-After layout with arrow */
.card-images.before-after-layout {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    position: relative;
}

.card-images.before-after-layout::after {
    content: 'â†’';
    font-size: 48px;
    font-weight: bold;
    color: #333;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    background: white;
    padding: 0 10px;
}

.card-images.before-after-layout .image-pair {
    flex: 0 0 auto;
}

.card-images.before-after-layout .word-label {
    background: #4CAF50 !important;
    color: white !important;
}

.card-images.before-after-layout .answer-label {
    background: #2196F3 !important;
    color: white !important;
}

/* Multiple Choice Container */
.multiple-choice-container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin: 15px 0;
    padding: 10px;
}

.choice-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 20px;
    background: #f8f9fa;
    border: 3px solid #dee2e6;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 18px;
    text-align: left;
}

.choice-btn:hover {
    background: #e3f2fd;
    border-color: #2196F3;
    transform: translateX(5px);
}

.choice-btn.selected {
    background: #bbdefb;
    border-color: #1976D2;
}

.choice-btn.correct {
    background: #c8e6c9;
    border-color: #4CAF50;
}

.choice-btn.incorrect {
    background: #ffcdd2;
    border-color: #f44336;
}

.choice-letter {
    font-family: 'Fredoka One', cursive;
    font-size: 20px;
    color: #1976D2;
    min-width: 25px;
}

.choice-text {
    color: #333;
}

/* Sentence Building Container */
.sentence-building-container {
    margin: 15px 0;
    padding: 15px;
}

.sentence-display {
    min-height: 60px;
    background: #f5f5f5;
    border: 3px dashed #ccc;
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 8px;
}

.sentence-placeholder {
    color: #999;
    font-style: italic;
    font-family: 'OpenDyslexic', sans-serif;
}

.sentence-word {
    background: #4CAF50;
    color: white;
    padding: 8px 14px;
    border-radius: 8px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 18px;
    font-weight: bold;
    animation: wordPop 0.2s ease;
}

@keyframes wordPop {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.word-boxes {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-bottom: 15px;
}

.word-box {
    min-width: 80px;
    padding: 15px 20px;
    background: white;
    border: 3px solid #333;
    border-radius: 10px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 20px;
    font-weight: bold;
    color: #333;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

.word-box:hover {
    background: #e3f2fd;
    border-color: #2196F3;
    transform: translateY(-3px);
}

.word-box.used {
    background: #e0e0e0;
    border-color: #bdbdbd;
    color: #9e9e9e;
    cursor: not-allowed;
    transform: none;
}

.word-box.has-image {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 10px;
}

.word-box.has-image img {
    width: 80px;
    height: 60px;
    object-fit: cover;
    border-radius: 5px;
    margin-bottom: 5px;
}

.clear-sentence-btn {
    background: #ff9800;
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 25px;
    font-family: 'Fredoka One', cursive;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.clear-sentence-btn:hover {
    background: #f57c00;
    transform: scale(1.05);
}

/* Category Grid Container */
.category-grid-container {
    margin: 15px 0;
    padding: 10px;
}

.category-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: 15px;
    max-width: 650px;
    margin: 0 auto;
}

.category-item {
    background: white;
    border: 3px solid #333;
    border-radius: 10px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: all 0.2s ease;
}

.category-item:hover {
    border-color: #2196F3;
    transform: scale(1.02);
}

.category-item img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 6px;
}

.category-item-label {
    margin-top: 5px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 12px;
    color: #333;
    text-align: center;
    font-weight: bold;
}

/* Comparatives-Superlatives Container */
.comparatives-container {
    width: 100%;
    max-width: 700px;
    margin: 15px auto;
    text-align: center;
}

.comparatives-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 15px;
}

.comparatives-item {
    background: #fff;
    border: 3px solid #333;
    border-radius: 10px;
    padding: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.comparatives-item img {
    width: 100%;
    height: 130px;
    object-fit: cover;
    border-radius: 6px;
}

.comparatives-item-label {
    margin-top: 8px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 13px;
    color: #333;
    text-align: center;
    font-weight: bold;
}

.comparatives-word {
    font-family: 'Fredoka One', cursive;
    font-size: 28px;
    color: #333;
    background: #fff3cd;
    padding: 10px 25px;
    border-radius: 15px;
    display: inline-block;
    border: 3px solid #ffc107;
    margin-top: 5px;
}

.comparatives-inputs {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 15px;
}

.comparatives-input-group {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.comparatives-input-group label {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 16px;
    font-weight: bold;
    color: #333;
    margin-bottom: 5px;
}

.comparatives-field {
    width: 160px;
    padding: 12px 15px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 18px;
    border: 3px solid #1976D2;
    border-radius: 10px;
    text-align: center;
    outline: none;
    transition: border-color 0.3s, box-shadow 0.3s;
}

.comparatives-field:focus {
    border-color: #4CAF50;
    box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
}

.comparatives-field.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.comparatives-field.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Compare and Contrast Container */
.compare-contrast-container {
    width: 100%;
    max-width: 700px;
    margin: 10px auto;
}

.compare-questions {
    text-align: left;
    margin-bottom: 15px;
}

.compare-question {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 16px;
    color: #333;
    margin-bottom: 5px;
    font-weight: bold;
}

.compare-images {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 15px;
}

.compare-inputs {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.compare-input-group {
    display: flex;
    flex-direction: column;
}

.compare-input-group label {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 15px;
    font-weight: bold;
    color: #333;
    margin-bottom: 4px;
}

.compare-field {
    width: 100%;
    padding: 10px 12px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 15px;
    border: 3px solid #1976D2;
    border-radius: 8px;
    resize: none;
    min-height: 50px;
    outline: none;
    transition: border-color 0.3s, box-shadow 0.3s;
}

.compare-field:focus {
    border-color: #4CAF50;
    box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
}

.compare-field.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.compare-field.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* ==================== [1] CONDITIONAL FOLLOWING DIRECTIONS ==================== */
.conditional-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 20px;
}

.conditional-statement {
    font-family: 'Fredoka One', cursive;
    font-size: 1.3rem;
    color: #333;
    text-align: center;
    padding: 15px 20px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-radius: 12px;
    border-left: 5px solid #ff9800;
    max-width: 90%;
    line-height: 1.5;
}

.conditional-buttons {
    display: flex;
    gap: 20px;
    margin-top: 10px;
}

.conditional-btn {
    padding: 15px 30px;
    font-family: 'Fredoka One', cursive;
    font-size: 1.2rem;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.conditional-btn.did-it {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
}

.conditional-btn.did-it:hover {
    background: linear-gradient(135deg, #45a049 0%, #3d8b40 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(76, 175, 80, 0.4);
}

.conditional-btn.didnt-do {
    background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
    color: white;
}

.conditional-btn.didnt-do:hover {
    background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(33, 150, 243, 0.4);
}

.conditional-btn.correct {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%) !important;
    animation: pulse-correct 0.5s ease;
}

.conditional-btn.incorrect {
    background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%) !important;
    animation: shake 0.5s ease;
}

@keyframes pulse-correct {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* ==================== [2] CONTEXT CLUES ==================== */
.context-clues-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.context-clues-title {
    font-family: 'Fredoka One', cursive;
    font-size: 1.5rem;
    color: #1976D2;
    text-align: center;
    padding-bottom: 10px;
    border-bottom: 3px solid #1976D2;
}

.context-clues-content {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}

.context-clues-paragraph {
    flex: 1;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    line-height: 1.7;
    color: #333;
    background: #f8f9fa;
    padding: 15px;
    border-radius: 10px;
    border-left: 4px solid #2196F3;
}

.context-clues-paragraph strong {
    color: #1976D2;
    font-weight: 700;
    font-style: italic;
    background: linear-gradient(120deg, #e3f2fd 0%, #bbdefb 100%);
    padding: 2px 6px;
    border-radius: 4px;
}

.context-clues-question {
    font-family: 'Fredoka One', cursive;
    font-size: 1.2rem;
    color: #333;
    text-align: center;
    padding: 12px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-radius: 10px;
    border-left: 5px solid #ff9800;
}

.context-clues-question span {
    color: #1976D2;
    font-style: italic;
}

.context-clues-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.context-choice-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 18px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
}

.context-choice-btn:hover {
    border-color: #2196F3;
    background: #e3f2fd;
    transform: translateX(5px);
}

.context-choice-btn .choice-letter {
    font-family: 'Fredoka One', cursive;
    font-size: 1.1rem;
    color: #1976D2;
    min-width: 30px;
}

.context-choice-btn.selected {
    border-color: #2196F3;
    background: #e3f2fd;
    box-shadow: 0 0 10px rgba(33, 150, 243, 0.3);
}

.context-choice-btn.correct {
    border-color: #4CAF50;
    background: #e8f5e9;
    animation: pulse-correct 0.5s ease;
}

.context-choice-btn.incorrect {
    border-color: #f44336;
    background: #ffebee;
    animation: shake 0.5s ease;
}

/* Context Clues - Sentence Style (image on top, text below) */
.context-clues-container.sentence-style .context-clues-content {
    flex-direction: column;
    align-items: center;
}

.context-clues-container.sentence-style .context-clues-image-box {
    width: 220px;
    height: 170px;
    margin-bottom: 15px;
}

.context-clues-container.sentence-style .context-clues-paragraph {
    text-align: center;
    border-left: none;
    border-bottom: 4px solid #2196F3;
    font-size: 1.1rem;
}

/* Short Paragraph style - similar to regular but no word question */
.context-clues-container.short-paragraph-style .context-clues-question {
    display: none;
}

.context-clues-container.short-paragraph-style .context-clues-choices {
    margin-top: 10px;
}

/* ==================== [3] FILL IN THE BLANK ==================== */
.fill-blank-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.fill-blank-title {
    font-family: 'Fredoka One', cursive;
    font-size: 1.4rem;
    color: #1976D2;
    text-align: center;
    padding-bottom: 10px;
    border-bottom: 3px solid #1976D2;
}

.fill-blank-paragraph {
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    line-height: 1.8;
    color: #333;
    background: #f8f9fa;
    padding: 18px;
    border-radius: 12px;
    border-left: 4px solid #ff9800;
    text-align: justify;
}

.fill-blank-input-section {
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: center;
}

.fill-blank-input-section label {
    font-family: 'Fredoka One', cursive;
    font-size: 1.1rem;
    color: #333;
}

.fill-blank-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.fill-blank-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* ==================== [4] COORDINATING CONJUNCTIONS ==================== */
.conjunction-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
}

.conjunction-sentence {
    font-family: 'Nunito', sans-serif;
    font-size: 1.2rem;
    color: #333;
    text-align: center;
    padding: 15px;
    line-height: 1.6;
    max-width: 90%;
}

.conjunction-input-section {
    display: flex;
    justify-content: center;
    width: 100%;
}

.conjunction-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.conjunction-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* ==================== [5] DESCRIBE THE SCENE ==================== */
.describe-scene-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 15px;
}

.describe-scene-input-section {
    width: 100%;
    display: flex;
    justify-content: center;
}

.describe-scene-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.describe-scene-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* ==================== [6] DESCRIBING ==================== */
.describing-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
    width: 100%;
}

/* Progress Indicator for Describing */
.describing-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    margin-bottom: 10px;
}

/* Questions container */
.describing-questions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    width: 100%;
    max-width: 450px;
}

/* Question row */
.describing-question-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 12px;
    width: 100%;
    padding: 10px 15px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 2px solid #e0e0e0;
    transition: all 0.3s ease;
}

.describing-question {
    flex: 1;
    font-family: 'Nunito', sans-serif;
    font-size: 1.1rem;
    font-weight: 500;
    color: #333;
    line-height: 1.4;
    min-width: 150px;
}

/* Input wrapper */
.desc-input-wrapper {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
    min-width: 120px;
}

.describing-answer-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.describing-answer-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Checkmark */
.desc-checkmark {
    position: absolute;
    right: 8px;
    width: 22px;
    height: 22px;
    opacity: 0;
    transition: all 0.3s ease;
}

.desc-checkmark.visible::after {
    content: '\2713';
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    background: #4CAF50;
    color: white;
    border-radius: 50%;
    font-size: 12px;
    font-weight: bold;
    animation: checkPop 0.3s ease-out;
}

.desc-checkmark.visible {
    opacity: 1;
}

/* Next button */
.desc-next-btn {
    padding: 6px 16px;
    background: linear-gradient(180deg, #4CAF50 0%, #43A047 100%);
    color: white;
    border: none;
    border-radius: 18px;
    font-family: 'Nunito', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 0 #2E7D32, 0 3px 6px rgba(0,0,0,0.2);
    opacity: 0.5;
    pointer-events: none;
    white-space: nowrap;
}

.desc-next-btn.enabled {
    opacity: 1;
    pointer-events: auto;
}

.desc-next-btn.enabled:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 0 #2E7D32, 0 4px 8px rgba(0,0,0,0.25);
}

.desc-next-btn.enabled:active {
    transform: translateY(1px);
    box-shadow: 0 1px 0 #2E7D32, 0 2px 4px rgba(0,0,0,0.2);
}

.desc-next-btn.hidden {
    display: none;
}

/* Encouragement */
.desc-encouragement {
    min-height: 28px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    color: #4CAF50;
    text-align: center;
}

/* Progressive reveal states */
.describing-question-row.desc-row-hidden {
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    max-height: 0;
    overflow: hidden;
    margin: 0;
    padding: 0;
    border: none;
}

.describing-question-row.desc-row-revealed {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    max-height: 100px;
    animation: revealQuestion 0.4s ease-out forwards;
}

.describing-question-row.desc-row-active {
    border-color: #2196F3;
    background: rgba(33, 150, 243, 0.08);
}

.describing-question-row.desc-row-active .describing-question {
    color: #1976D2;
    font-weight: 600;
}

.describing-question-row.desc-row-completed {
    opacity: 0.7;
    border-color: #4CAF50;
    background: #f5f5f5;
}

/* ==================== [7] DESCRIBING - MORE ADVANCED ==================== */
.describing-advanced-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 15px;
    width: 100%;
}

.describing-advanced-questions {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    max-width: 600px;
}

.describing-advanced-question-row {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 10px 15px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 2px solid #e0e0e0;
}

.describing-advanced-question {
    flex: 1;
    font-family: 'Nunito', sans-serif;
    font-size: 1.1rem;
    font-weight: 500;
    color: #333;
    min-width: 200px;
}

.describing-advanced-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.describing-advanced-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

.describing-advanced-question-row.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.describing-advanced-question-row.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Progress Indicator for Describing Advanced */
.describing-adv-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    margin-bottom: 15px;
}

.desc-progress-step {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: #e0e0e0;
    color: #999;
    font-family: 'Nunito', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.desc-progress-step.active {
    background: #2196F3;
    color: white;
    transform: scale(1.1);
    box-shadow: 0 2px 8px rgba(33, 150, 243, 0.4);
}

.desc-progress-step.completed {
    background: #4CAF50;
    color: white;
}

.desc-progress-step.completed::after {
    content: '\2713';
    font-size: 0.9rem;
}

.desc-progress-line {
    width: 20px;
    height: 3px;
    background: #e0e0e0;
    border-radius: 2px;
    transition: background 0.3s ease;
}

.desc-progress-line.completed {
    background: #4CAF50;
}

/* Input wrapper with checkmark for Describing Advanced */
.desc-adv-input-wrapper {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
    min-width: 150px;
}

.desc-adv-input-wrapper .describing-advanced-input {
    width: 100%;
    padding-right: 35px;
}

.desc-adv-checkmark {
    position: absolute;
    right: 8px;
    width: 22px;
    height: 22px;
    opacity: 0;
    transition: all 0.3s ease;
}

.desc-adv-checkmark.visible::after {
    content: '\2713';
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    background: #4CAF50;
    color: white;
    border-radius: 50%;
    font-size: 12px;
    font-weight: bold;
    animation: checkPop 0.3s ease-out;
}

.desc-adv-checkmark.visible {
    opacity: 1;
}

/* Next button for Describing Advanced */
.desc-adv-next-btn {
    padding: 6px 16px;
    background: linear-gradient(180deg, #4CAF50 0%, #43A047 100%);
    color: white;
    border: none;
    border-radius: 18px;
    font-family: 'Nunito', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 2px 0 #2E7D32, 0 3px 6px rgba(0,0,0,0.2);
    opacity: 0.5;
    pointer-events: none;
    white-space: nowrap;
}

.desc-adv-next-btn.enabled {
    opacity: 1;
    pointer-events: auto;
}

.desc-adv-next-btn.enabled:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 0 #2E7D32, 0 4px 8px rgba(0,0,0,0.25);
}

.desc-adv-next-btn.enabled:active {
    transform: translateY(1px);
    box-shadow: 0 1px 0 #2E7D32, 0 2px 4px rgba(0,0,0,0.2);
}

.desc-adv-next-btn.hidden {
    display: none;
}

/* Encouragement message for Describing Advanced */
.desc-adv-encouragement {
    min-height: 28px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    color: #4CAF50;
    text-align: center;
    animation: fadeInUp 0.4s ease-out;
}

/* Progressive reveal for Describing Advanced questions */
.describing-advanced-question-row.desc-adv-hidden {
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    max-height: 0;
    overflow: hidden;
    margin: 0;
    padding: 0;
    border: none;
}

.describing-advanced-question-row.desc-adv-revealed {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    max-height: 100px;
    animation: revealQuestion 0.4s ease-out forwards;
}

/* Active row styling for Describing Advanced */
.describing-advanced-question-row.desc-adv-active {
    border-color: #2196F3;
    background: rgba(33, 150, 243, 0.08);
}

.describing-advanced-question-row.desc-adv-active .describing-advanced-question {
    color: #1976D2;
    font-weight: 600;
}

/* Completed row styling for Describing Advanced */
.describing-advanced-question-row.desc-adv-completed {
    opacity: 0.7;
    border-color: #4CAF50;
    background: #f5f5f5;
}

/* ==================== [8] DESCRIPTIVE WORDS - OPPOSITES ==================== */
.descriptive-opposites-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    width: 100%;
}

.descriptive-opposites-layout {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 30px;
    width: 100%;
    max-width: 700px;
}

.descriptive-opposites-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.descriptive-opposites-label {
    font-family: 'Nunito', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: #333;
    text-align: center;
}

.descriptive-opposites-vs {
    font-family: 'Fredoka One', cursive;
    font-size: 1.8rem;
    color: #666;
    padding: 0 10px;
}

.descriptive-opposites-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.descriptive-opposites-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

.descriptive-opposites-answer {
    color: #4CAF50;
    font-weight: 700;
}

/* ==================== [9] DO VS DOES ==================== */
.do-does-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 15px;
    width: 100%;
}

.do-does-sentence {
    font-family: 'Nunito', sans-serif;
    font-size: 1.4rem;
    font-weight: 500;
    color: #333;
    text-align: center;
    line-height: 1.5;
    max-width: 500px;
}

.do-does-choices {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: flex-start;
}

.do-does-choice {
    font-family: 'Nunito', sans-serif;
    font-size: 1.3rem;
    font-weight: 600;
    color: #333;
    background: #f5f5f5;
    border: 3px solid #e0e0e0;
    border-radius: 12px;
    padding: 12px 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 150px;
    text-align: left;
}

.do-does-choice:hover {
    background: #e3f2fd;
    border-color: #2196F3;
    transform: translateX(5px);
}

.do-does-choice.selected {
    background: #e3f2fd;
    border-color: #2196F3;
}

.do-does-choice.correct {
    background: #e8f5e9;
    border-color: #4CAF50;
    color: #2e7d32;
}

.do-does-choice.incorrect {
    background: #ffebee;
    border-color: #f44336;
    color: #c62828;
}

/* ==================== [10] HAS VS HAVE ==================== */
.has-have-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 15px;
    width: 100%;
}

.has-have-sentence {
    font-family: 'OpenDyslexic', 'Nunito', sans-serif;
    font-size: 1.4rem;
    font-weight: 500;
    color: #333;
    text-align: center;
    line-height: 1.6;
    max-width: 500px;
    padding: 15px 20px;
    background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
    border-radius: 15px;
    box-shadow: 0 3px 10px rgba(76, 175, 80, 0.15);
}

.has-have-sentence .blank-highlight {
    color: #2E7D32;
    font-weight: bold;
    background: #FFEB3B;
    padding: 2px 8px;
    border-radius: 5px;
}

.has-have-choices {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: flex-start;
}

.has-have-choice {
    font-family: 'Nunito', sans-serif;
    font-size: 1.3rem;
    font-weight: 600;
    color: #333;
    background: #f5f5f5;
    border: 3px solid #4CAF50;
    border-radius: 12px;
    padding: 12px 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 150px;
    text-align: left;
}

.has-have-choice:hover {
    background: #E8F5E9;
    border-color: #2E7D32;
    transform: translateX(5px);
}

.has-have-choice.selected {
    background: #E8F5E9;
    border-color: #2E7D32;
}

.has-have-choice.correct {
    background: #e8f5e9;
    border-color: #4CAF50;
    color: #2e7d32;
}

.has-have-choice.incorrect {
    background: #ffebee;
    border-color: #f44336;
    color: #c62828;
}

/* ==================== [11] EXPANDING SENTENCES ==================== */
.expanding-sentences-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 25px;
    padding: 15px;
    width: 100%;
}

.expanding-sentences-questions {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    width: 100%;
    max-width: 400px;
}

.expanding-sentences-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 12px;
    width: 100%;
    padding: 8px 12px;
    transition: all 0.3s ease;
}

.expanding-sentences-label {
    font-family: 'Nunito', sans-serif;
    font-size: 1.3rem;
    font-weight: 700;
    color: #333;
    min-width: 70px;
    text-align: right;
}

.expanding-input-wrapper {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
}

.expanding-sentences-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.expanding-sentences-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Progress Indicator for Expanding Sentences */
.expanding-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-bottom: 15px;
}

.progress-step {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: #e0e0e0;
    color: #999;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.progress-step.active {
    background: #2196F3;
    color: white;
    transform: scale(1.1);
    box-shadow: 0 2px 8px rgba(33, 150, 243, 0.4);
}

.progress-step.completed {
    background: #4CAF50;
    color: white;
}

.progress-step.completed::after {
    content: '\2713';
    font-size: 1.1rem;
}

.progress-step.completed span {
    display: none;
}

.progress-line {
    width: 30px;
    height: 4px;
    background: #e0e0e0;
    border-radius: 2px;
    transition: background 0.3s ease;
}

.progress-line.completed {
    background: #4CAF50;
}

/* Checkmark for completed answers */
.expanding-checkmark {
    position: absolute;
    right: 10px;
    width: 24px;
    height: 24px;
    opacity: 0;
    transition: all 0.3s ease;
}

.expanding-checkmark.visible::after {
    content: '\2713';
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: #4CAF50;
    color: white;
    border-radius: 50%;
    font-size: 14px;
    font-weight: bold;
    animation: checkPop 0.3s ease-out;
}

.expanding-checkmark.visible {
    opacity: 1;
}

@keyframes checkPop {
    0% { transform: scale(0); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* Next button for each question */
.expanding-next-btn {
    padding: 8px 20px;
    background: linear-gradient(180deg, #4CAF50 0%, #43A047 100%);
    color: white;
    border: none;
    border-radius: 20px;
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 3px 0 #2E7D32, 0 4px 8px rgba(0,0,0,0.2);
    opacity: 0.5;
    pointer-events: none;
}

.expanding-next-btn.enabled {
    opacity: 1;
    pointer-events: auto;
}

.expanding-next-btn.enabled:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 0 #2E7D32, 0 6px 12px rgba(0,0,0,0.25);
}

.expanding-next-btn.enabled:active {
    transform: translateY(2px);
    box-shadow: 0 1px 0 #2E7D32, 0 2px 4px rgba(0,0,0,0.2);
}

.expanding-next-btn.hidden {
    display: none;
}

/* Encouragement message */
.expanding-encouragement {
    min-height: 30px;
    font-family: 'Nunito', sans-serif;
    font-size: 1.1rem;
    font-weight: 600;
    color: #4CAF50;
    text-align: center;
    animation: fadeInUp 0.4s ease-out;
}

@keyframes fadeInUp {
    0% { opacity: 0; transform: translateY(10px); }
    100% { opacity: 1; transform: translateY(0); }
}

/* Progressive reveal for Who/What/Where questions */
.expanding-sentences-row.expanding-hidden {
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    max-height: 0;
    overflow: hidden;
    margin: 0;
    padding: 0;
}

.expanding-sentences-row.expanding-revealed {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
    max-height: 150px;
    animation: revealQuestion 0.4s ease-out forwards;
}

/* Active row styling */
.expanding-sentences-row.expanding-active {
    background: rgba(33, 150, 243, 0.08);
    border-radius: 12px;
    padding: 10px;
    margin: -10px;
    margin-bottom: 5px;
}

.expanding-sentences-row.expanding-active .expanding-sentences-label {
    color: #1976D2;
}

/* Completed row styling */
.expanding-sentences-row.expanding-completed {
    opacity: 0.7;
}

.expanding-sentences-row.expanding-completed .expanding-sentences-input {
    background: #f5f5f5;
    border-color: #4CAF50;
}

@keyframes revealQuestion {
    0% {
        opacity: 0;
        transform: translateY(-15px) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* ==================== [12] FIGURATIVE LANGUAGE (IDIOMS) ==================== */
.figurative-language-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 10px;
    width: 100%;
    max-width: 700px;
    margin: 0 auto;
}

.idiom-instruction {
    font-family: 'Nunito', sans-serif;
    font-size: 1rem;
    font-style: italic;
    color: #555;
    text-align: center;
    padding: 8px 15px;
    background: #f5f5f5;
    border-radius: 10px;
    border-left: 4px solid #1976D2;
}

.idiom-paragraph {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 1.05rem;
    line-height: 1.7;
    color: #333;
    text-align: left;
    padding: 15px 20px;
    background: #FFFDE7;
    border-radius: 12px;
    border: 2px solid #FFF176;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.idiom-paragraph .idiom-highlight {
    color: #1976D2;
    font-weight: 700;
    font-style: italic;
    background: linear-gradient(180deg, transparent 60%, #BBDEFB 60%);
    padding: 0 3px;
}

.idiom-question {
    font-family: 'Nunito', sans-serif;
    font-size: 1.15rem;
    font-weight: 700;
    color: #333;
    text-align: center;
    padding: 12px 15px;
    background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
    border-radius: 12px;
    border: 2px solid #81C784;
}

.idiom-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 500px;
}

.idiom-choice {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 18px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 1rem;
    color: #333;
    background: white;
    border: 3px solid #BDBDBD;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
}

.idiom-choice:hover {
    border-color: #1976D2;
    background: #E3F2FD;
    transform: translateX(5px);
}

.idiom-choice:active {
    transform: scale(0.98);
}

.idiom-choice.selected {
    border-color: #1976D2;
    background: #E3F2FD;
    box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.2);
}

.idiom-choice.correct {
    border-color: #4CAF50;
    background: #E8F5E9;
    color: #2E7D32;
    animation: correctPulse 0.5s ease;
}

.idiom-choice.incorrect {
    border-color: #f44336;
    background: #FFEBEE;
    color: #C62828;
    animation: shake 0.4s ease;
}

.idiom-choice.disabled {
    pointer-events: none;
    opacity: 0.7;
}

@keyframes correctPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

/* Mobile responsiveness for idioms */
@media (max-width: 600px) {
    .idiom-title {
        font-size: 1.2rem;
    }

    .idiom-paragraph {
        font-size: 0.95rem;
        padding: 12px 15px;
    }

    .idiom-question {
        font-size: 1rem;
    }

    .idiom-choice {
        padding: 12px 15px;
        font-size: 0.95rem;
    }
}

/* Picture number badges for sequencing */
.picture-number {
    display: none;
    width: 36px;
    height: 36px;
    background: #1976D2;
    color: white;
    border-radius: 50%;
    font-family: 'Fredoka One', cursive;
    font-size: 20px;
    line-height: 36px;
    text-align: center;
    margin: 10px auto 0;
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
}

.card-images.sequencing-layout .picture-number {
    display: block;
}

/* Sequencing questions section */
.sequencing-questions {
    text-align: left;
    margin: 15px 0;
    padding: 15px 20px;
    background: #f5f5f5;
    border-radius: 10px;
}

.sequence-question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin: 12px 0;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 16px;
    color: #333;
}

.sequence-question strong {
    color: #1976D2;
}

.sequence-input {
    width: 50px;
    height: 50px;
    border: 3px solid #1976D2;
    border-radius: 10px;
    font-family: 'Fredoka One', cursive;
    font-size: 24px;
    text-align: center;
    color: #1976D2;
    background: white;
    outline: none;
    transition: all 0.2s;
}

.sequence-input:focus {
    border-color: #FF9800;
    box-shadow: 0 0 10px rgba(255, 152, 0, 0.3);
}

.sequence-input.correct {
    border-color: #4CAF50;
    background: #E8F5E9;
    color: #4CAF50;
}

.sequence-input.incorrect {
    border-color: #f44336;
    background: #FFEBEE;
    color: #f44336;
    font-style: italic;
}

.answer-input-container {
    text-align: center;
    margin-bottom: 15px;
}

.answer-input {
    width: 60%;
    padding: 12px 25px;
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 22px;
    border: 4px solid #8D6E63;
    border-radius: 25px;
    text-align: center;
    outline: none;
    transition: all 0.2s;
    background: white;
    color: #5D4037;
}

.answer-input:focus {
    border-color: #FF9800;
    box-shadow: 0 0 0 4px rgba(255, 152, 0, 0.3);
}

.answer-input::placeholder {
    color: #BCAAA4;
}

.card-tools {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
}

.tool-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 3px solid #E65100;
    background: linear-gradient(180deg, #FFB74D 0%, #FF9800 100%);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    transition: all 0.2s;
    box-shadow: 0 3px 0 #BF360C;
}

.tool-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 0 #BF360C;
}

.text-btn {
    font-family: 'Georgia', serif;
    font-size: 24px;
    font-weight: bold;
    color: #8B0000;
}

.done-button {
    font-family: 'Fredoka One', cursive;
    font-size: 24px;
    padding: 15px 60px;
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 6px 0 #2E7D32, 0 10px 20px rgba(0, 0, 0, 0.2);
    transition: all 0.2s;
    letter-spacing: 1px;
}

.done-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 9px 0 #2E7D32, 0 15px 25px rgba(0, 0, 0, 0.25);
}

.done-button:active {
    transform: translateY(3px);
    box-shadow: 0 2px 0 #2E7D32;
}

.feedback-message {
    text-align: center;
    margin-top: 15px;
    font-family: 'Fredoka One', cursive;
    font-size: 24px;
    min-height: 40px;
    padding: 12px 20px;
    border-radius: 15px;
}

.feedback-message.correct {
    color: white;
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    box-shadow: 0 4px 0 #2E7D32;
}

.feedback-message.incorrect {
    color: white;
    background: linear-gradient(180deg, #EF5350 0%, #E53935 100%);
    box-shadow: 0 4px 0 #C62828;
}

/* Game Controls */
.game-controls {
    position: fixed;
    bottom: 25px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 12px;
    z-index: 10001; /* Above focus-card-overlay (10000) to stay visible */
}

.game-controls.hidden {
    display: none;
}

.control-btn {
    font-family: 'Fredoka One', cursive;
    font-size: 22px;
    padding: 18px 40px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25);
    letter-spacing: 1px;
}

.spin-btn {
    background: linear-gradient(180deg, #FFB300 0%, #FF8F00 100%);
    color: white;
}

/* Disabled spin button state (during Focus Card) */
.spin-btn:disabled,
.spin-btn.disabled {
    background: linear-gradient(180deg, #bdbdbd 0%, #9e9e9e 100%);
    color: rgba(255, 255, 255, 0.6);
    cursor: not-allowed;
    transform: none !important;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    opacity: 0.7;
}

.spin-btn:disabled:hover,
.spin-btn.disabled:hover {
    transform: none !important;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
}

.reset-btn {
    background: linear-gradient(180deg, #78909C 0%, #546E7A 100%);
    color: white;
}

.home-btn {
    background: linear-gradient(180deg, #5C6BC0 0%, #3949AB 100%);
    color: white;
}

.help-btn {
    background: linear-gradient(180deg, #FF7043 0%, #F4511E 100%);
    color: white;
    font-size: 28px;
    padding: 15px 25px;
    animation: helpPulse 1.5s ease-in-out infinite;
}

.help-btn.hidden {
    display: none;
}

@keyframes helpPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25);
    }
    50% {
        transform: scale(1.1);
        box-shadow: 0 8px 20px rgba(244, 81, 30, 0.5);
    }
}

.control-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

/* Score Display */
.score-display {
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.95);
    padding: 15px 25px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 50;
}

.score-display.hidden {
    display: none;
}

.score-item {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    margin: 5px 0;
}

.score-label {
    font-weight: 600;
    color: #555;
}

.score-value {
    font-family: 'Fredoka One', cursive;
    color: #1565C0;
    font-size: 18px;
}

/* ==================== [R] RESPONSIVE DESIGN ==================== */

/* Make board-path scale with viewport */
.board-path {
    transform-origin: top left;
}

/* Extra Large screens (1400px+) */
@media (min-width: 1400px) {
    .board-path {
        transform: scale(1.1);
    }

    .spinner-container {
        width: 250px;
        height: 250px;
    }

    .spinner-wheel {
        width: 250px;
        height: 250px;
    }
}

/* Large screens (1200px - 1399px) */
@media (max-width: 1399px) and (min-width: 1200px) {
    .board-path {
        transform: scale(1);
    }
}

/* Medium-Large screens (1024px - 1199px) */
@media (max-width: 1199px) and (min-width: 1024px) {
    .game-board {
        grid-template-columns: 220px 1fr 80px;
        padding: 15px;
    }

    .board-path {
        transform: scale(0.9);
    }

    .spinner-container {
        width: 180px;
        height: 180px;
    }

    .spinner-wheel {
        width: 180px;
        height: 180px;
    }

    .spinner-center {
        width: 55px;
        height: 55px;
        font-size: 13px;
    }

    .player-card {
        width: 100px;
        height: 130px;
    }

    .player-avatar-emoji {
        font-size: 55px;
    }
}

/* Medium screens / Tablets (768px - 1023px) */
@media (max-width: 1023px) and (min-width: 768px) {
    .game-board {
        grid-template-columns: 180px 1fr 60px;
        padding: 10px;
    }

    .board-path {
        transform: scale(0.75);
    }

    .board-center {
        margin-left: -80px;
    }

    .spinner-container {
        width: 150px;
        height: 150px;
        margin: 15px auto;
    }

    .spinner-wheel {
        width: 150px;
        height: 150px;
    }

    .spinner-section {
        font-size: 22px;
        padding-top: 18px;
    }

    .spinner-center {
        width: 45px;
        height: 45px;
        font-size: 11px;
    }

    .spinner-pointer {
        border-left: 12px solid transparent;
        border-right: 12px solid transparent;
        border-top: 25px solid #1a1a1a;
    }

    .player-card {
        width: 90px;
        height: 115px;
    }

    .player-avatar-emoji {
        font-size: 48px;
    }

    .change-hint {
        font-size: 9px;
        padding: 3px 8px;
    }

    .play-button {
        font-size: 48px;
        padding: 15px 60px;
    }

    .control-btn {
        font-size: 18px;
        padding: 14px 30px;
    }

    .score-display {
        padding: 10px 18px;
    }

    .card-content {
        max-width: 95%;
        padding: 20px;
    }

    .card-question {
        font-size: 22px;
    }

    .image-box {
        width: 220px;
        height: 170px;
    }

    .card-images {
        gap: 25px;
    }
}

/* Small Tablets / Large Phones (600px - 767px) */
@media (max-width: 767px) and (min-width: 600px) {
    body {
        overflow-y: auto;
    }

    .game-container {
        min-height: 100vh;
        height: auto;
    }

    .game-board {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        height: auto;
        min-height: 100vh;
        padding: 10px;
        gap: 10px;
    }

    .left-panel {
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: 30px;
        padding: 10px;
        order: 1;
    }

    .board-center {
        order: 2;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px 0;
    }

    .board-path {
        transform: scale(0.6);
        transform-origin: center center;
    }

    .right-panel {
        display: none;
    }

    .spinner-container {
        width: 140px;
        height: 140px;
        margin: 0;
    }

    .spinner-wheel {
        width: 140px;
        height: 140px;
    }

    .spinner-section {
        font-size: 20px;
        padding-top: 15px;
    }

    .spinner-center {
        width: 42px;
        height: 42px;
        font-size: 10px;
    }

    .player-card {
        width: 80px;
        height: 100px;
    }

    .player-avatar-emoji {
        font-size: 42px;
    }

    .play-button {
        font-size: 40px;
        padding: 15px 50px;
    }

    .control-btn {
        font-size: 16px;
        padding: 12px 25px;
    }

    .game-controls {
        bottom: 15px;
        gap: 8px;
    }

    .score-display {
        top: 10px;
        right: 10px;
        padding: 10px 15px;
    }

    .card-content {
        padding: 18px 15px 25px;
    }

    .card-question {
        font-size: 20px;
        padding: 12px 15px;
    }

    .card-images {
        gap: 20px;
    }

    .image-box {
        width: 180px;
        height: 140px;
    }

    .word-label {
        font-size: 16px;
    }

    .answer-input {
        width: 55%;
        font-size: 18px;
        padding: 10px 18px;
    }

    .done-button {
        font-size: 20px;
        padding: 12px 40px;
    }

    .modal-content {
        width: 95%;
        max-height: 90vh;
    }

    .modal-header h2 {
        font-size: 28px;
    }
}

/* Mobile Phones (max-width: 599px) */
@media (max-width: 599px) {
    body {
        overflow-y: auto;
        overflow-x: hidden;
    }

    .game-container {
        min-height: 100vh;
        min-height: 100dvh;
        height: auto;
        overflow: visible;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .game-board {
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr;
        height: 100vh;
        height: 100dvh;
        padding: 10px;
        gap: 10px;
        position: relative;
        justify-items: center;
    }

    .left-panel {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: 20px;
        padding: 10px;
        z-index: 50;
    }

    .board-center {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 0;
        overflow: visible;
        width: 100%;
        height: 100%;
    }

    .board-path {
        transform: scale(0.45);
        transform-origin: center center;
        margin: 0;
    }

    .right-panel {
        display: none;
    }

    /* Spinner - Mobile optimized */
    .spinner-container {
        width: 100px;
        height: 100px;
        margin: 0;
    }

    .spinner-wheel {
        width: 100px;
        height: 100px;
        box-shadow:
            0 0 0 5px #8B4513,
            0 0 0 8px #654321,
            0 6px 15px rgba(0, 0, 0, 0.4);
    }

    .spinner-section {
        font-size: 14px;
        padding-top: 10px;
    }

    .spinner-center {
        width: 32px;
        height: 32px;
        font-size: 8px;
        box-shadow:
            0 0 0 2px #444,
            0 2px 6px rgba(0, 0, 0, 0.5);
    }

    .spinner-pointer {
        top: -6px;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 16px solid #1a1a1a;
    }

    /* Player Card - Mobile */
    .player-card {
        width: 65px;
        height: 80px;
        border-radius: 12px;
        border-width: 3px;
        box-shadow: 0 4px 0 #E65100, 0 6px 12px rgba(0, 0, 0, 0.3);
    }

    .player-avatar-emoji {
        font-size: 32px;
    }

    .change-hint {
        font-size: 7px;
        padding: 2px 5px;
        bottom: -8px;
        border-radius: 8px;
    }

    /* Play Button - Mobile */
    .play-button {
        font-size: 28px;
        padding: 14px 45px;
        border-radius: 25px;
        border-width: 4px;
    }

    /* Control Buttons - Mobile touch friendly */
    .control-btn {
        font-size: 13px;
        padding: 12px 20px;
        border-radius: 18px;
        min-height: 44px; /* iOS touch target */
        min-width: 44px;
    }

    .help-btn {
        font-size: 20px;
        padding: 12px 20px;
    }

    .game-controls {
        position: fixed;
        bottom: 12px;
        left: 50%;
        transform: translateX(-50%);
        gap: 8px;
        flex-wrap: nowrap;
        justify-content: center;
        padding: 0 15px;
        width: auto;
        max-width: 100%;
    }

    /* Score Display - Mobile */
    .score-display {
        top: auto;
        bottom: auto;
        right: 10px;
        top: 10px;
        padding: 6px 10px;
        border-radius: 10px;
        font-size: 11px;
        background: rgba(255, 255, 255, 0.95);
    }

    .score-label {
        font-size: 10px;
    }

    .score-value {
        font-size: 12px;
    }

    .score-item {
        gap: 8px;
        margin: 3px 0;
    }

    /* Card Modal - Mobile Optimized */
    .card-modal {
        z-index: 300;
        padding: 10px;
    }

    .card-content {
        padding: 18px 15px 25px;
        border-radius: 20px;
        max-width: 100%;
        width: 100%;
        border-width: 5px;
        max-height: 90vh;
        max-height: 90dvh;
        overflow-y: auto;
    }

    .card-content::before {
        width: 40px;
        height: 4px;
        top: 8px;
    }

    .card-header {
        margin-bottom: 12px;
    }

    .card-category {
        font-size: 18px;
        padding: 6px 18px;
        border-radius: 15px;
    }

    .card-close {
        width: 32px;
        height: 32px;
        font-size: 18px;
        min-width: 44px;
        min-height: 44px;
    }

    .card-question {
        font-size: 17px;
        padding: 12px 15px;
        margin-bottom: 15px;
        border-width: 3px;
        line-height: 1.4;
    }

    /* Card Images - Responsive for mobile */
    .card-images {
        gap: 12px;
        margin-bottom: 15px;
        flex-wrap: wrap;
    }

    .image-pair {
        flex: 1;
        min-width: 120px;
        max-width: 160px;
    }

    .image-box {
        width: 100%;
        height: 130px;
        border-width: 4px;
        border-radius: 12px;
    }

    .word-label {
        font-size: 13px;
        padding: 4px 10px;
        margin-bottom: 6px;
        border-radius: 10px;
    }

    /* Answer Input - Mobile */
    .answer-input-container {
        gap: 10px;
        margin-bottom: 15px;
        flex-wrap: wrap;
        justify-content: center;
    }

    .answer-input {
        width: 100%;
        max-width: 280px;
        font-size: 16px;
        padding: 12px 18px;
        border-width: 3px;
        border-radius: 20px;
    }

    .mic-button {
        width: 54px;
        height: 54px;
        border-width: 3px;
        min-width: 54px;
        flex-shrink: 0;
    }

    .mic-icon {
        font-size: 24px;
    }

    .card-tools {
        gap: 10px;
        flex-wrap: wrap;
    }

    .tool-btn {
        width: 44px;
        height: 44px;
        min-width: 44px;
        min-height: 44px;
    }

    .done-button {
        font-size: 17px;
        padding: 14px 40px;
        border-radius: 22px;
        min-height: 50px;
    }

    .feedback-message {
        font-size: 16px;
        padding: 12px 15px;
        margin-top: 12px;
        border-radius: 12px;
    }

    /* Modal - Mobile */
    .modal-content {
        width: 95%;
        max-height: 85vh;
        border-radius: 12px;
    }

    .modal-header {
        padding: 18px 20px;
    }

    .modal-header h2 {
        font-size: 24px;
    }

    .modal-header p {
        font-size: 12px;
    }

    .category-tabs {
        gap: 5px;
        padding: 10px;
    }

    .category-tab {
        font-size: 9px;
        padding: 8px 12px;
    }

    .target-list {
        max-height: 200px;
        padding: 10px 15px;
        margin: 10px 12px;
    }

    .target-item {
        padding: 10px 8px;
    }

    .target-checkbox {
        width: 20px;
        height: 20px;
    }

    .target-label {
        font-size: 14px;
    }

    .next-button {
        font-size: 18px;
        padding: 12px 45px;
        margin: 15px auto 20px;
    }

    /* Theme Selection - Mobile */
    .session-goal-display {
        padding: 16px 12px;
        gap: 12px;
    }

    .theme-selection-section {
        margin-top: 12px;
        padding-top: 12px;
    }

    .theme-label {
        font-size: 14px;
        margin-bottom: 8px;
    }

    .theme-options {
        gap: 10px;
    }

    .theme-option {
        width: 70px;
        height: 80px;
        border-radius: 12px;
    }

    .theme-emoji {
        font-size: 28px;
    }

    .theme-name {
        font-size: 11px;
    }

    /* Win Screen - Mobile */
    .win-content {
        padding: 30px 40px;
        border-width: 6px;
    }

    .win-stars {
        font-size: 35px;
    }

    .win-title {
        font-size: 36px;
    }

    .win-score {
        font-size: 24px;
    }

    .win-score span {
        font-size: 30px;
    }

    .win-button {
        font-size: 22px;
        padding: 14px 45px;
    }

    /* Character Modal - Mobile */
    .character-modal-content {
        padding: 20px 25px;
        border-width: 5px;
    }

    .character-modal-title {
        font-size: 24px;
        margin-bottom: 18px;
    }

    .character-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
    }

    .character-option {
        width: 55px;
        height: 55px;
        font-size: 30px;
        border-width: 3px;
    }

    .character-done-btn {
        font-size: 20px;
        padding: 12px 45px;
    }

    /* Notification - Mobile */
    .game-notification {
        padding: 20px 30px;
        border-radius: 20px;
        border-width: 5px;
        max-width: 90%;
    }

    .notification-icon {
        font-size: 45px;
        margin-bottom: 10px;
    }

    .notification-text {
        font-size: 20px;
    }

    /* Recording Status - Mobile */
    .recording-status {
        padding: 12px 15px;
        margin: 10px 0;
    }

    .recording-text {
        font-size: 15px;
    }

    .voice-waveform {
        height: 30px;
    }

    /* AI Feedback - Mobile */
    .ai-feedback {
        padding: 15px;
        margin-top: 10px;
    }

    .ai-feedback-content h4 {
        font-size: 18px;
    }

    .ai-feedback-content p {
        font-size: 14px;
    }

    /* Loading Screen - Mobile */
    .loading-snowflake {
        font-size: 60px;
    }

    .loading-title {
        font-size: 28px;
    }

    .loading-bar-container {
        width: 200px;
    }

    /* Snowflakes - reduce on mobile */
    .snowflakes {
        opacity: 0.6;
    }
}

/* Extra Small Phones (max-width: 375px) */
@media (max-width: 375px) {
    .game-board {
        padding: 8px;
    }

    .left-panel {
        top: 8px;
        gap: 12px;
        padding: 8px;
    }

    .board-center {
        min-height: 300px;
    }

    .board-path {
        transform: scale(0.38);
        transform-origin: center center;
    }

    .spinner-container {
        width: 85px;
        height: 85px;
    }

    .spinner-wheel {
        width: 85px;
        height: 85px;
    }

    .spinner-section {
        font-size: 12px;
        padding-top: 8px;
    }

    .spinner-center {
        width: 26px;
        height: 26px;
        font-size: 7px;
    }

    .player-card {
        width: 55px;
        height: 70px;
        border-radius: 10px;
    }

    .player-avatar-emoji {
        font-size: 28px;
    }

    .change-hint {
        display: none;
    }

    .play-button {
        font-size: 24px;
        padding: 12px 35px;
    }

    /* Card Modal - Extra Small */
    .card-content {
        padding: 15px 12px 20px;
    }

    .card-category {
        font-size: 16px;
        padding: 5px 15px;
    }

    .card-question {
        font-size: 15px;
        padding: 10px 12px;
    }

    .card-images {
        flex-direction: column;
        align-items: center;
        gap: 10px;
    }

    .image-pair {
        max-width: 200px;
        width: 100%;
    }

    .image-box {
        width: 100%;
        height: 110px;
    }

    .word-label {
        font-size: 12px;
    }

    .answer-input {
        max-width: 100%;
        font-size: 15px;
        padding: 10px 15px;
    }

    .mic-button {
        width: 48px;
        height: 48px;
    }

    .done-button {
        font-size: 15px;
        padding: 12px 30px;
    }

    .control-btn {
        font-size: 11px;
        padding: 10px 14px;
    }

    .game-controls {
        gap: 5px;
        padding: 0 8px;
    }

    /* Win Screen - Extra Small */
    .win-content {
        padding: 25px 30px;
    }

    .win-title {
        font-size: 28px;
    }

    .win-score {
        font-size: 20px;
    }

    .win-button {
        font-size: 18px;
        padding: 12px 35px;
    }

    /* Character Modal - Extra Small */
    .character-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
    }

    .character-option {
        width: 48px;
        height: 48px;
        font-size: 26px;
    }

    /* Notification - Extra Small */
    .game-notification {
        padding: 15px 20px;
        max-width: 95%;
    }

    .notification-icon {
        font-size: 38px;
    }

    .notification-text {
        font-size: 16px;
    }
}

/* Landscape Mode for Mobile/Tablets */
@media (max-height: 500px) and (orientation: landscape) {
    .game-board {
        grid-template-columns: 150px 1fr;
        grid-template-rows: 1fr;
        height: 100vh;
        overflow: hidden;
    }

    .left-panel {
        flex-direction: column;
        gap: 10px;
        padding: 5px;
    }

    .board-center {
        overflow: hidden;
    }

    .board-path {
        transform: scale(0.5);
        transform-origin: center center;
    }

    .right-panel {
        display: none;
    }

    .spinner-container {
        width: 100px;
        height: 100px;
        margin: 5px auto;
    }

    .spinner-wheel {
        width: 100px;
        height: 100px;
    }

    .player-card {
        width: 60px;
        height: 75px;
    }

    .player-avatar-emoji {
        font-size: 32px;
    }

    .game-controls {
        bottom: 5px;
    }

    .control-btn {
        padding: 8px 20px;
        font-size: 14px;
    }

    .score-display {
        top: 5px;
        right: 5px;
        padding: 6px 10px;
    }

    .card-content {
        max-height: 95vh;
        overflow-y: auto;
        padding: 12px;
    }

    .card-images {
        gap: 15px;
    }

    .image-box {
        width: 120px;
        height: 95px;
    }

    .card-question {
        font-size: 16px;
        padding: 8px 12px;
        margin-bottom: 10px;
    }
}

/* ==================== [A] ANIMATIONS ==================== */

/* Player Token Bounce */
.player-token.bounce {
    animation: tokenBounce 0.2s ease-out;
}

@keyframes tokenBounce {
    0% { transform: scale(1); }
    50% { transform: scale(1.3) translateY(-10px); }
    100% { transform: scale(1); }
}

/* Board Space Highlight */
.board-space.highlight {
    animation: spaceHighlight 0.3s ease-out;
    z-index: 50;
}

@keyframes spaceHighlight {
    0% { transform: scale(1); box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2), 0 6px 10px rgba(0, 0, 0, 0.3); }
    50% { transform: scale(1.2); box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 165, 0, 0.6); }
    100% { transform: scale(1); box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2), 0 6px 10px rgba(0, 0, 0, 0.3); }
}

/* Card Slide-up Animation */
.card-content.card-appear {
    animation: cardSlideUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes cardSlideUp {
    0% { transform: translateY(100%); }
    100% { transform: translateY(0); }
}

/* Card Shake (Wrong Answer) */
.card-content.shake {
    animation: cardShake 0.5s ease-in-out;
}

@keyframes cardShake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-15px); }
    20%, 40%, 60%, 80% { transform: translateX(15px); }
}

/* Card Celebrate (Correct Answer) - Fun bounce! */
.card-content.celebrate {
    animation: cardCelebrate 0.6s ease-out;
}

@keyframes cardCelebrate {
    0% { transform: translateY(0); }
    20% { transform: translateY(-20px); }
    40% { transform: translateY(0); }
    60% { transform: translateY(-10px); }
    80% { transform: translateY(0); }
    100% { transform: translateY(0); }
}

/* Spinner Wheel Spinning Glow */
.spinner-wheel.spinning {
    box-shadow:
        0 0 0 10px #8B4513,
        0 0 0 15px #654321,
        0 0 30px rgba(255, 200, 0, 0.6),
        0 0 60px rgba(255, 150, 0, 0.4);
}

/* Control Button Press Animation */
.control-btn:active {
    transform: translateY(2px) scale(0.98);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* Play Button Pulse */
.play-button {
    animation: playButtonPulse 2s ease-in-out infinite;
}

@keyframes playButtonPulse {
    0%, 100% { transform: scale(1); box-shadow: 0 10px 0 #1B5E20, 0 15px 40px rgba(0, 0, 0, 0.4); }
    50% { transform: scale(1.05); box-shadow: 0 12px 0 #1B5E20, 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 30px rgba(76, 175, 80, 0.4); }
}

/* Done Button Hover Glow */
.done-button:hover {
    box-shadow: 0 8px 0 #1B5E20, 0 0 20px rgba(76, 175, 80, 0.5);
}

/* Spin Button Ready State */
.spin-btn {
    animation: spinButtonReady 1.5s ease-in-out infinite;
}

@keyframes spinButtonReady {
    0%, 100% { box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25); }
    50% { box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25), 0 0 15px rgba(255, 179, 0, 0.5); }
}

/* Feedback Message Animation */
.feedback-message.correct {
    animation: feedbackCorrect 0.3s ease-out;
}

@keyframes feedbackCorrect {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.feedback-message.incorrect {
    animation: feedbackIncorrect 0.3s ease-out;
}

@keyframes feedbackIncorrect {
    0% { transform: scale(0.8); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/* Score Update Animation */
.score-value {
    transition: transform 0.2s, color 0.2s;
}

.score-display:has(.score-value:hover) .score-value {
    transform: scale(1.1);
    color: #0D47A1;
}

/* ==================== [N] GAME NOTIFICATIONS ==================== */
.game-notification {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    background: linear-gradient(180deg, #FFF9E6 0%, #FFE4B5 100%);
    border: 6px solid #FF9800;
    border-radius: 25px;
    padding: 30px 50px;
    z-index: 9999;
    text-align: center;
    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.4);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
    opacity: 0;
}

.game-notification.show {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
}

.game-notification.hidden {
    display: none;
}

.notification-icon {
    font-size: 60px;
    margin-bottom: 15px;
    animation: iconBounce 0.6s ease-out;
}

@keyframes iconBounce {
    0% { transform: scale(0); }
    50% { transform: scale(1.3); }
    100% { transform: scale(1); }
}

.notification-text {
    font-family: 'Fredoka One', cursive;
    font-size: 26px;
    color: #5D4037;
    line-height: 1.4;
    white-space: pre-line;
}

/* Warning notification style */
.game-notification.warning {
    border-color: #F44336;
    background: linear-gradient(180deg, #FFEBEE 0%, #FFCDD2 100%);
}

.game-notification.warning .notification-text {
    color: #C62828;
}

/* Bonus notification style */
.game-notification.bonus {
    border-color: #4CAF50;
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
}

.game-notification.bonus .notification-text {
    color: #2E7D32;
}

/* ==================== [W] WIN SCREEN ==================== */
.win-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 400;
    opacity: 1;
    transition: opacity 0.3s;
}

.win-screen.hidden {
    display: none;
}

.win-content {
    background: linear-gradient(180deg, #FFF9E6 0%, #FFE4B5 100%);
    border: 8px solid #FFD700;
    border-radius: 30px;
    padding: 50px 80px;
    text-align: center;
    box-shadow:
        0 0 0 15px rgba(255, 215, 0, 0.3),
        0 20px 60px rgba(0, 0, 0, 0.5);
    animation: winAppear 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes winAppear {
    0% { transform: scale(0) rotate(-10deg); opacity: 0; }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
}

.win-stars {
    font-size: 50px;
    color: #FFD700;
    text-shadow: 0 4px 10px rgba(255, 193, 7, 0.5);
    margin-bottom: 20px;
    animation: starsPulse 1s ease-in-out infinite;
}

@keyframes starsPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.win-title {
    font-family: 'Fredoka One', cursive;
    font-size: 56px;
    color: #E65100;
    text-shadow: 3px 3px 0 #FFE0B2, 5px 5px 0 rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

.win-score {
    font-family: 'Fredoka One', cursive;
    font-size: 32px;
    color: #5D4037;
    margin-bottom: 30px;
}

.win-score span {
    color: #4CAF50;
    font-size: 40px;
}

.win-button {
    font-family: 'Fredoka One', cursive;
    font-size: 28px;
    padding: 18px 60px;
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    color: white;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 8px 0 #2E7D32, 0 12px 25px rgba(0, 0, 0, 0.3);
    transition: all 0.2s;
}

.win-button:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 0 #2E7D32, 0 18px 30px rgba(0, 0, 0, 0.35);
}

.win-button:active {
    transform: translateY(4px);
    box-shadow: 0 2px 0 #2E7D32;
}

/* ==================== [C] CHARACTER SELECTION ==================== */
.character-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 350;
}

.character-modal.hidden {
    display: none;
}

.character-modal-content {
    background: linear-gradient(180deg, #FFF9E6 0%, #FFE4B5 100%);
    border: 6px solid #FF9800;
    border-radius: 30px;
    padding: 30px 40px;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: modalPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes modalPop {
    0% { transform: scale(0); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

.character-modal-title {
    font-family: 'Fredoka One', cursive;
    font-size: 32px;
    color: #E65100;
    margin-bottom: 25px;
    text-shadow: 2px 2px 0 white;
}

.character-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    margin-bottom: 25px;
}

.character-option {
    width: 70px;
    height: 70px;
    background: white;
    border: 4px solid #FFCC80;
    border-radius: 15px;
    font-size: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 0 #E0E0E0;
}

.character-option:hover {
    transform: translateY(-3px) scale(1.1);
    box-shadow: 0 6px 0 #E0E0E0;
    border-color: #FF9800;
}

.character-option.selected {
    background: linear-gradient(180deg, #C8E6C9 0%, #A5D6A7 100%);
    border-color: #4CAF50;
    box-shadow: 0 4px 0 #2E7D32;
    transform: scale(1.1);
}

.character-done-btn {
    font-family: 'Fredoka One', cursive;
    font-size: 24px;
    padding: 15px 60px;
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 6px 0 #2E7D32;
    transition: all 0.2s;
}

.character-done-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 9px 0 #2E7D32;
}

.character-done-btn:active {
    transform: translateY(3px);
    box-shadow: 0 2px 0 #2E7D32;
}

/* ==================== [RM] RESET CONFIRMATION MODAL ==================== */
.reset-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 400;
}

.reset-modal.hidden {
    display: none;
}

.reset-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
}

.reset-modal-content {
    position: relative;
    background: linear-gradient(180deg, #FFFFFF 0%, #F5F5F5 100%);
    border: 5px solid #5C6BC0;
    border-radius: 25px;
    padding: 30px 35px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    animation: modalPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.reset-modal-header {
    margin-bottom: 20px;
}

.reset-modal-icon {
    font-size: 48px;
    display: block;
    margin-bottom: 10px;
}

.reset-modal-title {
    font-family: 'Fredoka One', cursive;
    font-size: 26px;
    color: #3949AB;
    margin: 0;
}

.reset-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Option Buttons */
.reset-option-btn {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 16px 20px;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s;
}

.reset-option-btn .option-icon {
    font-size: 32px;
    flex-shrink: 0;
}

.reset-option-btn .option-text {
    font-family: 'Fredoka One', cursive;
    font-size: 18px;
    color: white;
    display: block;
}

.reset-option-btn .option-desc {
    font-family: 'Nunito', sans-serif;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.85);
    display: block;
    margin-top: 2px;
}

/* Reset Button - Green */
.reset-option-btn.reset-btn {
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    box-shadow: 0 5px 0 #2E7D32;
}

.reset-option-btn.reset-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 0 #2E7D32;
}

.reset-option-btn.reset-btn:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #2E7D32;
}

/* Change Category Button - Orange */
.reset-option-btn.change-btn {
    background: linear-gradient(180deg, #FFA726 0%, #FB8C00 100%);
    box-shadow: 0 5px 0 #E65100;
}

.reset-option-btn.change-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 0 #E65100;
}

.reset-option-btn.change-btn:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #E65100;
}

/* Cancel Button - Red */
.reset-cancel-btn {
    font-family: 'Fredoka One', cursive;
    font-size: 18px;
    width: 100%;
    padding: 14px 30px;
    margin-top: 5px;
    background: linear-gradient(180deg, #EF5350 0%, #E53935 100%);
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 5px 0 #C62828;
    transition: all 0.2s;
}

.reset-cancel-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 0 #C62828;
}

.reset-cancel-btn:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #C62828;
}

/* Responsive adjustments for reset modal */
@media (max-width: 480px) {
    .reset-modal-content {
        padding: 25px 20px;
        max-width: 95%;
    }

    .reset-modal-title {
        font-size: 22px;
    }

    .reset-option-btn {
        padding: 14px 15px;
    }

    .reset-option-btn .option-icon {
        font-size: 28px;
    }

    .reset-option-btn .option-text {
        font-size: 16px;
    }

    .reset-cancel-btn {
        padding: 12px 25px;
        font-size: 16px;
    }
}

/* ==================== [V] VOICE RECORDING ==================== */

/* Answer input container - flex layout for input + mic button */
.answer-input-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-bottom: 15px;
}

/* Mic Button */
.mic-button {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: 4px solid #4CAF50;
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 5px 0 #2E7D32, 0 8px 15px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
}

.mic-button:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 0 #2E7D32, 0 12px 20px rgba(0, 0, 0, 0.25);
}

.mic-button:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 #2E7D32;
}

.mic-button.recording {
    background: linear-gradient(180deg, #EF5350 0%, #E53935 100%);
    border-color: #C62828;
    box-shadow: 0 5px 0 #B71C1C, 0 8px 15px rgba(0, 0, 0, 0.2);
    animation: micPulse 1s ease-in-out infinite;
}

.mic-button.recording:hover {
    box-shadow: 0 8px 0 #B71C1C, 0 12px 20px rgba(0, 0, 0, 0.25);
}

.mic-button.processing {
    background: linear-gradient(180deg, #FFB74D 0%, #FF9800 100%);
    border-color: #E65100;
    box-shadow: 0 5px 0 #BF360C;
    cursor: wait;
    animation: none;
}

.mic-icon {
    font-size: 28px;
    line-height: 1;
}

@keyframes micPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 5px 0 #B71C1C, 0 0 0 0 rgba(229, 57, 53, 0.4);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 5px 0 #B71C1C, 0 0 0 15px rgba(229, 57, 53, 0);
    }
}

/* Recording Status */
.recording-status {
    text-align: center;
    margin: 15px 0;
    padding: 15px 20px;
    background: linear-gradient(180deg, #FFEBEE 0%, #FFCDD2 100%);
    border-radius: 20px;
    border: 3px solid #EF5350;
}

.recording-status.hidden {
    display: none;
}

.recording-status.listening {
    background: linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 100%);
    border-color: #2196F3;
}

.recording-status.speaking {
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    border-color: #4CAF50;
}

.recording-status.processing {
    background: linear-gradient(180deg, #FFF3E0 0%, #FFE0B2 100%);
    border-color: #FF9800;
}

.recording-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-bottom: 10px;
}

.recording-dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #EF5350;
    animation: recordingBlink 1s ease-in-out infinite;
}

.recording-status.listening .recording-dot {
    background: #2196F3;
}

.recording-status.speaking .recording-dot {
    background: #4CAF50;
    animation: speakingPulse 0.5s ease-in-out infinite;
}

.recording-status.processing .recording-dot {
    background: #FF9800;
    animation: processingRotate 1s linear infinite;
}

@keyframes recordingBlink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

@keyframes speakingPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}

@keyframes processingRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.recording-text {
    font-family: 'Fredoka One', cursive;
    font-size: 18px;
    color: #C62828;
}

.recording-status.listening .recording-text {
    color: #1565C0;
}

.recording-status.speaking .recording-text {
    color: #2E7D32;
}

.recording-status.processing .recording-text {
    color: #E65100;
}

/* Voice Waveform */
.voice-waveform {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 3px;
    height: 40px;
}

.waveform-bar {
    width: 4px;
    background: linear-gradient(180deg, #EF5350 0%, #C62828 100%);
    border-radius: 3px;
    transition: height 0.1s ease;
    min-height: 4px;
}

.recording-status.listening .waveform-bar {
    background: linear-gradient(180deg, #2196F3 0%, #1565C0 100%);
}

.recording-status.speaking .waveform-bar {
    background: linear-gradient(180deg, #4CAF50 0%, #2E7D32 100%);
}

/* AI Feedback Display */
.ai-feedback {
    margin-top: 15px;
    padding: 20px;
    background: linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 100%);
    border-radius: 20px;
    border: 4px solid #2196F3;
}

.ai-feedback.hidden {
    display: none;
}

.ai-feedback.correct {
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    border-color: #4CAF50;
}

.ai-feedback.incorrect {
    background: linear-gradient(180deg, #FFF3E0 0%, #FFE0B2 100%);
    border-color: #FF9800;
}

.ai-feedback-content {
    text-align: center;
}

.ai-feedback-content h4 {
    font-family: 'Fredoka One', cursive;
    font-size: 22px;
    margin: 0 0 10px 0;
    color: #1565C0;
}

.ai-feedback.correct .ai-feedback-content h4 {
    color: #2E7D32;
}

.ai-feedback.incorrect .ai-feedback-content h4 {
    color: #E65100;
}

.ai-feedback-content p {
    font-size: 16px;
    margin: 5px 0;
    color: #333;
}

.transcription-text {
    font-style: italic;
    color: #666;
    background: rgba(255, 255, 255, 0.5);
    padding: 8px 15px;
    border-radius: 10px;
    display: inline-block;
    margin-top: 10px;
}

/* ==================== [L] LOADING SCREEN ==================== */
.loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, #1a237e 0%, #283593 50%, #3949ab 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
    transition: opacity 0.5s ease, visibility 0.5s ease;
}

.loading-screen.hidden {
    opacity: 0;
    visibility: hidden;
}

.loading-content {
    text-align: center;
    color: white;
}

.loading-snowflake {
    font-size: 80px;
    animation: snowflakeSpin 3s linear infinite;
    margin-bottom: 20px;
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
}

@keyframes snowflakeSpin {
    0% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(180deg) scale(1.1); }
    100% { transform: rotate(360deg) scale(1); }
}

.loading-title {
    font-family: 'Fredoka One', cursive;
    font-size: 36px;
    margin: 0 0 30px 0;
    text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.loading-bar-container {
    width: 250px;
    height: 20px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    overflow: hidden;
    margin: 0 auto 20px auto;
    border: 3px solid rgba(255, 255, 255, 0.3);
}

.loading-bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #4FC3F7, #81D4FA, #B3E5FC, #81D4FA, #4FC3F7);
    background-size: 200% 100%;
    border-radius: 7px;
    animation: loadingShimmer 1.5s ease-in-out infinite;
    transition: width 0.3s ease;
}

@keyframes loadingShimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.loading-tip {
    font-family: 'Nunito', sans-serif;
    font-size: 18px;
    margin: 0;
    opacity: 0.9;
}

/* ==================== [M] TOUCH & MOBILE OPTIMIZATIONS ==================== */

/* Prevent text selection on interactive elements */
.control-btn,
.done-button,
.play-button,
.mic-button,
.tool-btn,
.spinner-center,
.player-card,
.board-space,
.character-option,
.category-tab,
.next-button,
.win-button {
    -webkit-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

/* Improve touch feedback */
@media (hover: none) and (pointer: coarse) {
    /* Touch devices - remove hover effects that don't work well */
    .control-btn:hover,
    .done-button:hover,
    .play-button:hover,
    .mic-button:hover,
    .tool-btn:hover,
    .player-card:hover,
    .board-space:hover,
    .character-option:hover {
        transform: none;
    }

    /* Better active states for touch */
    .control-btn:active {
        transform: scale(0.95);
        opacity: 0.9;
    }

    .done-button:active {
        transform: scale(0.97);
    }

    .play-button:active {
        transform: scale(0.97);
    }

    .mic-button:active {
        transform: scale(0.95);
    }

    .player-card:active {
        transform: scale(0.95);
    }

    /* Disable animations that can be janky on mobile */
    .play-button {
        animation: none;
    }

    .spin-btn {
        animation: none;
    }

    .help-btn {
        animation: none;
    }

    /* Smoother scrolling */
    .card-content,
    .target-list,
    .modal-content {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
    .game-controls {
        padding-bottom: max(12px, env(safe-area-inset-bottom));
    }

    .card-content {
        padding-bottom: max(25px, env(safe-area-inset-bottom));
    }

    .game-board {
        padding-left: max(10px, env(safe-area-inset-left));
        padding-right: max(10px, env(safe-area-inset-right));
    }
}

/* Prevent zoom on input focus (iOS) */
@media (max-width: 599px) {
    .answer-input {
        font-size: 16px !important; /* Prevents iOS zoom on focus */
    }
}

/* ===== [13] Following Directions Styles ===== */
.following-directions-container {
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    padding: 20px;
    text-align: center;
}

.fd-direction {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 1.4rem;
    color: #333;
    line-height: 1.6;
    padding: 20px;
    margin-bottom: 20px;
    background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
    border-radius: 15px;
    box-shadow: 0 3px 10px rgba(25, 118, 210, 0.15);
}

.fd-done-btn {
    padding: 18px 50px;
    font-family: 'Fredoka One', cursive;
    font-size: 1.4rem;
    color: white;
    background: linear-gradient(135deg, #4CAF50, #388E3C);
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
    transition: all 0.3s ease;
}

.fd-done-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(76, 175, 80, 0.5);
    background: linear-gradient(135deg, #66BB6A, #43A047);
}

.fd-done-btn:active {
    transform: translateY(-1px);
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
}

/* Mobile responsive for Following Directions */
@media (max-width: 500px) {
    .fd-direction {
        font-size: 1.2rem;
        padding: 15px;
    }

    .fd-done-btn {
        padding: 15px 40px;
        font-size: 1.2rem;
    }

}

/* ===== [14] Function Labeling Styles ===== */
.function-labeling-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
    width: 100%;
}

.function-labeling-item {
    font-family: 'Fredoka One', cursive;
    font-size: 1.5rem;
    color: #1976D2;
    text-transform: capitalize;
    padding: 8px 20px;
    background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
    border-radius: 25px;
    box-shadow: 0 3px 10px rgba(25, 118, 210, 0.2);
}

.function-labeling-input-section {
    width: 100%;
    display: flex;
    justify-content: center;
}

.function-labeling-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.function-labeling-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Mobile responsive for Function Labeling */
@media (max-width: 500px) {
    .function-labeling-item {
        font-size: 1.2rem;
    }

}

/* ===== [15] Future Tense Styles ===== */
.future-tense-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}

.future-tense-verb {
    font-family: 'Fredoka One', cursive;
    font-size: 1.3rem;
    color: #E91E63;
    padding: 8px 20px;
    background: linear-gradient(135deg, #FCE4EC, #F8BBD9);
    border-radius: 20px;
    box-shadow: 0 3px 10px rgba(233, 30, 99, 0.2);
}

.future-tense-sentence {
    font-family: 'OpenDyslexic', 'Nunito', sans-serif;
    font-size: 1.3rem;
    color: #333;
    text-align: center;
    line-height: 1.6;
    padding: 15px 20px;
    background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
    border-radius: 15px;
    box-shadow: 0 3px 10px rgba(25, 118, 210, 0.15);
    width: 100%;
}

.future-tense-sentence .blank-highlight {
    color: #1976D2;
    font-weight: bold;
    background: #FFEB3B;
    padding: 2px 8px;
    border-radius: 5px;
}

.future-tense-input-section {
    width: 100%;
    display: flex;
    justify-content: center;
}

.future-tense-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.future-tense-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Mobile responsive for Future Tense */
@media (max-width: 500px) {
    .future-tense-verb {
        font-size: 1.1rem;
        padding: 6px 15px;
    }

    .future-tense-sentence {
        font-size: 1.1rem;
        padding: 12px 15px;
    }

}

/* ===== [16] First Next Then Last Styles ===== */
.first-next-then-last-container {
    width: 100%;
    max-width: 700px;
    margin: 0 auto;
    padding: 10px;
}

.fntl-instruction {
    font-family: 'Fredoka One', cursive;
    font-size: 1.3rem;
    color: #1976D2;
    text-align: center;
    margin-bottom: 15px;
    padding: 10px;
    background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.15);
}

.fntl-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
}

.fntl-item {
    background: white;
    border: 3px solid #E0E0E0;
    border-radius: 15px;
    padding: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: all 0.3s ease;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.fntl-item:hover {
    border-color: #1976D2;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(25, 118, 210, 0.2);
}

.fntl-item.correct {
    border-color: #4CAF50;
    background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
}

.fntl-item.incorrect {
    border-color: #F44336;
    background: linear-gradient(135deg, #FFEBEE, #FFCDD2);
}

.fntl-image-box {
    width: 100%;
    aspect-ratio: 1 / 1;
    min-height: 100px;
    border-radius: 10px;
    overflow: hidden;
    background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
    border: 2px dashed #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
}

.fntl-image-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
}

.fntl-image-box.no-image-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #9e9e9e;
    font-size: 0.8rem;
    font-weight: 500;
    text-align: center;
    gap: 5px;
}

.fntl-image-box.no-image-placeholder::before {
    content: '\01F5BC';
    font-size: 2rem;
    opacity: 0.5;
}

.fntl-image-box.no-image-placeholder::after {
    content: 'No Image';
}

.fntl-check-btn {
    display: block;
    width: 100%;
    max-width: 300px;
    margin: 20px auto 0;
    padding: 15px 30px;
    font-family: 'Fredoka One', cursive;
    font-size: 1.2rem;
    color: white;
    background: linear-gradient(135deg, #4CAF50, #388E3C);
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    transition: all 0.3s ease;
}

.fntl-check-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
}

.fntl-check-btn:active {
    transform: translateY(0);
}

/* ===== UNIVERSAL IMAGE-BOX STYLING FOR ALL CARD TYPES ===== */
/* Base styling for all card image boxes - ensures consistent appearance and placeholders */
.compare-image-box,
.conditional-image-box,
.fill-blank-image-box,
.conjunction-image-box,
.describe-scene-image-box,
.describing-image-box,
.describing-advanced-image-box,
.descriptive-opposites-image-box,
.do-does-image-box,
.has-have-image-box,
.how-to-image-box,
.identify-meaning-image-box,
.identify-missing-image-box,
.idioms-image-box,
.inferencing-l1-image-box,
.inferencing-l2-image-box,
.irregular-verb-image-box,
.irregular-plural-image-box,
.multiple-meaning-image-box,
.community-helpers-image-box,
.noun-naming-image-box,
.past-tense-image-box,
.possessives-common-image-box,
.prepositions-image-box,
.problem-solving-image-box,
.problem-solving-images-image-box,
.pronouns-image-box,
.questions-for-you-image-box,
.safety-signs-image-box,
.semantic-image-box,
.expanding-sentences-image-box,
.idiom-image-box,
.fd-image-box,
.function-labeling-image-box,
.future-tense-image-box,
.vocab-image-box,
.wh-image-box,
.story-image-box,
.rhyming-image-box,
.simile-image-box,
.metaphor-image-box,
.analogy-image-box,
.antonym-image-box,
.synonym-image-box,
.category-image-box,
.sentence-image-box,
.verb-image-box,
.pronoun-image-box,
.negation-image-box,
.plural-image-box,
.tense-image-box {
    width: 100%;
    max-width: 200px;
    aspect-ratio: 1 / 1;
    min-height: 120px;
    border-radius: 15px;
    overflow: hidden;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 3px dashed #dee2e6;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* Image styling for all card image boxes */
.compare-image-box img,
.conditional-image-box img,
.fill-blank-image-box img,
.conjunction-image-box img,
.describe-scene-image-box img,
.describing-image-box img,
.describing-advanced-image-box img,
.descriptive-opposites-image-box img,
.do-does-image-box img,
.has-have-image-box img,
.how-to-image-box img,
.identify-meaning-image-box img,
.identify-missing-image-box img,
.idioms-image-box img,
.inferencing-l1-image-box img,
.inferencing-l2-image-box img,
.irregular-verb-image-box img,
.irregular-plural-image-box img,
.multiple-meaning-image-box img,
.community-helpers-image-box img,
.noun-naming-image-box img,
.past-tense-image-box img,
.possessives-common-image-box img,
.prepositions-image-box img,
.problem-solving-image-box img,
.problem-solving-images-image-box img,
.pronouns-image-box img,
.questions-for-you-image-box img,
.safety-signs-image-box img,
.semantic-image-box img,
.expanding-sentences-image-box img,
.idiom-image-box img,
.fd-image-box img,
.function-labeling-image-box img,
.future-tense-image-box img,
.vocab-image-box img,
.wh-image-box img,
.story-image-box img,
.rhyming-image-box img,
.simile-image-box img,
.metaphor-image-box img,
.analogy-image-box img,
.antonym-image-box img,
.synonym-image-box img,
.category-image-box img,
.sentence-image-box img,
.verb-image-box img,
.pronoun-image-box img,
.negation-image-box img,
.plural-image-box img,
.tense-image-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 12px;
    border: none;
}

/* No-image placeholder styling for all card image boxes */
.compare-image-box.no-image-placeholder,
.conditional-image-box.no-image-placeholder,
.fill-blank-image-box.no-image-placeholder,
.conjunction-image-box.no-image-placeholder,
.describe-scene-image-box.no-image-placeholder,
.describing-image-box.no-image-placeholder,
.describing-advanced-image-box.no-image-placeholder,
.descriptive-opposites-image-box.no-image-placeholder,
.do-does-image-box.no-image-placeholder,
.has-have-image-box.no-image-placeholder,
.how-to-image-box.no-image-placeholder,
.identify-meaning-image-box.no-image-placeholder,
.identify-missing-image-box.no-image-placeholder,
.idioms-image-box.no-image-placeholder,
.inferencing-l1-image-box.no-image-placeholder,
.inferencing-l2-image-box.no-image-placeholder,
.irregular-verb-image-box.no-image-placeholder,
.irregular-plural-image-box.no-image-placeholder,
.multiple-meaning-image-box.no-image-placeholder,
.community-helpers-image-box.no-image-placeholder,
.noun-naming-image-box.no-image-placeholder,
.past-tense-image-box.no-image-placeholder,
.possessives-common-image-box.no-image-placeholder,
.prepositions-image-box.no-image-placeholder,
.problem-solving-image-box.no-image-placeholder,
.problem-solving-images-image-box.no-image-placeholder,
.pronouns-image-box.no-image-placeholder,
.questions-for-you-image-box.no-image-placeholder,
.safety-signs-image-box.no-image-placeholder,
.semantic-image-box.no-image-placeholder,
.expanding-sentences-image-box.no-image-placeholder,
.idiom-image-box.no-image-placeholder,
.fd-image-box.no-image-placeholder,
.function-labeling-image-box.no-image-placeholder,
.future-tense-image-box.no-image-placeholder,
.vocab-image-box.no-image-placeholder,
.wh-image-box.no-image-placeholder,
.story-image-box.no-image-placeholder,
.rhyming-image-box.no-image-placeholder,
.simile-image-box.no-image-placeholder,
.metaphor-image-box.no-image-placeholder,
.analogy-image-box.no-image-placeholder,
.antonym-image-box.no-image-placeholder,
.synonym-image-box.no-image-placeholder,
.category-image-box.no-image-placeholder,
.sentence-image-box.no-image-placeholder,
.verb-image-box.no-image-placeholder,
.pronoun-image-box.no-image-placeholder,
.negation-image-box.no-image-placeholder,
.plural-image-box.no-image-placeholder,
.tense-image-box.no-image-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #9e9e9e;
    font-size: 0.85rem;
    font-weight: 500;
    text-align: center;
    gap: 8px;
    background: linear-gradient(135deg, #f5f5f5 0%, #eeeeee 100%);
}

/* Placeholder icon for all card image boxes */
.compare-image-box.no-image-placeholder::before,
.conditional-image-box.no-image-placeholder::before,
.fill-blank-image-box.no-image-placeholder::before,
.conjunction-image-box.no-image-placeholder::before,
.describe-scene-image-box.no-image-placeholder::before,
.describing-image-box.no-image-placeholder::before,
.describing-advanced-image-box.no-image-placeholder::before,
.descriptive-opposites-image-box.no-image-placeholder::before,
.do-does-image-box.no-image-placeholder::before,
.has-have-image-box.no-image-placeholder::before,
.how-to-image-box.no-image-placeholder::before,
.identify-meaning-image-box.no-image-placeholder::before,
.identify-missing-image-box.no-image-placeholder::before,
.idioms-image-box.no-image-placeholder::before,
.inferencing-l1-image-box.no-image-placeholder::before,
.inferencing-l2-image-box.no-image-placeholder::before,
.irregular-verb-image-box.no-image-placeholder::before,
.irregular-plural-image-box.no-image-placeholder::before,
.multiple-meaning-image-box.no-image-placeholder::before,
.community-helpers-image-box.no-image-placeholder::before,
.noun-naming-image-box.no-image-placeholder::before,
.past-tense-image-box.no-image-placeholder::before,
.possessives-common-image-box.no-image-placeholder::before,
.prepositions-image-box.no-image-placeholder::before,
.problem-solving-image-box.no-image-placeholder::before,
.problem-solving-images-image-box.no-image-placeholder::before,
.pronouns-image-box.no-image-placeholder::before,
.questions-for-you-image-box.no-image-placeholder::before,
.safety-signs-image-box.no-image-placeholder::before,
.semantic-image-box.no-image-placeholder::before,
.expanding-sentences-image-box.no-image-placeholder::before,
.idiom-image-box.no-image-placeholder::before,
.fd-image-box.no-image-placeholder::before,
.function-labeling-image-box.no-image-placeholder::before,
.future-tense-image-box.no-image-placeholder::before,
.vocab-image-box.no-image-placeholder::before,
.wh-image-box.no-image-placeholder::before,
.story-image-box.no-image-placeholder::before,
.rhyming-image-box.no-image-placeholder::before,
.simile-image-box.no-image-placeholder::before,
.metaphor-image-box.no-image-placeholder::before,
.analogy-image-box.no-image-placeholder::before,
.antonym-image-box.no-image-placeholder::before,
.synonym-image-box.no-image-placeholder::before,
.category-image-box.no-image-placeholder::before,
.sentence-image-box.no-image-placeholder::before,
.verb-image-box.no-image-placeholder::before,
.pronoun-image-box.no-image-placeholder::before,
.negation-image-box.no-image-placeholder::before,
.plural-image-box.no-image-placeholder::before,
.tense-image-box.no-image-placeholder::before {
    content: '\01F5BC';
    font-size: 2.5rem;
    opacity: 0.4;
}

/* Placeholder text for all card image boxes */
.compare-image-box.no-image-placeholder::after,
.conditional-image-box.no-image-placeholder::after,
.fill-blank-image-box.no-image-placeholder::after,
.conjunction-image-box.no-image-placeholder::after,
.describe-scene-image-box.no-image-placeholder::after,
.describing-image-box.no-image-placeholder::after,
.describing-advanced-image-box.no-image-placeholder::after,
.descriptive-opposites-image-box.no-image-placeholder::after,
.do-does-image-box.no-image-placeholder::after,
.has-have-image-box.no-image-placeholder::after,
.how-to-image-box.no-image-placeholder::after,
.identify-meaning-image-box.no-image-placeholder::after,
.identify-missing-image-box.no-image-placeholder::after,
.idioms-image-box.no-image-placeholder::after,
.inferencing-l1-image-box.no-image-placeholder::after,
.inferencing-l2-image-box.no-image-placeholder::after,
.irregular-verb-image-box.no-image-placeholder::after,
.irregular-plural-image-box.no-image-placeholder::after,
.multiple-meaning-image-box.no-image-placeholder::after,
.community-helpers-image-box.no-image-placeholder::after,
.noun-naming-image-box.no-image-placeholder::after,
.past-tense-image-box.no-image-placeholder::after,
.possessives-common-image-box.no-image-placeholder::after,
.prepositions-image-box.no-image-placeholder::after,
.problem-solving-image-box.no-image-placeholder::after,
.problem-solving-images-image-box.no-image-placeholder::after,
.pronouns-image-box.no-image-placeholder::after,
.questions-for-you.no-image-placeholder::after,
.safety-signs-image-box.no-image-placeholder::after,
.semantic-image-box.no-image-placeholder::after,
.expanding-sentences-image-box.no-image-placeholder::after,
.idiom-image-box.no-image-placeholder::after,
.fd-image-box.no-image-placeholder::after,
.function-labeling-image-box.no-image-placeholder::after,
.future-tense-image-box.no-image-placeholder::after,
.vocab-image-box.no-image-placeholder::after,
.wh-image-box.no-image-placeholder::after,
.story-image-box.no-image-placeholder::after,
.rhyming-image-box.no-image-placeholder::after,
.simile-image-box.no-image-placeholder::after,
.metaphor-image-box.no-image-placeholder::after,
.analogy-image-box.no-image-placeholder::after,
.antonym-image-box.no-image-placeholder::after,
.synonym-image-box.no-image-placeholder::after,
.category-image-box.no-image-placeholder::after,
.sentence-image-box.no-image-placeholder::after,
.verb-image-box.no-image-placeholder::after,
.pronoun-image-box.no-image-placeholder::after,
.negation-image-box.no-image-placeholder::after,
.plural-image-box.no-image-placeholder::after,
.tense-image-box.no-image-placeholder::after {
    content: 'No Image';
    font-family: 'Nunito', sans-serif;
}

/* ===== END UNIVERSAL IMAGE-BOX STYLING ===== */

/* Wildcard fallback for any image-box class not explicitly listed */
[class$="-image-box"]:not(.image-box):not(.fntl-image-box) {
    width: 100%;
    max-width: 200px;
    aspect-ratio: 1 / 1;
    min-height: 100px;
    border-radius: 15px;
    overflow: hidden;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 3px dashed #dee2e6;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 10px;
}

[class$="-image-box"]:not(.image-box):not(.fntl-image-box) img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 12px;
}

[class$="-image-box"].no-image-placeholder:not(.image-box):not(.fntl-image-box) {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #9e9e9e;
    font-size: 0.85rem;
    gap: 8px;
}

[class$="-image-box"].no-image-placeholder:not(.image-box):not(.fntl-image-box)::before {
    content: '\01F5BC';
    font-size: 2.5rem;
    opacity: 0.4;
}

[class$="-image-box"].no-image-placeholder:not(.image-box):not(.fntl-image-box)::after {
    content: 'No Image';
}

.fntl-label {
    font-family: 'OpenDyslexic', sans-serif;
    font-size: 0.9rem;
    color: #555;
    text-align: center;
    margin-bottom: 10px;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.fntl-select {
    width: 100%;
    padding: 12px 15px;
    font-family: 'Fredoka One', cursive;
    font-size: 1.1rem;
    color: #1976D2;
    background: white;
    border: 3px solid #1976D2;
    border-radius: 10px;
    cursor: pointer;
    outline: none;
    transition: all 0.2s ease;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='%231976D2'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 24px;
}

.fntl-select:focus {
    border-color: #FF9800;
    box-shadow: 0 0 10px rgba(255, 152, 0, 0.3);
}

.fntl-select:hover {
    background-color: #E3F2FD;
}

.fntl-select.correct {
    border-color: #4CAF50;
    background-color: #E8F5E9;
    color: #4CAF50;
}

.fntl-select.incorrect {
    border-color: #F44336;
    background-color: #FFEBEE;
    color: #F44336;
}

/* Mobile responsive */
@media (max-width: 500px) {
    .fntl-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }

    .fntl-instruction {
        font-size: 1.1rem;
        padding: 8px;
    }

    .fntl-item {
        padding: 8px;
    }

    .fntl-label {
        font-size: 0.8rem;
        min-height: 32px;
    }

    .fntl-select {
        padding: 10px 12px;
        font-size: 0.95rem;
    }
}

/* ===========================================
   [17] HOMOPHONES STYLES
   =========================================== */
.homophones-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 15px;
    width: 100%;
}

#homophonesImages {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    width: 100%;
}

.homophone-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.homophone-word {
    font-size: 1.3rem;
    font-weight: bold;
    color: #2196F3;
    text-transform: lowercase;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    padding: 5px 15px;
    border-radius: 15px;
    border: 2px solid #2196F3;
}

#homophonesSentences {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
    max-width: 500px;
}

.homophone-sentence-row {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 12px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-radius: 10px;
    border: 2px solid #dee2e6;
}

.homophone-sentence {
    font-size: 1.1rem;
    color: #333;
    line-height: 1.5;
}

.blank-highlight {
    background-color: #fff3cd;
    padding: 2px 8px;
    border-radius: 4px;
    border-bottom: 2px dashed #ffc107;
}

.homophone-input.correct {
    border-color: #4CAF50;
    background-color: #e8f5e9;
}

.homophone-input.incorrect {
    border-color: #f44336;
    background-color: #ffebee;
}

/* Responsive homophones styles */
@media (max-width: 600px) {
    #homophonesImages {
        gap: 12px;
    }

    .homophone-word {
        font-size: 1rem;
        padding: 4px 10px;
    }

    .homophone-sentence {
        font-size: 1rem;
    }

}

/* ===========================================
   [18] HOW TO STYLES
   =========================================== */
.how-to-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 15px;
    width: 100%;
}

.how-to-question {
    font-size: 1.4rem;
    font-weight: bold;
    color: #333;
    text-align: center;
    padding: 10px;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    border-radius: 10px;
    border: 2px solid #4CAF50;
    max-width: 400px;
}

.how-to-input-section {
    width: 100%;
    max-width: 450px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.how-to-input-section label {
    font-size: 1.1rem;
    font-weight: 600;
    color: #555;
}

.how-to-textarea {
    width: 100%;
    min-height: 120px;
    padding: 15px;
    font-size: 1.1rem;
    font-family: inherit;
    border: 3px solid #4CAF50;
    border-radius: 12px;
    resize: vertical;
    outline: none;
    transition: all 0.3s ease;
    line-height: 1.5;
}

.how-to-textarea:focus {
    border-color: #2E7D32;
    box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.2);
}

.how-to-textarea::placeholder {
    color: #9e9e9e;
    font-style: italic;
}

/* Responsive how-to styles */
@media (max-width: 600px) {
    .how-to-question {
        font-size: 1.2rem;
    }

    .how-to-textarea {
        font-size: 1rem;
        min-height: 100px;
    }

}

/* ===========================================
   [19] IDENTIFY THE MEANING (IDIOMS) STYLES
   =========================================== */
.identify-meaning-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
    width: 100%;
    max-height: 70vh;
    overflow-y: auto;
}

.identify-meaning-paragraph {
    font-size: 1rem;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
    padding: 15px;
    border-radius: 10px;
    border: 2px solid #ddd;
    max-width: 450px;
    text-align: left;
}

.idiom-highlight {
    color: #1976D2;
    font-weight: bold;
    font-style: italic;
    background-color: rgba(25, 118, 210, 0.1);
    padding: 2px 5px;
    border-radius: 4px;
}

.identify-meaning-question {
    font-size: 1.1rem;
    font-weight: bold;
    color: #333;
    text-align: center;
    padding: 10px 15px;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-radius: 8px;
    border: 2px solid #2196F3;
    max-width: 400px;
}

.identify-meaning-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 400px;
}

.identify-meaning-choice {
    padding: 12px 15px;
    font-size: 1rem;
    text-align: left;
    background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
    border: 2px solid #9e9e9e;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
}

.identify-meaning-choice:hover:not(:disabled) {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-color: #2196F3;
    transform: translateX(5px);
}

.identify-meaning-choice .choice-label {
    font-weight: bold;
    color: #1976D2;
    min-width: 25px;
}

.identify-meaning-choice.correct {
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    border-color: #4CAF50;
    color: #2E7D32;
}

.identify-meaning-choice.incorrect {
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    border-color: #f44336;
    color: #c62828;
}

.identify-meaning-choice:disabled {
    cursor: default;
    opacity: 0.8;
}

/* Responsive identify meaning styles */
@media (max-width: 600px) {
    .identify-meaning-paragraph {
        font-size: 0.9rem;
        padding: 12px;
    }

    .identify-meaning-question {
        font-size: 1rem;
    }

    .identify-meaning-choice {
        font-size: 0.95rem;
        padding: 10px 12px;
    }
}

/* ===========================================
   [20] IDENTIFY WHAT IS MISSING STYLES
   =========================================== */
.identify-missing-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 10px;
}

.identify-missing-question {
    font-size: 1.1rem;
    font-weight: 600;
    color: #6c3483;
    text-align: center;
    padding: 10px 15px;
    background: linear-gradient(135deg, #f5eef8 0%, #ebdef0 100%);
    border-radius: 10px;
    border: 2px solid #d7bde2;
}

.identify-missing-input-section {
    width: 100%;
    max-width: 350px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.identify-missing-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.identify-missing-input.incorrect {
    border-color: #e74c3c;
    background: #fdedec;
}

.identify-missing-check-btn:active {
    transform: translateY(0);
}

/* Responsive identify missing styles */
@media (max-width: 600px) {
    .identify-missing-question {
        font-size: 1rem;
        padding: 8px 12px;
    }

}

/* ===========================================
   [21] IDENTIFYING PARTS OF A WHOLE STYLES
   =========================================== */
.identifying-parts-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 10px;
}

.identifying-parts-main-image {
    width: 200px;
    height: 150px;
    border: 4px solid #e67e22;
    border-radius: 15px;
    overflow: hidden;
    background: #fef9f3;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(230, 126, 34, 0.2);
}

.identifying-parts-main-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.identifying-parts-hints {
    display: flex;
    gap: 10px;
    justify-content: center;
    flex-wrap: wrap;
}

.parts-hint-item {
    width: 70px;
    height: 55px;
    border: 3px solid #f39c12;
    border-radius: 10px;
    overflow: hidden;
    background: #fffbf5;
    display: flex;
    align-items: center;
    justify-content: center;
}

.parts-hint-item img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.identifying-parts-question {
    font-size: 1.1rem;
    font-weight: 600;
    color: #d35400;
    text-align: center;
    padding: 8px 15px;
    background: linear-gradient(135deg, #fef9f3 0%, #fdecd0 100%);
    border-radius: 10px;
    border: 2px solid #f5cba7;
}

.identifying-parts-inputs {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 300px;
}

.parts-input-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.parts-input-group label {
    font-weight: 600;
    color: #d35400;
    min-width: 60px;
    font-size: 0.9rem;
}

.parts-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.parts-input.incorrect {
    border-color: #e74c3c;
    background: #fdedec;
}

.identifying-parts-check-btn:active {
    transform: translateY(0);
}

/* Responsive identifying parts styles */
@media (max-width: 600px) {
    .identifying-parts-main-image {
        width: 180px;
        height: 130px;
    }

    .parts-hint-item {
        width: 55px;
        height: 45px;
    }

    .identifying-parts-question {
        font-size: 1rem;
        padding: 6px 12px;
    }

    .parts-input-group label {
        min-width: 50px;
        font-size: 0.85rem;
    }
}

/* ===========================================
   [22] IDIOMS STYLES
   =========================================== */
.idioms-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 10px;
}

.idioms-text {
    font-size: 1.4rem;
    font-weight: 700;
    color: #2c3e50;
    text-align: center;
    padding: 12px 20px;
    background: linear-gradient(135deg, #e8f4fc 0%, #d6eaf8 100%);
    border-radius: 12px;
    border: 3px solid #85c1e9;
    font-style: italic;
    quotes: """ """ "'" "'";
}

.idioms-text::before {
    content: open-quote;
    color: #3498db;
}

.idioms-text::after {
    content: close-quote;
    color: #3498db;
}

.idioms-question {
    font-size: 1rem;
    font-weight: 600;
    color: #2980b9;
    text-align: center;
    padding: 8px 15px;
}

.idioms-input-section {
    width: 100%;
    max-width: 350px;
}

.idioms-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.idioms-input.incorrect {
    border-color: #e74c3c;
    background: #fdedec;
}

.idioms-check-btn:active {
    transform: translateY(0);
}

/* Responsive idioms styles */
@media (max-width: 600px) {
    .idioms-text {
        font-size: 1.2rem;
        padding: 10px 15px;
    }

}

/* ===========================================
   [23] INFERENCING LEVEL 1 STYLES
   =========================================== */
.inferencing-l1-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 10px;
}

.inferencing-l1-paragraph {
    font-size: 1rem;
    line-height: 1.5;
    color: #2c3e50;
    text-align: center;
    padding: 12px 15px;
    background: linear-gradient(135deg, #e8f8f5 0%, #d1f2eb 100%);
    border-radius: 12px;
    border: 3px solid #a3e4d7;
    max-width: 380px;
}

.inferencing-l1-question {
    font-size: 1.1rem;
    font-weight: 700;
    color: #16a085;
    text-align: center;
    padding: 10px 15px;
    background: #f0fdf9;
    border-radius: 10px;
    border: 2px solid #16a085;
    max-width: 350px;
}

.inferencing-l1-input-section {
    width: 100%;
    max-width: 350px;
}

.inferencing-l1-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.inferencing-l1-input.incorrect {
    border-color: #e74c3c;
    background: #fdedec;
}

.inferencing-l1-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.inferencing-l1-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

/* Responsive inferencing level 1 styles */
@media (max-width: 600px) {
    .inferencing-l1-paragraph {
        font-size: 0.95rem;
        padding: 10px 12px;
    }

    .inferencing-l1-question {
        font-size: 1rem;
        padding: 8px 12px;
    }

}

/* =============================================
   [24] INFERENCING LEVEL 2 STYLES (Deep Purple Theme)
   ============================================= */
.inferencing-l2-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    padding: 8px;
}

.inferencing-l2-header {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
    max-width: 400px;
}

.inferencing-l2-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #5e35b1;
    text-align: left;
    flex: 1;
}

.inferencing-l2-passage-box {
    width: 100%;
    max-width: 400px;
    max-height: 140px;
    overflow-y: auto;
    padding: 12px 15px;
    background: linear-gradient(135deg, #ede7f6 0%, #e1d5f0 100%);
    border-radius: 12px;
    border: 3px solid #b39ddb;
}

.inferencing-l2-passage {
    font-size: 0.95rem;
    line-height: 1.5;
    color: #2c3e50;
    text-align: left;
}

.inferencing-l2-progress-section {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 6px 12px;
    background: #f5f0ff;
    border-radius: 20px;
}

.inferencing-l2-progress {
    font-size: 0.9rem;
    font-weight: 600;
    color: #5e35b1;
}

.inferencing-l2-dots {
    display: flex;
    gap: 8px;
}

.inferencing-l2-dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: #d1c4e9;
    border: 2px solid #b39ddb;
    transition: all 0.3s ease;
}

.inferencing-l2-dot.current {
    border-color: #5e35b1;
    box-shadow: 0 0 0 3px rgba(94, 53, 177, 0.3);
}

.inferencing-l2-dot.correct {
    background: #27ae60;
    border-color: #27ae60;
}

.inferencing-l2-dot.incorrect {
    background: #e74c3c;
    border-color: #e74c3c;
}

.inferencing-l2-question {
    font-size: 1rem;
    font-weight: 700;
    color: #5e35b1;
    text-align: center;
    padding: 10px 15px;
    background: #f5f0ff;
    border-radius: 10px;
    border: 2px solid #5e35b1;
    max-width: 380px;
}

.inferencing-l2-input-section {
    width: 100%;
    max-width: 350px;
}

.inferencing-l2-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.inferencing-l2-input.incorrect {
    border-color: #e74c3c;
    background: #fdedec;
}

.inferencing-l2-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.inferencing-l2-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

/* Responsive inferencing level 2 styles */
@media (max-width: 600px) {
    .inferencing-l2-header {
        flex-direction: column;
        gap: 8px;
    }

    .inferencing-l2-title {
        font-size: 1rem;
        text-align: center;
    }

    .inferencing-l2-passage-box {
        max-height: 120px;
        padding: 10px 12px;
    }

    .inferencing-l2-passage {
        font-size: 0.9rem;
    }

    .inferencing-l2-question {
        font-size: 0.95rem;
        padding: 8px 12px;
    }

}

/* =============================================
   [26] IRREGULAR PAST TENSE STYLES (Orange/Amber Theme)
   ============================================= */
.irregular-past-tense-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 10px;
}

.irregular-verb-header {
    font-size: 1.4rem;
    font-weight: 800;
    color: #e65100;
    text-align: center;
    padding: 8px 20px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-radius: 20px;
    border: 3px solid #ffb74d;
    letter-spacing: 2px;
}

.irregular-verb-sentence {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #2c3e50;
    text-align: center;
    padding: 15px 20px;
    background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
    border-radius: 12px;
    border: 3px solid #ffcc80;
    max-width: 380px;
}

.irregular-verb-sentence u {
    color: #d84315;
    font-weight: 700;
    text-decoration-color: #d84315;
    text-decoration-thickness: 2px;
}

.irregular-verb-choices {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    width: 100%;
    max-width: 350px;
}

.irregular-verb-choice-btn {
    padding: 12px 16px;
    font-size: 1rem;
    font-family: inherit;
    font-weight: 600;
    background: white;
    border: 3px solid #ffcc80;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
    color: #333;
}

.irregular-verb-choice-btn:hover:not(:disabled) {
    background: #fff3e0;
    border-color: #f57c00;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(245, 124, 0, 0.2);
}

.irregular-verb-choice-btn:active:not(:disabled) {
    transform: translateY(0);
}

.irregular-verb-choice-btn .choice-label {
    color: #f57c00;
    font-weight: 700;
    margin-right: 6px;
}

.irregular-verb-choice-btn.correct {
    background: #e8f5e9;
    border-color: #27ae60;
    color: #27ae60;
}

.irregular-verb-choice-btn.correct .choice-label {
    color: #27ae60;
}

.irregular-verb-choice-btn.incorrect {
    background: #ffebee;
    border-color: #e74c3c;
    color: #e74c3c;
}

.irregular-verb-choice-btn.incorrect .choice-label {
    color: #e74c3c;
}

.irregular-verb-choice-btn:disabled {
    cursor: not-allowed;
    opacity: 0.8;
}

/* Responsive irregular past tense styles */
@media (max-width: 600px) {
    .irregular-verb-header {
        font-size: 1.2rem;
        padding: 6px 16px;
    }

    .irregular-verb-sentence {
        font-size: 1rem;
        padding: 12px 15px;
    }

    .irregular-verb-choices {
        grid-template-columns: 1fr;
        gap: 8px;
    }

    .irregular-verb-choice-btn {
        font-size: 0.95rem;
        padding: 10px 14px;
    }
}

/* =============================================
   [27] IRREGULAR PLURALS STYLES (Teal/Cyan Theme)
   ============================================= */
.irregular-plurals-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
}

.irregular-plural-prompt {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
}

.irregular-plural-singular {
    font-size: 1.5rem;
    font-weight: 800;
    color: #00695c;
    background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
    padding: 10px 20px;
    border-radius: 12px;
    border: 3px solid #4db6ac;
}

.irregular-plural-arrow {
    font-size: 1.8rem;
    font-weight: 700;
    color: #00897b;
}

.irregular-plural-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.irregular-plural-input.incorrect {
    border-color: #e74c3c;
    background: #fdedec;
}

.irregular-plural-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.irregular-plural-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

/* Responsive irregular plurals styles */
@media (max-width: 600px) {
    .irregular-plural-singular {
        font-size: 1.3rem;
        padding: 8px 16px;
    }

    .irregular-plural-arrow {
        font-size: 1.5rem;
    }

    .irregular-plural-prompt {
        gap: 8px;
    }
}

/* ============================================
   [30] Multiple Meaning Words Styles (Orange Theme)
   ============================================ */
.multiple-meaning-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.multiple-meaning-header {
    display: flex;
    align-items: center;
    gap: 20px;
    width: 100%;
}

.multiple-meaning-word {
    font-size: 2.5rem;
    font-weight: 800;
    color: #e65100;
    text-transform: uppercase;
    letter-spacing: 2px;
    flex: 1;
    text-align: center;
}

.multiple-meaning-question {
    font-size: 1.15rem;
    font-weight: 600;
    color: #f57c00;
    text-align: center;
    padding: 10px;
}

.multiple-meaning-inputs {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
}

.multiple-meaning-input-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}

.meaning-label {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    min-width: 36px;
    background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 1.1rem;
}

.multiple-meaning-input::placeholder {
    color: #ffb74d;
}

.multiple-meaning-input.correct {
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    border-color: #4caf50;
    color: #2e7d32;
}

.multiple-meaning-input.incorrect {
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
    color: #c62828;
}

.multiple-meaning-feedback {
    width: 28px;
    height: 28px;
    min-width: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 50%;
}

/* Responsive multiple meaning styles */
@media (max-width: 600px) {
    .multiple-meaning-header {
        flex-direction: column;
        text-align: center;
    }

    .multiple-meaning-word {
        font-size: 2rem;
    }

    .multiple-meaning-question {
        font-size: 1rem;
    }

    .meaning-label {
        width: 30px;
        height: 30px;
        min-width: 30px;
        font-size: 1rem;
    }
}

/* ============================================
   [31] Naming And Categorizing Styles (Purple Theme)
   ============================================ */
.naming-categorizing-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.naming-categorizing-images {
    display: flex;
    justify-content: center;
    gap: 15px;
    width: 100%;
    flex-wrap: wrap;
}

.naming-categorizing-image-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
}

.naming-categorizing-image {
    width: 110px;
    height: 110px;
    object-fit: contain;
    border: 3px solid #9c27b0;
    border-radius: 12px;
    background: #f3e5f5;
    padding: 5px;
    box-shadow: 0 4px 12px rgba(156, 39, 176, 0.2);
}

.naming-categorizing-image-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: #7b1fa2;
    background: #e1bee7;
    padding: 3px 10px;
    border-radius: 10px;
}

.naming-categorizing-inputs {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
}

.naming-categorizing-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
}

.naming-categorizing-label {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    min-width: 32px;
    background: linear-gradient(135deg, #9c27b0 0%, #ba68c8 100%);
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 1rem;
}

.naming-categorizing-input::placeholder {
    color: #ba68c8;
}

.naming-categorizing-input.correct {
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    border-color: #4caf50;
    color: #2e7d32;
}

.naming-categorizing-input.incorrect {
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
    color: #c62828;
}

.naming-categorizing-category-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    margin-top: 10px;
    padding-top: 15px;
    border-top: 2px dashed #ce93d8;
}

.naming-categorizing-category-label {
    font-size: 1.1rem;
    font-weight: 700;
    color: #7b1fa2;
    min-width: 80px;
}

.naming-categorizing-feedback {
    width: 28px;
    height: 28px;
    min-width: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 50%;
}

/* Responsive naming categorizing styles */
@media (max-width: 600px) {
    .naming-categorizing-images {
        gap: 10px;
    }

    .naming-categorizing-image {
        width: 80px;
        height: 80px;
    }

    .naming-categorizing-image-label {
        font-size: 0.75rem;
    }

    .naming-categorizing-label {
        width: 28px;
        height: 28px;
        min-width: 28px;
        font-size: 0.9rem;
    }

    .naming-categorizing-category-label {
        min-width: 70px;
        font-size: 1rem;
    }
}

/* ============================================
   [32] Community Helpers Styles (Cyan Theme)
   ============================================ */
.community-helpers-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.community-helpers-question {
    font-size: 1.5rem;
    font-weight: 700;
    color: #00838f;
    text-align: center;
}

.community-helpers-input-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    max-width: 400px;
}

.community-helpers-input::placeholder {
    color: #4dd0e1;
}

.community-helpers-input.correct {
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    border-color: #4caf50;
    color: #2e7d32;
}

.community-helpers-input.incorrect {
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
    color: #c62828;
}

.community-helpers-feedback {
    width: 32px;
    height: 32px;
    min-width: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    font-weight: 700;
    border-radius: 50%;
}

/* Responsive community helpers styles */
@media (max-width: 600px) {
    .community-helpers-question {
        font-size: 1.3rem;
    }

}

/* ============================================
   [34] Noun Naming Styles (Orange/Amber Theme)
   ============================================ */
.noun-naming-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.noun-naming-question {
    font-size: 1.5rem;
    font-weight: 700;
    color: #e65100;
    text-align: center;
}

.noun-naming-input-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    max-width: 400px;
}

.noun-naming-input::placeholder {
    color: #ffb74d;
}

.noun-naming-input.correct {
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    border-color: #4caf50;
    color: #2e7d32;
}

.noun-naming-input.incorrect {
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
    color: #c62828;
}

.noun-naming-feedback {
    width: 32px;
    height: 32px;
    min-width: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    font-weight: 700;
    border-radius: 50%;
}

/* Responsive noun naming styles */
@media (max-width: 600px) {
    .noun-naming-question {
        font-size: 1.3rem;
    }

}

/* ============================================
   [35] Nouns Set Of Three Styles (Teal Theme)
   ============================================ */
.nouns-set-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 18px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.nouns-set-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #00796b;
    text-align: center;
    line-height: 1.4;
}

.nouns-set-highlight {
    background: linear-gradient(135deg, #80cbc4 0%, #4db6ac 100%);
    color: #004d40;
    padding: 2px 10px;
    border-radius: 8px;
    font-weight: 800;
}

.nouns-set-images {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
}

.nouns-set-image-btn {
    position: relative;
    width: 130px;
    height: 130px;
    padding: 8px;
    border: 4px solid #80cbc4;
    border-radius: 16px;
    background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.nouns-set-image-btn:hover:not(:disabled) {
    transform: scale(1.05);
    border-color: #26a69a;
    box-shadow: 0 8px 20px rgba(0, 121, 107, 0.3);
}

.nouns-set-image-btn:disabled {
    cursor: not-allowed;
}

.nouns-set-image-btn.selected {
    border-color: #00796b;
    box-shadow: 0 0 0 4px rgba(0, 121, 107, 0.3);
}

.nouns-set-image-btn.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 20px rgba(76, 175, 80, 0.5);
}

.nouns-set-image-btn.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 20px rgba(244, 67, 54, 0.5);
}

.nouns-set-image {
    width: 100%;
    height: 90px;
    object-fit: contain;
    border-radius: 8px;
}

.nouns-set-image-label {
    position: absolute;
    bottom: 5px;
    left: 50%;
    transform: translateX(-50%);
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #26a69a 0%, #00897b 100%);
    color: white;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

/* Responsive nouns set of three styles */
@media (max-width: 600px) {
    .nouns-set-image-btn {
        width: 100px;
        height: 100px;
    }

    .nouns-set-image {
        height: 70px;
    }

    .nouns-set-question {
        font-size: 1.2rem;
    }
}

/* ============================================
   [36] Past Tense Irregular Styles (Purple Theme)
   ============================================ */
.past-tense-irregular-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.past-tense-verb-header {
    font-size: 1.6rem;
    font-weight: 800;
    text-align: center;
    padding: 10px 20px;
    background: linear-gradient(135deg, #e1bee7 0%, #ce93d8 100%);
    border-radius: 12px;
    color: #4a148c;
    box-shadow: 0 4px 12px rgba(156, 39, 176, 0.2);
}

.past-tense-base {
    color: #7b1fa2;
}

.past-tense-arrow {
    color: #9c27b0;
    margin: 0 8px;
}

.past-tense-past {
    color: #4a148c;
    font-weight: 900;
}

.past-tense-sentence {
    font-size: 1.25rem;
    font-weight: 600;
    color: #4a148c;
    text-align: center;
    line-height: 1.5;
    padding: 12px 16px;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border-radius: 12px;
    border: 2px solid #ce93d8;
    max-width: 100%;
}

.past-tense-blank {
    background: linear-gradient(135deg, #ce93d8 0%, #ba68c8 100%);
    color: #4a148c;
    padding: 2px 12px;
    border-radius: 6px;
    font-weight: 700;
    border-bottom: 3px dashed #7b1fa2;
}

.past-tense-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 300px;
}

.past-tense-choice-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 18px;
    border: 3px solid #ce93d8;
    border-radius: 12px;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.1rem;
}

.past-tense-choice-btn:hover:not(:disabled) {
    transform: translateX(5px);
    border-color: #9c27b0;
    box-shadow: 0 4px 12px rgba(156, 39, 176, 0.3);
}

.past-tense-choice-btn:disabled {
    cursor: not-allowed;
}

.past-tense-choice-btn.selected {
    border-color: #7b1fa2;
    box-shadow: 0 0 0 3px rgba(123, 31, 162, 0.3);
}

.past-tense-choice-btn.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
}

.past-tense-choice-btn.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.5);
}

.past-tense-choice-label {
    width: 32px;
    height: 32px;
    min-width: 32px;
    background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
    color: white;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.past-tense-choice-text {
    font-weight: 600;
    color: #4a148c;
}

/* Responsive past tense irregular styles */
@media (max-width: 600px) {
    .past-tense-verb-header {
        font-size: 1.3rem;
        padding: 8px 16px;
    }

    .past-tense-sentence {
        font-size: 1.1rem;
        padding: 10px 12px;
    }

    .past-tense-choice-btn {
        padding: 12px 14px;
        font-size: 1rem;
    }
}

/* ============================================
   [37] Possessives Common Nouns Styles (Orange Theme)
   ============================================ */
.possessives-common-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.possessives-common-sentence {
    font-size: 1.3rem;
    font-weight: 600;
    color: #e65100;
    text-align: center;
    line-height: 1.5;
    padding: 14px 18px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-radius: 12px;
    border: 2px solid #ffcc80;
    max-width: 100%;
}

.possessives-common-blank {
    background: linear-gradient(135deg, #ffcc80 0%, #ffb74d 100%);
    color: #e65100;
    padding: 2px 12px;
    border-radius: 6px;
    font-weight: 700;
    border-bottom: 3px dashed #f57c00;
}

.possessives-common-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 300px;
}

.possessives-common-choice-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 18px;
    border: 3px solid #ffcc80;
    border-radius: 12px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.1rem;
}

.possessives-common-choice-btn:hover:not(:disabled) {
    transform: translateX(5px);
    border-color: #ff9800;
    box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
}

.possessives-common-choice-btn:disabled {
    cursor: not-allowed;
}

.possessives-common-choice-btn.selected {
    border-color: #f57c00;
    box-shadow: 0 0 0 3px rgba(245, 124, 0, 0.3);
}

.possessives-common-choice-btn.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
}

.possessives-common-choice-btn.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.5);
}

.possessives-common-choice-label {
    width: 32px;
    height: 32px;
    min-width: 32px;
    background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
    color: white;
    font-size: 1rem;
    font-weight: 700;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.possessives-common-choice-text {
    font-weight: 600;
    color: #e65100;
}

/* Responsive possessives common styles */
@media (max-width: 600px) {
    .possessives-common-sentence {
        font-size: 1.1rem;
        padding: 10px 12px;
    }

    .possessives-common-choice-btn {
        padding: 12px 14px;
        font-size: 1rem;
    }
}

/* ============================================
   [38] Prepositions Styles (Blue/Cyan Theme)
   ============================================ */
.prepositions-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.prepositions-question {
    font-size: 1.3rem;
    font-weight: 700;
    color: #00838f;
    text-align: center;
    line-height: 1.4;
}

.prepositions-sentence {
    font-size: 1.2rem;
    font-weight: 600;
    color: #006064;
    text-align: center;
    line-height: 1.5;
    padding: 12px 16px;
    background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
    border-radius: 12px;
    border: 2px solid #80deea;
    max-width: 100%;
}

.prepositions-blank {
    background: linear-gradient(135deg, #80deea 0%, #4dd0e1 100%);
    color: #006064;
    padding: 2px 14px;
    border-radius: 6px;
    font-weight: 700;
    border-bottom: 3px dashed #00acc1;
}

.prepositions-input-wrapper {
    position: relative;
    width: 100%;
    max-width: 280px;
}

.prepositions-input::placeholder {
    color: #4dd0e1;
    font-weight: 500;
}

.prepositions-input.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
}

.prepositions-input.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.3);
}

.prepositions-feedback {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.4rem;
    font-weight: bold;
}

/* Responsive prepositions styles */
@media (max-width: 600px) {
    .prepositions-question {
        font-size: 1.1rem;
    }

    .prepositions-sentence {
        font-size: 1rem;
        padding: 10px 12px;
    }

}

/* ============================================
   [39] Problem Solving Styles (Green/Teal Theme)
   ============================================ */
.problem-solving-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.problem-solving-scenario {
    font-size: 1.15rem;
    font-weight: 600;
    color: #00695c;
    text-align: center;
    line-height: 1.5;
    padding: 12px 16px;
    background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
    border-radius: 12px;
    border: 2px solid #80cbc4;
    max-width: 100%;
}

.problem-solving-question {
    font-size: 1.2rem;
    font-weight: 700;
    color: #004d40;
    text-align: center;
}

.problem-solving-input-wrapper {
    position: relative;
    width: 100%;
    max-width: 320px;
}

.problem-solving-textarea {
    width: 100%;
    padding: 12px 16px;
    font-size: 1rem;
    font-weight: 500;
    font-family: inherit;
    border: 3px solid #80cbc4;
    border-radius: 12px;
    background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
    color: #00695c;
    resize: none;
    transition: all 0.3s ease;
    box-sizing: border-box;
    min-height: 80px;
}

.problem-solving-textarea:focus {
    outline: none;
    border-color: #009688;
    box-shadow: 0 0 0 3px rgba(0, 150, 136, 0.2);
}

.problem-solving-textarea::placeholder {
    color: #4db6ac;
    font-weight: 500;
}

.problem-solving-textarea.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
}

.problem-solving-textarea.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.3);
}

.problem-solving-feedback {
    position: absolute;
    right: 12px;
    top: 12px;
    font-size: 1.4rem;
    font-weight: bold;
}

/* Responsive problem solving styles */
@media (max-width: 600px) {
    .problem-solving-scenario {
        font-size: 1rem;
        padding: 10px 12px;
    }

    .problem-solving-question {
        font-size: 1.05rem;
    }

    .problem-solving-textarea {
        padding: 10px 14px;
        font-size: 0.95rem;
        min-height: 70px;
    }

}

/* ============================================
   Problem Solving Images Styles (Purple/Violet Theme)
   Image-focused problem solving - larger image, no scenario text
   ============================================ */
.problem-solving-images-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.problem-solving-images-question {
    font-size: 1.3rem;
    font-weight: 700;
    color: #4527a0;
    text-align: center;
    padding: 10px 16px;
    background: linear-gradient(135deg, #ede7f6 0%, #d1c4e9 100%);
    border-radius: 12px;
    border: 2px solid #b39ddb;
}

.problem-solving-images-input-wrapper {
    position: relative;
    width: 100%;
    max-width: 320px;
}

.problem-solving-images-textarea {
    width: 100%;
    padding: 12px 16px;
    font-size: 1rem;
    font-weight: 500;
    font-family: inherit;
    border: 3px solid #b39ddb;
    border-radius: 12px;
    background: linear-gradient(135deg, #ede7f6 0%, #d1c4e9 100%);
    color: #5e35b1;
    resize: none;
    transition: all 0.3s ease;
    box-sizing: border-box;
    min-height: 80px;
}

.problem-solving-images-textarea:focus {
    outline: none;
    border-color: #7e57c2;
    box-shadow: 0 0 0 3px rgba(103, 58, 183, 0.2);
}

.problem-solving-images-textarea::placeholder {
    color: #9575cd;
    font-weight: 500;
}

.problem-solving-images-textarea.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
}

.problem-solving-images-textarea.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.3);
}

.problem-solving-images-feedback {
    position: absolute;
    right: 12px;
    top: 12px;
    font-size: 1.4rem;
    font-weight: bold;
}

/* Responsive problem solving images styles */
@media (max-width: 600px) {
    .problem-solving-images-question {
        font-size: 1.1rem;
    }

    .problem-solving-images-textarea {
        padding: 10px 14px;
        font-size: 0.95rem;
        min-height: 70px;
    }

}

/* ============================================
   [40] Pronouns Styles (Light Blue/Sky Theme)
   ============================================ */
.pronouns-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.pronouns-question {
    font-size: 1.1rem;
    font-weight: 600;
    color: #0277bd;
    text-align: center;
    font-style: italic;
    margin-bottom: -8px;
}

.pronouns-sentence {
    font-size: 1.25rem;
    font-weight: 600;
    color: #01579b;
    text-align: center;
    line-height: 1.6;
    padding: 14px 18px;
    background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%);
    border-radius: 12px;
    border: 2px solid #4fc3f7;
    max-width: 100%;
}

.pronouns-blank {
    color: #0288d1;
    font-weight: 700;
    background: rgba(3, 169, 244, 0.15);
    padding: 2px 8px;
    border-radius: 6px;
    border-bottom: 3px solid #0288d1;
}

.pronouns-input-wrapper {
    position: relative;
    width: 100%;
    max-width: 200px;
}

.pronouns-input::placeholder {
    color: #4fc3f7;
    font-weight: 500;
}

.pronouns-input.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    box-shadow: 0 0 15px rgba(76, 175, 80, 0.3);
}

.pronouns-input.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    box-shadow: 0 0 15px rgba(244, 67, 54, 0.3);
}

.pronouns-feedback {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.4rem;
    font-weight: bold;
}

/* Responsive pronouns styles */
@media (max-width: 600px) {
    .pronouns-sentence {
        font-size: 1.1rem;
        padding: 10px 14px;
    }

}

/* ============================================
   [33] Negation Styles (Pink/Red Theme)
   ============================================ */
.negation-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 18px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.negation-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #c2185b;
    text-align: center;
    line-height: 1.4;
}

.negation-highlight {
    background: linear-gradient(135deg, #e91e63 0%, #f48fb1 100%);
    color: white;
    padding: 2px 8px;
    border-radius: 6px;
    font-weight: 800;
    text-transform: uppercase;
}

.negation-images {
    display: flex;
    justify-content: center;
    gap: 12px;
    width: 100%;
    flex-wrap: wrap;
}

.negation-image-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 8px;
    border: 4px solid #f8bbd9;
    border-radius: 14px;
    background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.negation-image-btn:hover:not(:disabled) {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(233, 30, 99, 0.3);
    border-color: #e91e63;
}

.negation-image-btn.selected {
    border-color: #e91e63;
    box-shadow: 0 0 0 4px rgba(233, 30, 99, 0.3);
}

.negation-image-btn.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
}

.negation-image-btn.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
}

.negation-image-btn:disabled {
    cursor: not-allowed;
}

.negation-image {
    width: 100px;
    height: 100px;
    object-fit: contain;
    border-radius: 8px;
}

.negation-image-label {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #e91e63 0%, #f48fb1 100%);
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 1rem;
}

.negation-input-row {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    max-width: 350px;
}

.negation-input::placeholder {
    color: #f48fb1;
}

.negation-input.correct {
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    border-color: #4caf50;
    color: #2e7d32;
}

.negation-input.incorrect {
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
    color: #c62828;
}

.negation-feedback {
    width: 32px;
    height: 32px;
    min-width: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    font-weight: 700;
    border-radius: 50%;
}

/* Responsive negation styles */
@media (max-width: 600px) {
    .negation-images {
        gap: 8px;
    }

    .negation-image {
        width: 80px;
        height: 80px;
    }

    .negation-image-btn {
        padding: 6px;
    }

    .negation-question {
        font-size: 1.2rem;
    }

}

/* ============================================
   [41] Questions For You Styles (Warm Orange/Yellow Theme)
   ============================================ */
.questions-for-you-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.questions-for-you-question {
    font-size: 1.3rem;
    font-weight: 700;
    color: #e65100;
    text-align: center;
    line-height: 1.5;
    padding: 12px 16px;
    background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
    border-radius: 12px;
    border: 2px solid #ffcc80;
    max-width: 90%;
}

.questions-for-you-textarea {
    width: 90%;
    min-height: 80px;
    padding: 12px 14px;
    font-size: 1.1rem;
    font-family: inherit;
    border: 3px solid #ffcc80;
    border-radius: 12px;
    background: #fffde7;
    color: #bf360c;
    resize: vertical;
    transition: border-color 0.2s, box-shadow 0.2s;
}

.questions-for-you-textarea:focus {
    outline: none;
    border-color: #ff9800;
    box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.2);
}

.questions-for-you-textarea::placeholder {
    color: #ffab40;
}

.questions-for-you-textarea:disabled {
    background: #fff8e1;
    opacity: 0.8;
}

.questions-for-you-submit-btn {
    padding: 12px 32px;
    font-size: 1.1rem;
    font-weight: 700;
    color: white;
    background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
}

.questions-for-you-submit-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4);
}

.questions-for-you-submit-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

/* ============================================
   [44] Rhyming Fill In Styles (Purple/Violet Theme)
   ============================================ */
.rhyming-fill-in-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.rhyming-images-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.rhyming-image-wrapper {
    width: 100%;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.rhyming-image-fallback {
    font-size: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.rhyming-word {
    font-size: 1rem;
    font-weight: 700;
    color: #7b1fa2;
    text-align: center;
    padding: 4px 8px;
    background: rgba(255, 255, 255, 0.8);
    width: 100%;
}

.rhyming-word.rhyming-blank {
    color: #9c27b0;
    font-size: 1.5rem;
}

.rhyming-arrow {
    font-size: 2rem;
    font-weight: 700;
    color: #9c27b0;
    margin: 0 8px;
}

.rhyming-input-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    max-width: 280px;
}

.rhyming-input::placeholder {
    color: #ab47bc;
    font-weight: 400;
}

.rhyming-input.correct {
    border-color: #4caf50;
    background: #e8f5e9;
}

.rhyming-input.incorrect {
    border-color: #f44336;
    background: #ffebee;
}

.rhyming-feedback {
    font-size: 1.5rem;
    font-weight: 700;
    min-width: 30px;
    text-align: center;
}

/* ============================================
   [44] Rhyming Match Styles (Purple/Magenta Theme)
   ============================================ */
.rhyming-match-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.rhyming-match-target {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 12px;
    border: 4px solid #ab47bc;
    border-radius: 16px;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    box-shadow: 0 4px 12px rgba(171, 71, 188, 0.2);
}

.rhyming-match-target-image-wrapper {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.rhyming-match-target-image-wrapper img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.rhyming-match-fallback {
    font-size: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.rhyming-match-target-word {
    font-size: 1.4rem;
    font-weight: 700;
    color: #7b1fa2;
    text-align: center;
}

.rhyming-match-instruction {
    font-size: 1rem;
    font-weight: 600;
    color: #6a1b9a;
    margin: 8px 0;
}

.rhyming-match-options {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    width: 100%;
    max-width: 400px;
}

.rhyming-match-option {
    width: 130px;
    border: 3px solid #ce93d8;
    border-radius: 12px;
    background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(156, 39, 176, 0.15);
}

.rhyming-match-option:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(156, 39, 176, 0.25);
}

.rhyming-match-option.selected {
    border-color: #9c27b0;
    border-width: 4px;
    background: linear-gradient(135deg, #e1bee7 0%, #ce93d8 100%);
    box-shadow: 0 4px 16px rgba(156, 39, 176, 0.35);
}

.rhyming-match-option.correct-answer {
    border-color: #4caf50;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
}

.rhyming-match-option.wrong-selection {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
}

.rhyming-match-option-image-wrapper {
    width: 100px;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.rhyming-match-option-image-wrapper img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.rhyming-match-option-fallback {
    font-size: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.rhyming-match-option-word {
    font-size: 0.95rem;
    font-weight: 700;
    color: #7b1fa2;
    text-align: center;
}

/* ============================================
   [45] Safety Signs Styles (Yellow/Orange Theme)
   ============================================ */
.safety-signs-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.safety-signs-fallback {
    font-size: 4rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.safety-signs-sign-type {
    font-size: 1.1rem;
    font-weight: 600;
    color: #f57f17;
    text-align: center;
    padding: 6px 12px;
    background: rgba(255, 249, 196, 0.8);
    border-radius: 8px;
}

.safety-signs-input-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    max-width: 320px;
}

.safety-signs-input::placeholder {
    color: #ffa726;
    font-weight: 400;
}

.safety-signs-input.correct {
    border-color: #4caf50;
    background: #e8f5e9;
}

.safety-signs-input.incorrect {
    border-color: #f44336;
    background: #ffebee;
}

.safety-signs-feedback {
    font-size: 1.5rem;
    font-weight: 700;
    min-width: 30px;
    text-align: center;
}

/* ============================================
   [46] Semantic Relationships Styles (Teal/Cyan Theme)
   ============================================ */
.semantic-relationships-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.semantic-image-fallback {
    font-size: 4rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.semantic-description {
    font-size: 1rem;
    font-weight: 500;
    color: #006064;
    text-align: center;
    padding: 10px 16px;
    background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
    border-radius: 12px;
    border: 2px solid #4dd0e1;
    max-width: 320px;
    line-height: 1.4;
}

.semantic-question {
    font-size: 1.15rem;
    font-weight: 700;
    color: #00838f;
    text-align: center;
    padding: 8px 12px;
}

.semantic-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    max-width: 320px;
}

.semantic-choice-btn {
    padding: 12px 16px;
    font-size: 1rem;
    font-weight: 600;
    text-align: left;
    color: #006064;
    background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
    border: 3px solid #4dd0e1;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(0, 172, 193, 0.15);
}

.semantic-choice-btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 172, 193, 0.25);
    border-color: #00acc1;
    background: linear-gradient(135deg, #b2ebf2 0%, #80deea 100%);
}

.semantic-choice-btn .choice-letter {
    font-weight: 700;
    color: #00838f;
}

.semantic-choice-btn.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    color: #2e7d32;
}

.semantic-choice-btn.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    color: #c62828;
}

.semantic-choice-btn:disabled {
    cursor: not-allowed;
    opacity: 0.8;
}

/* ============================================
   [47] Sequencing Images Styles (Blue/Indigo Theme)
   ============================================ */
.sequencing-images-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

.sequencing-instruction {
    font-size: 1rem;
    font-weight: 600;
    color: #3949ab;
    text-align: center;
    margin: 0;
}

.sequencing-images-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    width: 100%;
    max-width: 400px;
}

.sequencing-image-card {
    width: 85px;
    height: 110px;
    border: 3px solid #7986cb;
    border-radius: 12px;
    background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 6px;
    cursor: grab;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(63, 81, 181, 0.2);
    position: relative;
    user-select: none;
}

.sequencing-image-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(63, 81, 181, 0.3);
}

.sequencing-image-card.dragging {
    opacity: 0.5;
    cursor: grabbing;
}

.sequencing-image-card.drag-over {
    border-color: #3f51b5;
    background: linear-gradient(135deg, #c5cae9 0%, #9fa8da 100%);
}

.sequencing-image-card.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
}

.sequencing-image-card.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
}

.sequencing-label {
    position: absolute;
    top: -8px;
    left: -8px;
    width: 22px;
    height: 22px;
    background: #3f51b5;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    font-weight: 700;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.sequencing-image-wrapper {
    width: 65px;
    height: 65px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: 8px;
    background: white;
}

.sequencing-image-wrapper img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.sequencing-image-fallback {
    font-size: 1.5rem;
    font-weight: 700;
    color: #3f51b5;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

.sequencing-order-num {
    width: 20px;
    height: 20px;
    background: #5c6bc0;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
    margin-top: 4px;
}

.sequencing-answer-display {
    font-size: 1rem;
    font-weight: 600;
    color: #303f9f;
    text-align: center;
    padding: 8px 16px;
    background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
    border-radius: 20px;
    border: 2px solid #7986cb;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .board-space {
        border-width: 4px;
    }

    .card-content {
        border-width: 6px;
    }

    .control-btn {
        border: 2px solid currentColor;
    }
}

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .snowflakes {
        display: none;
    }
}

/* ============================================
   Short Stories High - Reading Comprehension
   Purple/Violet Theme
   ============================================ */

.short-stories-high-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 15px;
    max-height: 70vh;
    overflow-y: auto;
}

/* Story Section */
.ssh-story-section {
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(156, 39, 176, 0.15);
}

.ssh-image-wrapper {
    text-align: center;
    margin-bottom: 15px;
}

.ssh-image-wrapper img {
    max-width: 100%;
    max-height: 200px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    object-fit: contain;
}

.ssh-story-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #7b1fa2;
    text-align: center;
    margin: 0 0 15px 0;
}

.ssh-story-text {
    font-size: 1rem;
    line-height: 1.7;
    color: #4a148c;
    background: white;
    padding: 15px;
    border-radius: 12px;
    max-height: 200px;
    overflow-y: auto;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* Question Section - One at a time */
.ssh-question-section {
    background: white;
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(156, 39, 176, 0.12);
    border: 2px solid #e1bee7;
}

.ssh-question-number {
    font-size: 0.9rem;
    font-weight: 600;
    color: #9c27b0;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    padding: 6px 14px;
    border-radius: 20px;
    display: inline-block;
    margin-bottom: 12px;
}

.ssh-question-label {
    display: block;
    font-size: 1.1rem;
    font-weight: 600;
    color: #7b1fa2;
    margin-bottom: 12px;
}

.ssh-answer-input.correct {
    border-color: #4caf50;
    background-color: #e8f5e9;
}

.ssh-answer-input.incorrect {
    border-color: #ff9800;
    background-color: #fff3e0;
}

.ssh-answer-input:disabled {
    background-color: #f5f5f5;
    cursor: not-allowed;
}

/* Feedback */
.ssh-feedback {
    margin-top: 10px;
    padding: 10px 15px;
    border-radius: 8px;
    font-size: 0.95rem;
    font-weight: 500;
    min-height: 20px;
}

.ssh-feedback:empty {
    display: none;
}

/* Check Button */
/* Next Question Button */
.ssh-next-btn {
    display: block;
    margin-top: 12px;
    padding: 12px 30px;
    font-size: 1rem;
    font-weight: 700;
    color: white;
    background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
}

.ssh-next-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
}

/* Mobile adjustments */
@media (max-width: 600px) {
    .ssh-story-section {
        padding: 15px;
    }

    .ssh-story-title {
        font-size: 1.1rem;
    }

    .ssh-story-text {
        font-size: 0.95rem;
        max-height: 150px;
    }

    .ssh-question-section {
        padding: 15px;
    }

    .ssh-question-label {
        font-size: 1rem;
    }

}

/* ===================================
   SHORT STORIES SEQUENCING
   Story reading + image ordering
   =================================== */

.short-stories-sequencing-container {
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    padding: 10px;
}

/* Story Section */
.sss-story-section {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 20px;
    border: 2px solid #90caf9;
    box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15);
}

.sss-story-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #1565c0;
    margin: 0 0 12px 0;
    text-align: center;
}

.sss-story-text {
    font-size: 1.05rem;
    line-height: 1.7;
    color: #37474f;
    max-height: 200px;
    overflow-y: auto;
    padding-right: 10px;
    white-space: pre-wrap;
}

.sss-story-text::-webkit-scrollbar {
    width: 6px;
}

.sss-story-text::-webkit-scrollbar-track {
    background: rgba(33, 150, 243, 0.1);
    border-radius: 3px;
}

.sss-story-text::-webkit-scrollbar-thumb {
    background: rgba(33, 150, 243, 0.3);
    border-radius: 3px;
}

/* Question */
.sss-question {
    font-size: 1.1rem;
    font-weight: 600;
    color: #1565c0;
    text-align: center;
    margin-bottom: 15px;
    padding: 10px;
    background: rgba(33, 150, 243, 0.1);
    border-radius: 10px;
}

/* Images Grid */
.sss-images-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-bottom: 15px;
}

.sss-image-card {
    background: white;
    border: 3px solid #90caf9;
    border-radius: 12px;
    padding: 8px;
    cursor: grab;
    transition: all 0.2s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
}

.sss-image-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(33, 150, 243, 0.25);
    border-color: #42a5f5;
}

.sss-image-card.dragging {
    opacity: 0.5;
    cursor: grabbing;
    transform: scale(1.05);
    border-color: #1976d2;
    box-shadow: 0 8px 24px rgba(33, 150, 243, 0.35);
}

.sss-image-card.drag-over {
    border-color: #0d47a1;
    background: #e3f2fd;
    transform: scale(1.02);
}

.sss-image-card.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
}

.sss-image-card.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
}

/* Label Badge */
.sss-label {
    position: absolute;
    top: -8px;
    left: -8px;
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.9rem;
    box-shadow: 0 2px 6px rgba(25, 118, 210, 0.4);
    z-index: 2;
}

/* Image Wrapper */
.sss-image-wrapper {
    width: 100%;
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: 8px;
    background: #f5f5f5;
    margin-bottom: 5px;
}

.sss-image-wrapper img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.sss-image-fallback {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    color: #1565c0;
    font-size: 2rem;
    font-weight: 700;
}

/* Order Number */
.sss-order-num {
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #42a5f5 0%, #1976d2 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* Answer Display */
.sss-answer-display {
    text-align: center;
    font-size: 1rem;
    font-weight: 600;
    color: #1565c0;
    background: rgba(33, 150, 243, 0.1);
    padding: 12px 20px;
    border-radius: 25px;
    margin-bottom: 15px;
}

/* Check Button */
/* Mobile Responsive */
@media (max-width: 600px) {
    .sss-images-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }

    .sss-story-section {
        padding: 15px;
    }

    .sss-story-title {
        font-size: 1.1rem;
    }

    .sss-story-text {
        font-size: 0.95rem;
        max-height: 150px;
    }

    .sss-question {
        font-size: 1rem;
    }

    .sss-label {
        width: 24px;
        height: 24px;
        font-size: 0.8rem;
    }

    .sss-order-num {
        width: 20px;
        height: 20px;
        font-size: 0.75rem;
    }
}

/* ===================================
   SIGHT WORDS
   Word recognition with image
   =================================== */

.sight-words-container {
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
    padding: 20px;
    text-align: center;
}

/* Image Section */
.sw-image-section {
    background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
    border-radius: 20px;
    padding: 25px;
    margin-bottom: 20px;
    border: 3px solid #ffc107;
    box-shadow: 0 6px 20px rgba(255, 193, 7, 0.25);
}

.sw-image-section img {
    max-width: 100%;
    max-height: 200px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.sw-image-fallback {
    width: 200px;
    height: 150px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #ffe082 0%, #ffd54f 100%);
    border-radius: 12px;
    color: #f57f17;
    font-size: 2rem;
    font-weight: 700;
}

/* Word Display */
.sw-word-display {
    font-size: 3rem;
    font-weight: 800;
    color: #ff6f00;
    text-transform: lowercase;
    margin: 20px 0;
    padding: 15px 30px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-radius: 15px;
    display: inline-block;
    box-shadow: 0 4px 12px rgba(255, 111, 0, 0.2);
    letter-spacing: 3px;
}

/* Question */
.sw-question {
    font-size: 1.1rem;
    font-weight: 600;
    color: #e65100;
    margin-bottom: 20px;
}

/* Input Section */
.sw-input-section {
    margin-bottom: 15px;
}

.sw-input-wrapper {
    display: flex;
    align-items: center;
    gap: 10px;
    max-width: 350px;
    margin: 0 auto;
}

.sw-input.correct {
    border-color: #4caf50;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    color: #2e7d32;
}

.sw-input.incorrect {
    border-color: #f44336;
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    color: #c62828;
}

.sw-input::placeholder {
    color: #bdbdbd;
    font-weight: 400;
}

/* Mic Button */
.sw-mic-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 3px solid #ffc107;
    background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
    font-size: 1.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.sw-mic-btn:hover {
    transform: scale(1.1);
    background: linear-gradient(135deg, #ffecb3 0%, #ffc107 100%);
    box-shadow: 0 4px 15px rgba(255, 193, 7, 0.4);
}

.sw-mic-btn.recording {
    animation: sw-pulse 1s infinite;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
}

@keyframes sw-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* Feedback */
.sw-feedback {
    margin-top: 10px;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 1rem;
    font-weight: 600;
    min-height: 20px;
    display: inline-block;
}

.sw-feedback:empty {
    display: none;
}

/* Check Button */
/* Mobile Responsive */
@media (max-width: 600px) {
    .sight-words-container {
        padding: 15px;
    }

    .sw-image-section {
        padding: 20px;
    }

    .sw-image-section img {
        max-height: 150px;
    }

    .sw-word-display {
        font-size: 2.2rem;
        padding: 12px 25px;
    }

    .sw-mic-btn {
        width: 44px;
        height: 44px;
        font-size: 1.3rem;
    }

}

/* ==================== [45] Subordinating Conjunctions ==================== */
.subconj-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-radius: 20px;
    border: 3px solid #64b5f6;
    box-shadow: 0 8px 25px rgba(33, 150, 243, 0.2);
    max-width: 800px;
    margin: 0 auto;
}

/* Image Section */
.subconj-image-section {
    width: 100%;
    max-width: 300px;
    aspect-ratio: 4/3;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    background: white;
}

.subconj-image-section img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.subconj-image-fallback {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    background: linear-gradient(135deg, #bbdefb 0%, #90caf9 100%);
}

/* Sentence */
.subconj-sentence {
    background: white;
    border-radius: 15px;
    padding: 20px 25px;
    font-size: 1.15rem;
    line-height: 1.8;
    color: #1565c0;
    border: 2px solid #90caf9;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
    text-align: center;
    max-width: 100%;
}

/* Conjunction highlight */
.subconj-sentence .conjunction-highlight {
    background: linear-gradient(135deg, #7c4dff 0%, #651fff 100%);
    color: white;
    padding: 2px 10px;
    border-radius: 8px;
    font-weight: 700;
    box-shadow: 0 2px 6px rgba(101, 31, 255, 0.3);
}

/* Question Section */
.subconj-question-section {
    width: 100%;
    background: white;
    border-radius: 15px;
    padding: 20px;
    border: 2px solid #90caf9;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
}

.subconj-question {
    font-size: 1.1rem;
    font-weight: 700;
    color: #1565c0;
    margin-bottom: 20px;
    text-align: center;
}

/* Identify Mode - Input */
.subconj-input-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 15px;
}

.subconj-input.correct {
    border-color: #4caf50;
    background: #e8f5e9;
}

.subconj-input.incorrect {
    border-color: #f44336;
    background: #ffebee;
}

/* Mic Button */
.subconj-mic-btn {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: 2px solid #64b5f6;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.subconj-mic-btn:hover {
    transform: scale(1.1);
    background: linear-gradient(135deg, #bbdefb 0%, #90caf9 100%);
    box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
}

.subconj-mic-btn.recording {
    animation: subconj-pulse 1s infinite;
    background: linear-gradient(135deg, #ffcdd2 0%, #ef9a9a 100%);
    border-color: #f44336;
}

@keyframes subconj-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* Buttons */
.subconj-buttons {
    display: flex;
    justify-content: center;
}

/* Fill-in-Blank Mode - Choices */
.subconj-choices {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.subconj-choice {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 20px;
    font-size: 1.05rem;
    font-weight: 600;
    color: #1565c0;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border: 2px solid #64b5f6;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
}

.subconj-choice:hover:not(:disabled) {
    transform: translateX(5px);
    background: linear-gradient(135deg, #bbdefb 0%, #90caf9 100%);
    box-shadow: 0 4px 12px rgba(33, 150, 243, 0.25);
}

.subconj-choice .choice-letter {
    font-weight: 800;
    color: #2196f3;
    min-width: 25px;
}

.subconj-choice.correct {
    background: linear-gradient(135deg, #4caf50 0%, #43a047 100%);
    color: white;
    border-color: #388e3c;
}

.subconj-choice.correct .choice-letter {
    color: white;
}

.subconj-choice.incorrect {
    background: linear-gradient(135deg, #f44336 0%, #e53935 100%);
    color: white;
    border-color: #c62828;
}

.subconj-choice.incorrect .choice-letter {
    color: white;
}

.subconj-choice.disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

/* Feedback */
.subconj-feedback {
    margin-top: 15px;
    padding: 12px 18px;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 600;
    text-align: center;
}

.subconj-feedback:empty {
    display: none;
}

/* Mobile Responsive */
@media (max-width: 600px) {
    .subconj-container {
        padding: 15px;
    }

    .subconj-sentence {
        font-size: 1.05rem;
        padding: 15px;
    }

    .subconj-question {
        font-size: 1rem;
    }

    .subconj-question-section {
        padding: 15px;
    }

    .subconj-mic-btn {
        width: 38px;
        height: 38px;
        font-size: 1rem;
    }

    .subconj-choice {
        padding: 12px 16px;
        font-size: 1rem;
    }
}

/* ==================== [46] Synonym Middle Styles ==================== */

.synonym-middle-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #fff5f5 0%, #ffe6e6 100%);
    border-radius: 16px;
    border: 3px solid #e74c3c;
    max-width: 600px;
    margin: 0 auto;
}

.synonym-middle-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 150px;
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.15);
}

.synonym-middle-image-section img {
    max-width: 100%;
    max-height: 180px;
    object-fit: contain;
    border-radius: 8px;
}

.synonym-middle-image-fallback {
    font-size: 4rem;
    color: #e74c3c;
    display: flex;
    align-items: center;
    justify-content: center;
}

.synonym-middle-word-section {
    text-align: center;
    padding: 15px;
    background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
}

.synonym-middle-word {
    font-size: 2.5rem;
    font-weight: 800;
    color: white;
    text-transform: lowercase;
    letter-spacing: 2px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.synonym-middle-question-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.15);
}

.synonym-middle-question {
    font-size: 1.2rem;
    font-weight: 600;
    color: #c0392b;
    text-align: center;
}

.synonym-middle-input-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
}

.synonym-middle-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.synonym-middle-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.synonym-middle-mic-btn {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: 2px solid #e74c3c;
    background: white;
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.synonym-middle-mic-btn:hover {
    background: #fff5f5;
    transform: scale(1.05);
}

.synonym-middle-mic-btn.recording {
    background: #e74c3c;
    animation: pulse-red 1s infinite;
}

@keyframes pulse-red {
    0%, 100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.4); }
    50% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
}

.synonym-middle-buttons {
    display: flex;
    justify-content: center;
}

.synonym-middle-feedback {
    text-align: center;
    font-size: 1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

.synonym-middle-feedback.checking {
    color: #e74c3c;
    background: #fff5f5;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .synonym-middle-container {
        padding: 15px;
        gap: 15px;
    }

    .synonym-middle-word {
        font-size: 2rem;
    }

    .synonym-middle-question {
        font-size: 1rem;
    }

    .synonym-middle-question-section {
        padding: 15px;
    }

    .synonym-middle-mic-btn {
        width: 38px;
        height: 38px;
        font-size: 1rem;
    }

}

/* ============================================
   Synonym Elementary Container Styles (#98)
   Green theme for elementary level
   ============================================ */

.synonym-elementary-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #f0fff4 0%, #e6ffed 100%);
    border-radius: 16px;
    border: 3px solid #27ae60;
    max-width: 600px;
    margin: 0 auto;
}

.synonym-elementary-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 150px;
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(39, 174, 96, 0.15);
}

.synonym-elementary-image-section img {
    max-width: 100%;
    max-height: 180px;
    object-fit: contain;
    border-radius: 8px;
}

.synonym-elementary-image-fallback {
    font-size: 4rem;
    color: #27ae60;
    display: flex;
    align-items: center;
    justify-content: center;
}

.synonym-elementary-word-section {
    text-align: center;
    padding: 15px;
    background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
}

.synonym-elementary-word {
    font-size: 2.5rem;
    font-weight: 800;
    color: white;
    text-transform: lowercase;
    letter-spacing: 2px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.synonym-elementary-question-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(39, 174, 96, 0.15);
}

.synonym-elementary-question {
    font-size: 1.2rem;
    font-weight: 600;
    color: #1e8449;
    text-align: center;
}

.synonym-elementary-input-wrapper {
    display: flex;
    gap: 10px;
    align-items: center;
}

.synonym-elementary-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.synonym-elementary-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.synonym-elementary-mic-btn {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: 2px solid #27ae60;
    background: white;
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.synonym-elementary-mic-btn:hover {
    background: #f0fff4;
    transform: scale(1.05);
}

.synonym-elementary-mic-btn.recording {
    background: #27ae60;
    animation: pulse-green 1s infinite;
}

@keyframes pulse-green {
    0%, 100% { box-shadow: 0 0 0 0 rgba(39, 174, 96, 0.4); }
    50% { box-shadow: 0 0 0 10px rgba(39, 174, 96, 0); }
}

.synonym-elementary-buttons {
    display: flex;
    justify-content: center;
}

.synonym-elementary-feedback {
    text-align: center;
    font-size: 1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

.synonym-elementary-feedback.checking {
    color: #27ae60;
    background: #f0fff4;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .synonym-elementary-container {
        padding: 15px;
        gap: 15px;
    }

    .synonym-elementary-word {
        font-size: 2rem;
    }

    .synonym-elementary-question {
        font-size: 1rem;
    }

    .synonym-elementary-question-section {
        padding: 15px;
    }

    .synonym-elementary-mic-btn {
        width: 38px;
        height: 38px;
        font-size: 1rem;
    }

}

/* ============================================
   Synonyms Multiple Choice Container Styles (#99)
   Purple theme for multiple choice synonyms
   ============================================ */

.synonyms-mc-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #f5f0ff 0%, #ede6ff 100%);
    border-radius: 16px;
    border: 3px solid #9b59b6;
    max-width: 600px;
    margin: 0 auto;
}

.synonyms-mc-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 150px;
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(155, 89, 182, 0.15);
}

.synonyms-mc-image-section img {
    max-width: 100%;
    max-height: 180px;
    object-fit: contain;
    border-radius: 8px;
}

.synonyms-mc-image-fallback {
    font-size: 4rem;
    color: #9b59b6;
    display: flex;
    align-items: center;
    justify-content: center;
}

.synonyms-mc-question-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(155, 89, 182, 0.15);
}

.synonyms-mc-question {
    font-size: 1.3rem;
    font-weight: 600;
    color: #8e44ad;
    text-align: center;
    line-height: 1.5;
}

.synonyms-mc-question strong {
    color: #9b59b6;
    font-weight: 800;
    font-size: 1.4rem;
}

.synonyms-mc-choices {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.synonyms-mc-choice {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 14px 18px;
    background: white;
    border: 2px solid #9b59b6;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.05rem;
    text-align: left;
}

.synonyms-mc-choice:hover:not(:disabled) {
    background: #f5f0ff;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(155, 89, 182, 0.2);
}

.synonyms-mc-choice .choice-letter {
    font-weight: 700;
    color: #9b59b6;
    min-width: 24px;
}

.synonyms-mc-choice .choice-text {
    color: #2c3e50;
    font-weight: 500;
}

.synonyms-mc-choice.correct {
    background: #e8f8f0;
    border-color: #27ae60;
}

.synonyms-mc-choice.correct .choice-letter,
.synonyms-mc-choice.correct .choice-text {
    color: #27ae60;
}

.synonyms-mc-choice.incorrect {
    background: #ffeaea;
    border-color: #e74c3c;
}

.synonyms-mc-choice.incorrect .choice-letter,
.synonyms-mc-choice.incorrect .choice-text {
    color: #e74c3c;
}

.synonyms-mc-choice.disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.synonyms-mc-feedback {
    text-align: center;
    font-size: 1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .synonyms-mc-container {
        padding: 15px;
        gap: 15px;
    }

    .synonyms-mc-question {
        font-size: 1.1rem;
    }

    .synonyms-mc-question strong {
        font-size: 1.2rem;
    }

    .synonyms-mc-choices {
        grid-template-columns: 1fr;
    }

    .synonyms-mc-choice {
        padding: 12px 16px;
        font-size: 1rem;
    }
}

/* ============================================
   Third Person Singular Container Styles (#101)
   Orange theme for verb conjugation
   ============================================ */

.third-person-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #fff8f0 0%, #ffedd5 100%);
    border-radius: 16px;
    border: 3px solid #e67e22;
    max-width: 600px;
    margin: 0 auto;
}

.third-person-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(230, 126, 34, 0.15);
}

.third-person-image-section img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

.third-person-image-fallback {
    font-size: 4rem;
    color: #e67e22;
    display: flex;
    align-items: center;
    justify-content: center;
}

.third-person-sentence-section {
    text-align: center;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(230, 126, 34, 0.15);
}

.third-person-sentence {
    font-size: 2rem;
    font-weight: 700;
    color: #2c3e50;
    line-height: 1.4;
}

.third-person-sentence .subject {
    color: #e67e22;
    font-weight: 800;
}

.third-person-sentence .blank {
    display: inline-block;
    min-width: 120px;
    border-bottom: 3px solid #e67e22;
    color: #e67e22;
}

.third-person-sentence .answer {
    font-weight: 800;
    padding: 0 8px;
    border-radius: 4px;
}

.third-person-sentence .answer.correct {
    color: #27ae60;
    background: #e8f8f0;
}

.third-person-sentence .answer.incorrect {
    color: #e74c3c;
    background: #ffeaea;
    text-decoration: line-through;
}

.third-person-choices-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(230, 126, 34, 0.15);
}

.third-person-choices {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.third-person-choice {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 16px 40px;
    background: white;
    border: 3px solid #e67e22;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.3rem;
    min-width: 140px;
}

.third-person-choice:hover:not(:disabled) {
    background: #fff8f0;
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(230, 126, 34, 0.25);
}

.third-person-choice .choice-letter {
    font-weight: 800;
    color: #e67e22;
    font-size: 1.4rem;
}

.third-person-choice .choice-text {
    color: #2c3e50;
    font-weight: 600;
}

.third-person-choice.correct {
    background: #e8f8f0;
    border-color: #27ae60;
}

.third-person-choice.correct .choice-letter,
.third-person-choice.correct .choice-text {
    color: #27ae60;
}

.third-person-choice.incorrect {
    background: #ffeaea;
    border-color: #e74c3c;
}

.third-person-choice.incorrect .choice-letter,
.third-person-choice.incorrect .choice-text {
    color: #e74c3c;
}

.third-person-choice.disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.third-person-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .third-person-container {
        padding: 15px;
        gap: 15px;
    }

    .third-person-sentence {
        font-size: 1.5rem;
    }

    .third-person-choices {
        flex-direction: column;
    }

    .third-person-choice {
        padding: 14px 30px;
        font-size: 1.1rem;
        min-width: auto;
        width: 100%;
    }
}

/* =============================================
   UNDERSTANDING QUANTITATIVE CONCEPTS STYLES (#102)
   Teal/Cyan Theme for quantity words (all, some, none, most, etc.)
   ============================================= */
.quantitative-concepts-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
    border-radius: 16px;
    border: 3px solid #00acc1;
    max-width: 600px;
    margin: 0 auto;
}

.quantitative-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(0, 172, 193, 0.15);
}

.quantitative-image-section img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

.quantitative-image-fallback {
    font-size: 4rem;
    color: #00acc1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.quantitative-question-section {
    text-align: center;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 172, 193, 0.15);
}

.quantitative-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #006064;
    line-height: 1.4;
}

.quantitative-choices-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 172, 193, 0.15);
}

.quantitative-choices {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.quantitative-choice {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 20px;
    background: white;
    border: 3px solid #00acc1;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1.1rem;
    text-align: left;
}

.quantitative-choice:hover:not(:disabled) {
    background: #e0f7fa;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 172, 193, 0.25);
}

.quantitative-choice .choice-letter {
    font-weight: 800;
    color: #00acc1;
    font-size: 1.2rem;
    min-width: 25px;
}

.quantitative-choice .choice-text {
    color: #2c3e50;
    font-weight: 600;
}

.quantitative-choice.correct {
    background: #e8f8f0;
    border-color: #27ae60;
}

.quantitative-choice.correct .choice-letter,
.quantitative-choice.correct .choice-text {
    color: #27ae60;
}

.quantitative-choice.incorrect {
    background: #ffeaea;
    border-color: #e74c3c;
}

.quantitative-choice.incorrect .choice-letter,
.quantitative-choice.incorrect .choice-text {
    color: #e74c3c;
}

.quantitative-choice.disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.quantitative-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .quantitative-concepts-container {
        padding: 15px;
        gap: 15px;
    }

    .quantitative-question {
        font-size: 1.2rem;
    }

    .quantitative-choice {
        padding: 12px 16px;
        font-size: 1rem;
    }
}

/* =============================================
   VERBS - BASIC ACTIONS STYLES (#103)
   Blue Theme for action verb identification
   ============================================= */
.verbs-basic-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-radius: 16px;
    border: 3px solid #1976d2;
    max-width: 600px;
    margin: 0 auto;
}

.verbs-basic-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
    background: white;
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.15);
}

.verbs-basic-image-section img {
    max-width: 100%;
    max-height: 220px;
    object-fit: contain;
    border-radius: 8px;
}

.verbs-basic-image-fallback {
    font-size: 5rem;
    color: #1976d2;
    display: flex;
    align-items: center;
    justify-content: center;
}

.verbs-basic-prompt-section {
    text-align: center;
    padding: 15px 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.15);
}

.verbs-basic-prompt {
    font-size: 1.4rem;
    font-weight: 700;
    color: #0d47a1;
    line-height: 1.4;
}

.verbs-basic-input-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(25, 118, 210, 0.15);
}

.verbs-basic-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.verbs-basic-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.verbs-basic-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.verbs-basic-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

.verbs-basic-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .verbs-basic-container {
        padding: 15px;
        gap: 15px;
    }

    .verbs-basic-prompt {
        font-size: 1.2rem;
    }

}

/* =============================================
   VERBS - SELECT FROM THREE STYLES (#104)
   Green/Emerald Theme for verb image selection
   ============================================= */
.verbs-select-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    border-radius: 16px;
    border: 3px solid #43a047;
    max-width: 650px;
    margin: 0 auto;
}

.verbs-select-question-section {
    text-align: center;
    padding: 15px 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(67, 160, 71, 0.15);
}

.verbs-select-question {
    font-size: 1.3rem;
    font-weight: 600;
    color: #2e7d32;
    line-height: 1.4;
}

.verbs-select-question .verb-highlight {
    color: #1b5e20;
    font-weight: 800;
    background: linear-gradient(135deg, #c8e6c9 0%, #a5d6a7 100%);
    padding: 2px 8px;
    border-radius: 6px;
}

.verbs-select-images {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
}

.verbs-select-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 10px;
    background: white;
    border: 3px solid #81c784;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 130px;
}

.verbs-select-option:hover:not(.disabled) {
    border-color: #43a047;
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(67, 160, 71, 0.25);
}

.verbs-select-option img {
    width: 100%;
    height: 100px;
    object-fit: contain;
    border-radius: 8px;
}

.verbs-select-fallback {
    width: 100%;
    height: 100px;
    font-size: 3rem;
    color: #43a047;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f1f8e9;
    border-radius: 8px;
}

.verbs-select-label {
    font-size: 1.3rem;
    font-weight: 700;
    color: #2e7d32;
    background: #e8f5e9;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #43a047;
}

.verbs-select-option.correct {
    background: #e8f5e9;
    border-color: #27ae60;
    box-shadow: 0 0 0 3px rgba(39, 174, 96, 0.3);
}

.verbs-select-option.correct .verbs-select-label {
    background: #27ae60;
    color: white;
    border-color: #27ae60;
}

.verbs-select-option.incorrect {
    background: #ffeaea;
    border-color: #e74c3c;
}

.verbs-select-option.incorrect .verbs-select-label {
    background: #e74c3c;
    color: white;
    border-color: #e74c3c;
}

.verbs-select-option.disabled {
    cursor: not-allowed;
    opacity: 0.8;
}

.verbs-select-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px;
    border-radius: 8px;
    min-height: 20px;
}

/* Mobile responsive */
@media (max-width: 520px) {
    .verbs-select-container {
        padding: 15px;
        gap: 15px;
    }

    .verbs-select-question {
        font-size: 1.1rem;
    }

    .verbs-select-images {
        gap: 10px;
    }

    .verbs-select-option {
        width: 110px;
        padding: 8px;
    }

    .verbs-select-option img {
        width: 100%;
        height: 80px;
    }

    .verbs-select-fallback {
        width: 80px;
        height: 70px;
        font-size: 2rem;
    }

    .verbs-select-label {
        font-size: 1rem;
        width: 28px;
        height: 28px;
    }
}

/* Wh- Questions Mixed (#129) - Question & Answer
   ============================================= */
.wh-questions-mixed-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    padding: 15px;
}

.wh-questions-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    max-height: 220px;
    background: white;
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 2px 8px rgba(103, 58, 183, 0.15);
    border: 3px solid #7e57c2;
    width: 100%;
    max-width: 300px;
}

.wh-questions-image-section img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

.wh-questions-image-fallback {
    font-size: 4rem;
    color: #7e57c2;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 150px;
}

.wh-questions-question-section {
    text-align: center;
    padding: 15px 20px;
    background: linear-gradient(135deg, #ede7f6 0%, #d1c4e9 100%);
    border-radius: 12px;
    border: 2px solid #9575cd;
    width: 100%;
}

.wh-questions-question {
    font-size: 1.4rem;
    font-weight: 600;
    color: #4527a0;
    line-height: 1.5;
}

.wh-word-highlight {
    background: linear-gradient(135deg, #7e57c2 0%, #5e35b1 100%);
    color: white;
    padding: 2px 8px;
    border-radius: 6px;
    font-weight: 700;
}

.wh-questions-hint {
    font-size: 0.9rem;
    color: #7e57c2;
    margin-top: 8px;
    font-style: italic;
}

.wh-questions-input-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    padding: 15px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(103, 58, 183, 0.15);
}

.wh-questions-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.wh-questions-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.wh-questions-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.wh-questions-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 600;
    padding: 12px 20px;
    border-radius: 10px;
    min-height: 24px;
    width: 100%;
}

/* Responsive Wh- Questions styles */
@media (max-width: 600px) {
    .wh-questions-image-section {
        min-height: 140px;
        max-height: 180px;
    }

    .wh-questions-question {
        font-size: 1.2rem;
    }

}

/* =============================================
   [61] Wh- Questions Short Stories (#130) - Comprehension
   ============================================= */
.wh-stories-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    padding: 12px;
    max-height: 85vh;
    overflow-y: auto;
}

.wh-stories-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 120px;
    max-height: 150px;
    background: white;
    border-radius: 10px;
    padding: 8px;
    box-shadow: 0 2px 8px rgba(0, 150, 136, 0.15);
    border: 3px solid #26a69a;
    width: 100%;
    max-width: 250px;
}

.wh-stories-image-section img {
    max-width: 100%;
    max-height: 130px;
    object-fit: contain;
    border-radius: 6px;
}

.wh-stories-image-fallback {
    font-size: 3rem;
    color: #26a69a;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100px;
}

.wh-stories-story-section {
    width: 100%;
    padding: 12px 15px;
    background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
    border-radius: 10px;
    border: 2px solid #80cbc4;
    max-height: 150px;
    overflow-y: auto;
}

.wh-stories-text {
    font-size: 1rem;
    color: #00695c;
    line-height: 1.5;
    text-align: left;
}

.wh-stories-question-section {
    text-align: center;
    padding: 12px 15px;
    background: white;
    border-radius: 10px;
    border: 2px solid #26a69a;
    width: 100%;
}

.wh-stories-progress {
    font-size: 0.85rem;
    color: #00897b;
    margin-bottom: 8px;
    font-weight: 600;
}

.wh-stories-question {
    font-size: 1.2rem;
    font-weight: 600;
    color: #00695c;
    line-height: 1.4;
}

.wh-stories-input-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
    padding: 12px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0, 150, 136, 0.15);
}

.wh-stories-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.wh-stories-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.wh-stories-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.wh-stories-feedback {
    text-align: center;
    font-size: 1rem;
    font-weight: 600;
    padding: 10px 15px;
    border-radius: 8px;
    min-height: 20px;
    width: 100%;
}

/* Responsive Wh- Stories styles */
@media (max-width: 600px) {
    .wh-stories-container {
        gap: 10px;
        padding: 10px;
    }

    .wh-stories-image-section {
        min-height: 100px;
        max-height: 120px;
    }

    .wh-stories-story-section {
        max-height: 120px;
        padding: 10px;
    }

    .wh-stories-text {
        font-size: 0.9rem;
    }

    .wh-stories-question {
        font-size: 1.1rem;
    }

}

/* ========================================
   [61] Wh Questions With Picture Choices (#136)
   ======================================== */
.wh-picture-choices-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.wh-picture-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #1565c0;
    text-align: center;
    padding: 15px;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border-radius: 15px;
}

.wh-picture-question .wh-word-highlight {
    color: #d32f2f;
    font-weight: 800;
}

.wh-picture-choices {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
}

.wh-picture-choice {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 15px;
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 120px;
    max-width: 150px;
}

.wh-picture-choice:hover {
    border-color: #1565c0;
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.wh-picture-label {
    font-size: 1.5rem;
    font-weight: 800;
    color: #1565c0;
    background: #e3f2fd;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.wh-picture-choice img {
    width: 100px;
    height: 100px;
    object-fit: contain;
    border-radius: 10px;
}

.wh-picture-fallback {
    width: 100px;
    height: 100px;
    background: #f5f5f5;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: #bdbdbd;
}

.wh-picture-text {
    font-size: 0.95rem;
    font-weight: 600;
    color: #333;
    text-align: center;
}

.wh-picture-choice.correct {
    border-color: #4caf50;
    background: #e8f5e9;
}

.wh-picture-choice.incorrect {
    border-color: #f44336;
    background: #ffebee;
}

/* ========================================
   [63] What Will Happen Styles (#137, #138)
   ======================================== */
.what-will-happen-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.what-will-happen-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 150px;
    max-height: 200px;
    background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%);
    border-radius: 15px;
    padding: 15px;
}

.what-will-happen-image-section img {
    max-width: 100%;
    max-height: 170px;
    object-fit: contain;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.what-will-happen-fallback {
    font-size: 4rem;
    color: #7986cb;
}

.what-will-happen-scenario {
    font-size: 1rem;
    color: #5c6bc0;
    text-align: center;
    padding: 10px;
    background: #e8eaf6;
    border-radius: 10px;
    font-style: italic;
}

.what-will-happen-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #3949ab;
    text-align: center;
    padding: 10px;
}

.what-will-happen-input-section {
    display: flex;
    gap: 10px;
    justify-content: center;
    align-items: center;
}

.what-will-happen-feedback {
    text-align: center;
    padding: 10px 15px;
    border-radius: 10px;
    font-weight: 600;
    min-height: 40px;
}

.what-will-happen-feedback.checking {
    background: #fff3e0;
    color: #ef6c00;
    border: 2px solid #ffb74d;
}

/* ========================================
   [64] Which One Does Not Belong (#139)
   ======================================== */
.which-doesnt-belong-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.doesnt-belong-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #e65100;
    text-align: center;
    padding: 15px;
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-radius: 15px;
}

.doesnt-belong-images {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
}

.doesnt-belong-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    padding: 15px;
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 130px;
}

.doesnt-belong-item:hover {
    border-color: #e65100;
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.doesnt-belong-item img {
    width: 110px;
    height: 110px;
    object-fit: contain;
    border-radius: 10px;
}

.doesnt-belong-fallback {
    width: 110px;
    height: 110px;
    background: #f5f5f5;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    color: #bdbdbd;
    font-weight: 700;
}

.doesnt-belong-label {
    font-size: 1rem;
    font-weight: 600;
    color: #333;
    text-align: center;
}

.doesnt-belong-item.correct {
    border-color: #4caf50;
    background: #e8f5e9;
}

.doesnt-belong-item.incorrect {
    border-color: #f44336;
    background: #ffebee;
}

.doesnt-belong-feedback {
    text-align: center;
    padding: 12px 15px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 1rem;
    min-height: 45px;
}

/* ========================================
   [65] Who Questions Four Quadrants (#140)
   ======================================== */
.four-quadrants-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    max-height: 70vh;
    overflow-y: auto;
}

.four-quadrants-question {
    font-size: 1.4rem;
    font-weight: 700;
    color: #7b1fa2;
    text-align: center;
    padding: 15px;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border-radius: 15px;
}

.four-quadrants-question .wh-word-highlight {
    color: #d32f2f;
    font-weight: 800;
}

.four-quadrants-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    max-width: 400px;
    margin: 0 auto;
}

.quadrant-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 12px;
    background: white;
    border: 3px solid #e0e0e0;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.quadrant-item:hover {
    border-color: #7b1fa2;
    transform: scale(1.02);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
}

.quadrant-item img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    border-radius: 10px;
}

.quadrant-fallback {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: #7b1fa2;
    font-weight: 700;
}

.quadrant-name {
    font-size: 1rem;
    font-weight: 700;
    color: #7b1fa2;
    text-align: center;
}

.quadrant-item.correct {
    border-color: #4caf50;
    background: #e8f5e9;
}

.quadrant-item.incorrect {
    border-color: #f44336;
    background: #ffebee;
}
/* ========================================
   Responsive Styles for New Types
   ======================================== */
@media (max-width: 600px) {
    /* Picture Choices */
    .wh-picture-choices-container {
        gap: 15px;
        padding: 10px;
    }

    .wh-picture-question {
        font-size: 1.1rem;
        padding: 10px;
    }

    .wh-picture-choice {
        min-width: 100px;
        max-width: 120px;
        padding: 10px;
    }

    .wh-picture-choice img {
        width: 80px;
        height: 80px;
    }

    /* What Will Happen */
    .what-will-happen-container {
        gap: 10px;
        padding: 10px;
    }

    .what-will-happen-image-section {
        min-height: 100px;
        max-height: 120px;
    }

    .what-will-happen-question {
        font-size: 1.2rem;
    }

    .what-will-happen-input-section {
        flex-direction: column;
    }

    /* Doesn't Belong */
    .which-doesnt-belong-container {
        gap: 15px;
        padding: 10px;
    }

    .doesnt-belong-question {
        font-size: 1.1rem;
        padding: 10px;
    }

    .doesnt-belong-item {
        min-width: 100px;
        padding: 10px;
    }

    .doesnt-belong-item img,
    .doesnt-belong-fallback {
        width: 80px;
        height: 80px;
    }

    /* Four Quadrants */
    .four-quadrants-container {
        gap: 10px;
        padding: 10px;
    }

    .four-quadrants-question {
        font-size: 1.1rem;
        padding: 10px;
    }

    .four-quadrants-grid {
        gap: 10px;
        max-width: 280px;
    }

    .quadrant-item {
        padding: 8px;
    }

    .quadrant-item img,
    .quadrant-fallback {
        width: 60px;
        height: 60px;
    }

    .quadrant-name {
        font-size: 0.9rem;
    }

    
}

/* ========== [U1] UNIFIED CONTAINERS CSS ========== */

/* Unified Vocabulary Container */
.vocab-unified-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-width: 500px;
    margin: 0 auto;
}

.vocab-unified-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
    background: #f8f9fa;
    border-radius: 12px;
    overflow: hidden;
}

.vocab-unified-image-section img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

.vocab-unified-image-fallback {
    font-size: 5rem;
    color: #ff9800;
    display: flex;
    justify-content: center;
    align-items: center;
}

.vocab-unified-example-section {
    text-align: center;
    padding: 10px 20px;
    background: #fff3e0;
    border-radius: 8px;
    font-style: italic;
    color: #e65100;
}

.vocab-unified-prompt-section {
    text-align: center;
    padding: 15px 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.vocab-unified-prompt {
    font-size: 1.4rem;
    font-weight: 700;
    color: #e65100;
}

.vocab-unified-input-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
}

.vocab-unified-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.vocab-unified-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.vocab-unified-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.vocab-unified-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

.vocab-unified-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px 20px;
    border-radius: 8px;
    min-height: 20px;
}

/* Unified Wh-Questions Container */
.wh-unified-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-width: 500px;
    margin: 0 auto;
}

.wh-unified-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    background: #e3f2fd;
    border-radius: 12px;
    overflow: hidden;
}

.wh-unified-image-section img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

.wh-unified-image-fallback {
    font-size: 4rem;
    color: #1976d2;
    display: flex;
    justify-content: center;
    align-items: center;
}

.wh-unified-question-section {
    text-align: center;
    padding: 15px 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.wh-unified-question {
    font-size: 1.3rem;
    font-weight: 600;
    color: #333;
    line-height: 1.5;
    margin-bottom: 10px;
}

.wh-word-highlight {
    color: #1976d2;
    font-weight: 800;
    background: #e3f2fd;
    padding: 2px 8px;
    border-radius: 4px;
}

.wh-unified-hint {
    font-size: 0.9rem;
    color: #666;
    font-style: italic;
}

.wh-unified-input-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: center;
}

.wh-unified-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.wh-unified-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.wh-unified-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.wh-unified-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

.wh-unified-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px 20px;
    border-radius: 8px;
    min-height: 20px;
}

.wh-unified-feedback.checking {
    color: #1976d2;
    background: #e3f2fd;
    border: 1px solid #1976d2;
}

/* Unified Synonym Container */
.synonym-unified-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 20px;
    max-width: 500px;
    margin: 0 auto;
}

.synonym-unified-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    background: #f3e5f5;
    border-radius: 12px;
    overflow: hidden;
}

.synonym-unified-image-section img {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 8px;
}

.synonym-unified-image-fallback {
    font-size: 4rem;
    color: #9c27b0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.synonym-unified-word-section {
    text-align: center;
    padding: 20px;
    background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
    border-radius: 12px;
}

.synonym-unified-word {
    font-size: 2rem;
    font-weight: 800;
    color: white;
    text-transform: capitalize;
}

.synonym-unified-question-section {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.synonym-unified-question {
    text-align: center;
    font-size: 1.2rem;
    font-weight: 600;
    color: #7b1fa2;
}

.synonym-unified-input-wrapper {
    display: flex;
    gap: 10px;
}

.synonym-unified-input.correct {
    border-color: #27ae60;
    background: #e8f8f0;
}

.synonym-unified-input.incorrect {
    border-color: #e74c3c;
    background: #ffeaea;
}

.synonym-unified-input:disabled {
    background: #f5f5f5;
    cursor: not-allowed;
}

.synonym-unified-mic-btn {
    width: 50px;
    height: 50px;
    border: none;
    border-radius: 50%;
    background: #f3e5f5;
    cursor: pointer;
    font-size: 1.5rem;
    transition: all 0.2s ease;
}

.synonym-unified-mic-btn:hover {
    background: #e1bee7;
}

.synonym-unified-buttons {
    display: flex;
    justify-content: center;
}

.synonym-unified-check-btn:active:not(:disabled) {
    transform: translateY(0);
}

.synonym-unified-feedback {
    text-align: center;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 12px 20px;
    border-radius: 8px;
    min-height: 20px;
}

.synonym-unified-feedback.checking {
    color: #9c27b0;
    background: #f3e5f5;
    border: 1px solid #9c27b0;
}

/* Responsive adjustments for unified containers */
@media (max-width: 600px) {
    .vocab-unified-container,
    .wh-unified-container,
    .synonym-unified-container {
        padding: 15px;
        gap: 15px;
    }

    .vocab-unified-prompt,
    .wh-unified-question,
    .synonym-unified-question {
        font-size: 1.1rem;
    }

    .vocab-unified-input,
    .wh-unified-input,
    .vocab-unified-check-btn,
    .wh-unified-check-btn,
    .synonym-unified-word {
        font-size: 1.6rem;
    }
}

/* ========== END UNIFIED CONTAINERS CSS ========== */

/* ========== [U2] UNIFIED CONTAINERS CSS (Round 2) ========== */

/* Unified Metaphors Container */
.metaphors-unified-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    padding: 20px;
    max-width: 550px;
    margin: 0 auto;
}

.metaphors-unified-header {
    text-align: center;
}

.metaphors-unified-title {
    font-size: 1.3rem;
    font-weight: 700;
    color: #6a1b9a;
}

.metaphors-unified-image-section {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 150px;
    background: #f3e5f5;
    border-radius: 12px;
    overflow: hidden;
}

.metaphors-unified-image-section img {
    max-width: 100%;
    max-height: 180px;
    object-fit: contain;
}

.metaphors-unified-fallback {
    font-size: 4rem;
    color: #9c27b0;
}

.metaphors-unified-text {
    font-size: 1.1rem;
    line-height: 1.6;
    padding: 15px;
    background: #fafafa;
    border-radius: 8px;
    border-left: 4px solid #9c27b0;
}

.metaphor-unified-highlight {
    background: #e1bee7;
    color: #6a1b9a;
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 600;
}

.metaphors-unified-question {
    font-size: 1.1rem;
    font-weight: 600;
    color: #6a1b9a;
    text-align: center;
}

.metaphors-unified-input-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
}

.metaphors-unified-input.correct { border-color: #27ae60; background: #e8f8f0; }
.metaphors-unified-input.incorrect { border-color: #e74c3c; background: #ffeaea; }

.metaphors-unified-feedback {
    text-align: center;
    padding: 10px;
    border-radius: 8px;
    font-weight: 500;
}

/* ==================== [AI] AI VOICE DISPLAY COMPONENT ==================== */
/* Child-friendly karaoke-style voice-to-text component */

/* Import playful font */
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap');

/* Main container - sticky at top center */
.ai-voice-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    pointer-events: none;
    transition: opacity 0.4s ease, transform 0.4s ease;
}

.ai-voice-container.hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(-20px);
    pointer-events: none;
}

.ai-voice-container.visible {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

/* Cloud-shaped speech bubble */
.ai-voice-bubble {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    background: linear-gradient(145deg, #fff9e6 0%, #fff3cd 50%, #ffe4a0 100%);
    border-radius: 30px 30px 30px 8px;
    padding: 18px 25px;
    box-shadow:
        0 8px 32px rgba(255, 193, 7, 0.3),
        0 4px 16px rgba(0, 0, 0, 0.1),
        inset 0 2px 4px rgba(255, 255, 255, 0.8);
    border: 3px solid #ffc107;
    min-width: 300px;
    max-width: 600px;
    position: relative;
    animation: bubbleAppear 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes bubbleAppear {
    0% {
        opacity: 0;
        transform: scale(0.8) translateY(-10px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Cloud puffs decoration */
.ai-voice-bubble::before,
.ai-voice-bubble::after {
    content: '';
    position: absolute;
    background: linear-gradient(145deg, #fff9e6, #ffe4a0);
    border-radius: 50%;
    border: 3px solid #ffc107;
}

.ai-voice-bubble::before {
    width: 25px;
    height: 25px;
    bottom: -8px;
    left: 20px;
    box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
}

.ai-voice-bubble::after {
    width: 15px;
    height: 15px;
    bottom: -18px;
    left: 8px;
    box-shadow: 0 4px 8px rgba(255, 193, 7, 0.2);
}

/* AI Character Container */
.ai-character {
    position: relative;
    flex-shrink: 0;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.ai-character-emoji {
    font-size: 42px;
    z-index: 2;
    position: relative;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
    animation: characterBounce 1s ease-in-out infinite;
}

.ai-character.speaking .ai-character-emoji {
    animation: characterSpeak 0.3s ease-in-out infinite alternate;
}

@keyframes characterBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}

@keyframes characterSpeak {
    0% { transform: scale(1) rotate(-2deg); }
    100% { transform: scale(1.05) rotate(2deg); }
}

/* Pulse rings around character when speaking */
.ai-pulse-ring {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 3px solid #ffc107;
    opacity: 0;
    animation: none;
}

.ai-character.speaking .ai-pulse-ring {
    animation: pulseRing 1.5s ease-out infinite;
}

.ai-pulse-ring.delay {
    animation-delay: 0.5s;
}

@keyframes pulseRing {
    0% {
        opacity: 0.8;
        transform: scale(0.8);
    }
    100% {
        opacity: 0;
        transform: scale(1.8);
    }
}

/* Voice content area */
.ai-voice-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 50px;
}

/* Text container for words */
.ai-voice-text {
    font-family: 'Quicksand', 'Nunito', sans-serif;
    font-size: 26px;
    font-weight: 600;
    line-height: 1.6;
    color: #5d4037;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
}

/* Individual word styling */
.ai-word {
    display: inline-block;
    padding: 4px 8px;
    border-radius: 8px;
    transition: all 0.2s ease;
    color: #8d6e63;
    opacity: 0.5;
    transform: scale(0.95);
}

/* Word states */
.ai-word.spoken {
    color: #5d4037;
    opacity: 1;
    transform: scale(1);
}

/* Currently highlighted word - karaoke effect */
.ai-word.active {
    color: #ff6f00;
    background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
    border: 2px solid #ff9800;
    box-shadow:
        0 4px 15px rgba(255, 152, 0, 0.4),
        0 0 20px rgba(255, 193, 7, 0.3);
    transform: scale(1.15);
    opacity: 1;
    animation: wordPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    font-weight: 700;
}

@keyframes wordPop {
    0% {
        transform: scale(0.8);
        opacity: 0;
    }
    50% {
        transform: scale(1.25);
    }
    100% {
        transform: scale(1.15);
        opacity: 1;
    }
}

/* Upcoming words (not yet spoken) */
.ai-word.upcoming {
    color: #bcaaa4;
    opacity: 0.4;
}

/* Completed state - all words spoken */
.ai-voice-text.complete .ai-word {
    color: #4caf50;
    opacity: 1;
    transform: scale(1);
}

.ai-voice-text.complete .ai-word.active {
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    border-color: #4caf50;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    color: #2e7d32;
}

/* Punctuation styling */
.ai-word.punctuation {
    padding: 0 2px;
    margin-left: -6px;
    background: none !important;
    border: none !important;
    box-shadow: none !important;
}

/* Loading dots animation */
.ai-voice-loading {
    display: flex;
    gap: 6px;
    padding: 10px;
}

.ai-voice-loading span {
    width: 12px;
    height: 12px;
    background: #ffc107;
    border-radius: 50%;
    animation: loadingDot 1.4s ease-in-out infinite;
}

.ai-voice-loading span:nth-child(2) {
    animation-delay: 0.2s;
}

.ai-voice-loading span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes loadingDot {
    0%, 80%, 100% {
        transform: scale(0.6);
        opacity: 0.4;
    }
    40% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Different character themes */
.ai-character[data-theme="robot"] .ai-character-emoji::after { content: 'ðŸ¤–'; }
.ai-character[data-theme="owl"] .ai-character-emoji::after { content: 'ðŸ¦‰'; }
.ai-character[data-theme="bear"] .ai-character-emoji::after { content: 'ðŸ»'; }
.ai-character[data-theme="star"] .ai-character-emoji::after { content: 'â­'; }

/* Mobile responsive */
@media (max-width: 768px) {
    .ai-voice-container {
        top: 10px;
        left: 10px;
        right: 10px;
        transform: none;
    }

    .ai-voice-container.hidden {
        transform: translateY(-20px);
    }

    .ai-voice-container.visible {
        transform: translateY(0);
    }

    .ai-voice-bubble {
        min-width: auto;
        max-width: none;
        padding: 14px 18px;
        border-radius: 20px 20px 20px 6px;
        gap: 12px;
    }

    .ai-character {
        width: 50px;
        height: 50px;
    }

    .ai-character-emoji {
        font-size: 32px;
    }

    .ai-voice-text {
        font-size: 20px;
        gap: 6px;
    }

    .ai-word {
        padding: 3px 6px;
    }

    .ai-word.active {
        transform: scale(1.1);
    }
}

@media (max-width: 480px) {
    .ai-voice-bubble {
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 12px 15px;
    }

    .ai-character {
        width: 45px;
        height: 45px;
    }

    .ai-character-emoji {
        font-size: 28px;
    }

    .ai-voice-text {
        font-size: 18px;
        justify-content: center;
    }

    .ai-voice-bubble::before,
    .ai-voice-bubble::after {
        display: none;
    }
}

/* High contrast mode for accessibility */
@media (prefers-contrast: high) {
    .ai-voice-bubble {
        background: #fff;
        border: 4px solid #000;
    }

    .ai-word.active {
        background: #ffeb3b;
        border: 3px solid #000;
        color: #000;
    }

    .ai-voice-text {
        color: #000;
    }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
    .ai-character-emoji,
    .ai-pulse-ring,
    .ai-word,
    .ai-voice-bubble {
        animation: none !important;
        transition: opacity 0.2s ease !important;
    }

    .ai-word.active {
        transform: scale(1.05);
    }
}

/* ==================== [SH] SPEECH HISTORY LOG ==================== */
/* Comprehensive AI Speech & Content Log with Child-Friendly Design */

/* Import accessibility-focused fonts */
@import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap');

/* Main Panel Container */
.speech-history-panel {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 9998;
    display: flex;
    flex-direction: row-reverse;
    align-items: flex-start;
    gap: 10px;
    transition: opacity 0.3s ease;
}

.speech-history-panel.hidden {
    opacity: 0;
    pointer-events: none;
}

.speech-history-panel.visible {
    opacity: 1;
    pointer-events: auto;
}

/* Toggle Button */
.speech-history-toggle {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    border: 3px solid #64b5f6;
    box-shadow:
        0 4px 15px rgba(100, 181, 246, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.8);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.3s ease;
    flex-shrink: 0;
}

.speech-history-toggle:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(100, 181, 246, 0.5);
}

.speech-history-toggle:active {
    transform: scale(0.95);
}

.speech-history-toggle .toggle-icon {
    font-size: 28px;
}

.speech-history-toggle .toggle-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: linear-gradient(135deg, #ff7043, #ff5722);
    color: white;
    font-size: 12px;
    font-weight: 700;
    min-width: 22px;
    height: 22px;
    border-radius: 11px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid white;
    box-shadow: 0 2px 8px rgba(255, 87, 34, 0.4);
}

.toggle-badge:empty,
.toggle-badge[data-count="0"] {
    display: none;
}

/* History Container */
.speech-history-container {
    width: 380px;
    max-height: 70vh;
    background: linear-gradient(165deg, #f8f9fa 0%, #e8f4fd 50%, #e3f2fd 100%);
    border-radius: 24px;
    border: 3px solid #90caf9;
    box-shadow:
        0 10px 40px rgba(33, 150, 243, 0.2),
        0 4px 15px rgba(0, 0, 0, 0.1),
        inset 0 2px 6px rgba(255, 255, 255, 0.9);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transform-origin: right center;
    animation: historySlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.speech-history-container.collapsed {
    display: none;
}

@keyframes historySlideIn {
    0% {
        opacity: 0;
        transform: translateX(30px) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

/* History Header */
.speech-history-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 18px;
    background: linear-gradient(135deg, #42a5f5, #1e88e5);
    border-bottom: 2px solid #1976d2;
}

.history-title {
    display: flex;
    align-items: center;
    gap: 10px;
    color: white;
    font-family: 'Lexend', 'Quicksand', sans-serif;
    font-size: 18px;
    font-weight: 600;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.history-icon {
    font-size: 24px;
}

.history-controls {
    display: flex;
    gap: 8px;
}

.history-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.4);
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.history-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

.history-btn span {
    font-size: 16px;
}

/* Scrollable Content Area */
.speech-history-scroll {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    scroll-behavior: smooth;
    padding: 15px;
}

.speech-history-scroll::-webkit-scrollbar {
    width: 10px;
}

.speech-history-scroll::-webkit-scrollbar-track {
    background: #e3f2fd;
    border-radius: 5px;
}

.speech-history-scroll::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #64b5f6, #42a5f5);
    border-radius: 5px;
    border: 2px solid #e3f2fd;
}

.speech-history-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Empty State */
.history-empty-state {
    text-align: center;
    padding: 40px 20px;
    color: #78909c;
}

.history-empty-state .empty-icon {
    font-size: 48px;
    display: block;
    margin-bottom: 15px;
    animation: emptyBounce 2s ease-in-out infinite;
}

@keyframes emptyBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.history-empty-state p {
    font-family: 'Lexend', sans-serif;
    font-size: 16px;
    font-weight: 500;
    margin: 0;
}

/* ==================== SPEECH CARD STYLES ==================== */

/* Base Speech Card */
.speech-card {
    background: linear-gradient(145deg, #ffffff, #f5f5f5);
    border-radius: 18px;
    padding: 15px 18px;
    position: relative;
    box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.08),
        inset 0 1px 3px rgba(255, 255, 255, 0.9);
    transition: all 0.3s ease;
    animation: cardSlideUp 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    cursor: pointer;
}

@keyframes cardSlideUp {
    0% {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.speech-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12);
}

/* Card Type Colors (Pastel Coding System) */
/* AI Speech - Light Blue */
.speech-card.ai-speech {
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    border: 2px solid #90caf9;
    border-left: 5px solid #42a5f5;
}

/* Player Task/Question - Soft Green */
.speech-card.player-task {
    background: linear-gradient(145deg, #e8f5e9, #c8e6c9);
    border: 2px solid #a5d6a7;
    border-left: 5px solid #66bb6a;
}

/* Feedback Positive - Light Mint */
.speech-card.feedback-positive {
    background: linear-gradient(145deg, #e0f2f1, #b2dfdb);
    border: 2px solid #80cbc4;
    border-left: 5px solid #26a69a;
}

/* Feedback Negative - Soft Coral */
.speech-card.feedback-negative {
    background: linear-gradient(145deg, #ffebee, #ffcdd2);
    border: 2px solid #ef9a9a;
    border-left: 5px solid #ef5350;
}

/* Instruction - Soft Purple */
.speech-card.instruction {
    background: linear-gradient(145deg, #f3e5f5, #e1bee7);
    border: 2px solid #ce93d8;
    border-left: 5px solid #ab47bc;
}

/* Current/Active Card */
.speech-card.current {
    border-width: 3px;
    box-shadow:
        0 0 0 3px rgba(255, 193, 7, 0.3),
        0 8px 25px rgba(0, 0, 0, 0.15);
    animation: currentPulse 2s ease-in-out infinite;
}

@keyframes currentPulse {
    0%, 100% {
        box-shadow:
            0 0 0 3px rgba(255, 193, 7, 0.3),
            0 8px 25px rgba(0, 0, 0, 0.15);
    }
    50% {
        box-shadow:
            0 0 0 6px rgba(255, 193, 7, 0.2),
            0 10px 30px rgba(0, 0, 0, 0.18);
    }
}

/* Past Cards (Dimmed) */
.speech-card.past {
    opacity: 0.75;
}

.speech-card.past:hover {
    opacity: 1;
}

/* Card Header */
.speech-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    padding-bottom: 8px;
    border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
}

.card-speaker-icon {
    font-size: 24px;
    flex-shrink: 0;
}

.card-timestamp {
    font-family: 'Lexend', sans-serif;
    font-size: 11px;
    color: #78909c;
    margin-left: auto;
}

/* Card Text Content */
.speech-card-text {
    font-family: 'Lexend', 'Quicksand', sans-serif;
    font-size: 18px;
    font-weight: 500;
    line-height: 1.7;
    color: #37474f;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: baseline;
}

/* Individual Words in History */
.history-word {
    display: inline-block;
    padding: 3px 6px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.history-word:hover {
    background: rgba(255, 193, 7, 0.2);
    transform: scale(1.05);
}

.history-word:active {
    transform: scale(0.95);
}

/* Word States in Current Card */
.history-word.spoken {
    color: #37474f;
    opacity: 1;
}

.history-word.active {
    background: linear-gradient(135deg, #fff8e1, #ffecb3);
    color: #ff6f00;
    font-weight: 700;
    border: 2px solid #ffc107;
    box-shadow: 0 3px 12px rgba(255, 193, 7, 0.4);
    transform: scale(1.12);
    animation: historyWordPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes historyWordPop {
    0% { transform: scale(0.8); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1.12); }
}

.history-word.upcoming {
    color: #90a4ae;
    opacity: 0.6;
}

/* Click Hint on Words */
.history-word::after {
    content: 'ðŸ”Š';
    position: absolute;
    top: -8px;
    right: -8px;
    font-size: 10px;
    opacity: 0;
    transform: scale(0);
    transition: all 0.2s ease;
}

.history-word:hover::after {
    opacity: 1;
    transform: scale(1);
}

/* Card with Embedded Content */
.speech-card-content {
    margin-top: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 12px;
    border: 2px dashed rgba(0, 0, 0, 0.1);
}

.embedded-card-preview {
    display: flex;
    align-items: center;
    gap: 12px;
}

.embedded-card-image {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 10px;
    border: 2px solid #e0e0e0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.embedded-card-info {
    flex: 1;
}

.embedded-card-label {
    font-family: 'Lexend', sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #546e7a;
    margin-bottom: 4px;
}

.embedded-card-answer {
    font-family: 'Lexend', sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: #37474f;
    background: #fff9c4;
    padding: 4px 10px;
    border-radius: 8px;
    display: inline-block;
}

/* Replay Button on Card */
.card-replay-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.9);
    border: 2px solid #90caf9;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.2s ease;
}

.speech-card:hover .card-replay-btn {
    opacity: 1;
    transform: scale(1);
}

.card-replay-btn:hover {
    background: #e3f2fd;
    transform: scale(1.1) !important;
}

/* Scroll Navigation */
.speech-history-nav {
    display: flex;
    justify-content: center;
    gap: 15px;
    padding: 12px;
    background: linear-gradient(0deg, #e3f2fd, transparent);
    border-top: 1px solid rgba(144, 202, 249, 0.3);
}

.scroll-nav-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(145deg, #fff, #e3f2fd);
    border: 3px solid #64b5f6;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    transition: all 0.2s ease;
    box-shadow: 0 3px 10px rgba(100, 181, 246, 0.3);
}

.scroll-nav-btn:hover {
    transform: scale(1.1);
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
}

.scroll-nav-btn:active {
    transform: scale(0.95);
}

/* Session Divider */
.session-divider {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 15px 0;
    color: #78909c;
    font-family: 'Lexend', sans-serif;
    font-size: 12px;
}

.session-divider::before,
.session-divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, #b0bec5, transparent);
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .speech-history-panel {
        right: 10px;
        top: auto;
        bottom: 100px;
        transform: none;
        flex-direction: column;
        align-items: flex-end;
    }

    .speech-history-container {
        width: calc(100vw - 40px);
        max-width: 350px;
        max-height: 50vh;
    }

    .speech-history-toggle {
        width: 50px;
        height: 50px;
    }

    .speech-history-toggle .toggle-icon {
        font-size: 24px;
    }

    .speech-card-text {
        font-size: 16px;
    }

    .history-word {
        padding: 2px 5px;
    }

    .scroll-nav-btn {
        width: 44px;
        height: 44px;
        font-size: 18px;
    }
}

@media (max-width: 480px) {
    .speech-history-container {
        width: calc(100vw - 20px);
        max-height: 45vh;
        border-radius: 18px;
    }

    .speech-history-header {
        padding: 10px 14px;
    }

    .history-title {
        font-size: 15px;
    }

    .speech-card {
        padding: 12px 14px;
    }

    .speech-card-text {
        font-size: 15px;
        gap: 4px;
    }

    .embedded-card-image {
        width: 60px;
        height: 60px;
    }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .speech-card {
        border: 3px solid #000;
    }

    .history-word.active {
        background: #ffeb3b;
        border: 3px solid #000;
        color: #000;
    }

    .speech-history-container {
        border: 3px solid #000;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .speech-card,
    .history-word,
    .speech-history-container {
        animation: none !important;
        transition: opacity 0.2s ease !important;
    }

    .history-word.active {
        transform: scale(1.05);
    }

    .history-empty-state .empty-icon {
        animation: none;
    }
}

/* ==================== [FC] FOCUS CARD MODAL ==================== */
/* Two-Way Karaoke Interaction Card for Speech Therapy */

/* Overlay Container */
.focus-card-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    padding-bottom: 100px; /* Space for bottom navigation */
    box-sizing: border-box;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
}

.focus-card-overlay.hidden {
    display: none;
}

.focus-card-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

/* Backdrop with blur effect */
.focus-card-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

/* Main Focus Card */
.focus-card {
    position: relative;
    width: 100%;
    max-width: 680px;
    max-height: calc(100vh - 140px);
    background: linear-gradient(165deg, #fffef5 0%, #fff9e6 40%, #fff3cd 100%);
    border-radius: 32px;
    border: 4px solid #ffc107;
    box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.3),
        0 8px 25px rgba(255, 193, 7, 0.3),
        inset 0 2px 8px rgba(255, 255, 255, 0.9);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transform: scale(0.8) translateY(30px);
    opacity: 0;
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
}

.focus-card.card-enter {
    transform: scale(1) translateY(0);
    opacity: 1;
}

/* Paper Texture Overlay */
.focus-card-texture {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 0;
}

/* Card Header */
.focus-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: linear-gradient(135deg, #ff9800, #f57c00);
    border-bottom: 3px solid #e65100;
    position: relative;
    z-index: 1;
}

.focus-card-category {
    display: flex;
    align-items: center;
    gap: 10px;
    color: white;
    font-family: 'Fredoka One', 'Quicksand', cursive;
    font-size: 20px;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.focus-card-category .category-icon {
    font-size: 26px;
}

.focus-card-close {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.5);
    color: white;
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.focus-card-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

/* Card Visual Content */
.focus-card-visual {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 20px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.5) 0%, transparent 100%);
    position: relative;
    z-index: 1;
}

.focus-card-image-container {
    width: 140px;
    height: 140px;
    flex-shrink: 0;
    border-radius: 20px;
    overflow: hidden;
    background: linear-gradient(145deg, #fff, #f5f5f5);
    border: 3px solid #e0e0e0;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.focus-card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.focus-card-image-fallback {
    font-size: 60px;
    opacity: 0.5;
}

.focus-card-prompt {
    flex: 1;
    text-align: center;
}

.focus-card-prompt .prompt-label {
    display: block;
    font-family: 'Lexend', sans-serif;
    font-size: 14px;
    font-weight: 500;
    color: #78909c;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.focus-card-prompt .prompt-text {
    font-family: 'Fredoka One', 'Quicksand', cursive;
    font-size: 28px;
    color: #37474f;
    line-height: 1.4;
    background: linear-gradient(135deg, #fff8e1, #ffecb3);
    padding: 15px 20px;
    border-radius: 16px;
    border: 2px solid #ffc107;
    box-shadow: 0 4px 12px rgba(255, 193, 7, 0.2);
}

/* Two-Way Karaoke Display */
.focus-card-karaoke {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 15px 20px;
    overflow-y: auto;
    position: relative;
    z-index: 1;
}

/* Karaoke Section (Child & AI) */
.karaoke-section {
    background: linear-gradient(145deg, #ffffff, #fafafa);
    border-radius: 20px;
    padding: 15px;
    border: 2px solid #e0e0e0;
    transition: all 0.3s ease;
}

.karaoke-section.active {
    border-color: #4caf50;
    box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
}

.karaoke-section.speaking {
    border-color: #2196f3;
    box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
}

/* Child Section Specific */
.karaoke-section.child-section {
    background: linear-gradient(145deg, #e8f5e9, #c8e6c9);
    border-color: #a5d6a7;
}

.karaoke-section.child-section.active {
    border-color: #4caf50;
    animation: recordingPulse 1.5s ease-in-out infinite;
}

@keyframes recordingPulse {
    0%, 100% { box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3); }
    50% { box-shadow: 0 0 0 6px rgba(76, 175, 80, 0.1); }
}

/* AI Section Specific */
.karaoke-section.ai-section {
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    border-color: #90caf9;
}

.karaoke-section.ai-section.speaking {
    border-color: #2196f3;
}

/* Karaoke Header */
.karaoke-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;
    padding-bottom: 10px;
    border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
}

.speaker-avatar {
    font-size: 28px;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

.speaker-avatar.ai-avatar {
    animation: avatarBounce 2s ease-in-out infinite;
}

@keyframes avatarBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}

.speaker-label {
    font-family: 'Lexend', sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #546e7a;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Recording Indicator */
.recording-indicator {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-left: auto;
    padding: 4px 10px;
    background: #f44336;
    border-radius: 20px;
    color: white;
    font-size: 12px;
    font-weight: 600;
}

.recording-indicator .rec-dot {
    width: 8px;
    height: 8px;
    background: white;
    border-radius: 50%;
    animation: recDotPulse 1s ease-in-out infinite;
}

@keyframes recDotPulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
}

/* AI Speaking Indicator */
.ai-speaking-indicator {
    display: flex;
    align-items: flex-end;
    gap: 3px;
    margin-left: auto;
    height: 20px;
}

.speaking-wave {
    width: 4px;
    background: #2196f3;
    border-radius: 2px;
    animation: speakingWave 0.6s ease-in-out infinite;
}

.speaking-wave:nth-child(1) { height: 8px; animation-delay: 0s; }
.speaking-wave:nth-child(2) { height: 16px; animation-delay: 0.15s; }
.speaking-wave:nth-child(3) { height: 12px; animation-delay: 0.3s; }

@keyframes speakingWave {
    0%, 100% { transform: scaleY(0.5); }
    50% { transform: scaleY(1); }
}

/* Karaoke Text Container */
.karaoke-text-container {
    min-height: 50px;
    max-height: 100px;
    overflow-y: auto;
}

.karaoke-words {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: baseline;
    font-family: 'Lexend', 'Quicksand', sans-serif;
    font-size: 22px;
    font-weight: 500;
    line-height: 1.6;
}

.karaoke-placeholder {
    color: #90a4ae;
    font-style: italic;
    font-size: 16px;
}

/* Individual Karaoke Words */
.karaoke-word {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

/* Child's Words */
.karaoke-word.child-word {
    color: #2e7d32;
    animation: wordAppear 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.karaoke-word.child-word.interim {
    color: #81c784;
    opacity: 0.7;
}

.karaoke-word.child-word.final {
    color: #1b5e20;
    background: rgba(255, 255, 255, 0.5);
}

@keyframes wordAppear {
    0% {
        opacity: 0;
        transform: translateY(10px) scale(0.8);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* AI Words - Karaoke States */
.karaoke-word.ai-word {
    color: #90a4ae;
}

.karaoke-word.ai-word.upcoming {
    color: #b0bec5;
    opacity: 0.5;
}

.karaoke-word.ai-word.spoken {
    color: #1565c0;
    opacity: 1;
}

/* ACTIVE WORD - The Core Karaoke Highlight */
.karaoke-word.ai-word.active {
    color: #FF6B00;
    background: linear-gradient(135deg, #fff8e1 0%, #ffe0b2 100%);
    border: 2px solid #FF6B00;
    box-shadow:
        0 0 20px rgba(255, 107, 0, 0.4),
        0 4px 15px rgba(255, 152, 0, 0.3);
    transform: scale(1.2);
    font-weight: 700;
    animation: activeWordPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 2;
}

@keyframes activeWordPop {
    0% {
        transform: scale(0.8);
        opacity: 0.5;
    }
    50% {
        transform: scale(1.3);
    }
    100% {
        transform: scale(1.2);
        opacity: 1;
    }
}

/* Correct/Incorrect word styling */
.karaoke-word.ai-word.correct.active {
    color: #2e7d32;
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    border-color: #4caf50;
    box-shadow: 0 0 20px rgba(76, 175, 80, 0.4);
}

.karaoke-word.ai-word.incorrect.active {
    color: #c62828;
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    border-color: #f44336;
    box-shadow: 0 0 20px rgba(244, 67, 54, 0.4);
}

/* Punctuation */
.karaoke-word.punctuation {
    padding: 0 2px;
    margin-left: -6px;
    background: none !important;
    border: none !important;
    box-shadow: none !important;
    transform: none !important;
}

/* Action Buttons */
.focus-card-actions {
    display: flex;
    justify-content: center;
    gap: 15px;
    padding: 15px 20px;
    background: linear-gradient(0deg, rgba(255, 255, 255, 0.8), transparent);
    position: relative;
    z-index: 1;
}

.focus-action-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 12px 20px;
    border-radius: 16px;
    border: 3px solid;
    cursor: pointer;
    transition: all 0.2s ease;
    font-family: 'Lexend', sans-serif;
    min-width: 80px;
}

.focus-action-btn .btn-icon {
    font-size: 28px;
}

.focus-action-btn .btn-text {
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Mic Button */
.focus-action-btn.mic-btn {
    background: linear-gradient(145deg, #e8f5e9, #c8e6c9);
    border-color: #4caf50;
    color: #2e7d32;
}

.focus-action-btn.mic-btn:hover {
    background: linear-gradient(145deg, #c8e6c9, #a5d6a7);
    transform: scale(1.05);
}

.focus-action-btn.mic-btn.recording {
    background: linear-gradient(145deg, #ffcdd2, #ef9a9a);
    border-color: #f44336;
    color: #c62828;
    animation: micPulse 1s ease-in-out infinite;
}

@keyframes micPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.4); }
    50% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0); }
}

/* Replay Button */
.focus-action-btn.replay-btn {
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    border-color: #2196f3;
    color: #1565c0;
}

.focus-action-btn.replay-btn:hover {
    background: linear-gradient(145deg, #bbdefb, #90caf9);
    transform: scale(1.05);
}

/* Skip Button */
.focus-action-btn.skip-btn {
    background: linear-gradient(145deg, #fff3e0, #ffe0b2);
    border-color: #ff9800;
    color: #e65100;
}

.focus-action-btn.skip-btn:hover {
    background: linear-gradient(145deg, #ffe0b2, #ffcc80);
    transform: scale(1.05);
}

/* Feedback Banner */
.focus-card-feedback {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.8);
    background: white;
    padding: 20px 40px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    z-index: 10;
    opacity: 0;
    pointer-events: none;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.focus-card-feedback:not(.hidden) {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
}

.focus-card-feedback .feedback-icon {
    font-size: 48px;
    animation: feedbackBounce 0.6s ease-out;
}

@keyframes feedbackBounce {
    0% { transform: scale(0) rotate(-45deg); }
    50% { transform: scale(1.3) rotate(10deg); }
    100% { transform: scale(1) rotate(0); }
}

.focus-card-feedback .feedback-message {
    font-family: 'Fredoka One', cursive;
    font-size: 24px;
    color: #37474f;
}

.focus-card-feedback.correct {
    background: linear-gradient(145deg, #e8f5e9, #c8e6c9);
    border: 3px solid #4caf50;
}

.focus-card-feedback.correct .feedback-message {
    color: #2e7d32;
}

.focus-card-feedback.incorrect {
    background: linear-gradient(145deg, #ffebee, #ffcdd2);
    border: 3px solid #f44336;
}

.focus-card-feedback.incorrect .feedback-message {
    color: #c62828;
}

.focus-card-feedback.info {
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    border: 3px solid #2196f3;
}

.focus-card-feedback.info .feedback-message {
    color: #1565c0;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .focus-card-overlay {
        padding: 10px;
        padding-bottom: 90px;
    }

    .focus-card {
        border-radius: 24px;
        max-height: calc(100vh - 110px);
    }

    .focus-card-header {
        padding: 12px 16px;
    }

    .focus-card-category {
        font-size: 16px;
    }

    .focus-card-visual {
        flex-direction: column;
        padding: 15px;
        gap: 15px;
    }

    .focus-card-image-container {
        width: 100px;
        height: 100px;
    }

    .focus-card-prompt .prompt-text {
        font-size: 22px;
        padding: 12px 16px;
    }

    .karaoke-words {
        font-size: 18px;
        gap: 6px;
    }

    .karaoke-word {
        padding: 3px 8px;
    }

    .karaoke-word.ai-word.active {
        transform: scale(1.15);
    }

    .focus-action-btn {
        padding: 10px 15px;
        min-width: 70px;
    }

    .focus-action-btn .btn-icon {
        font-size: 24px;
    }

    .focus-action-btn .btn-text {
        font-size: 10px;
    }
}

@media (max-width: 480px) {
    .focus-card {
        border-radius: 20px;
    }

    .focus-card-header {
        padding: 10px 14px;
    }

    .focus-card-category .category-icon {
        font-size: 22px;
    }

    .focus-card-category .category-text {
        font-size: 14px;
    }

    .focus-card-image-container {
        width: 80px;
        height: 80px;
    }

    .focus-card-prompt .prompt-text {
        font-size: 18px;
    }

    .karaoke-section {
        padding: 12px;
    }

    .karaoke-words {
        font-size: 16px;
    }

    .speaker-avatar {
        font-size: 24px;
    }

    .focus-card-feedback {
        padding: 15px 25px;
    }

    .focus-card-feedback .feedback-icon {
        font-size: 36px;
    }

    .focus-card-feedback .feedback-message {
        font-size: 18px;
    }
}

/* ==================== STATE-LOCKED FOCUS CARD ==================== */
/* Locked State - Card cannot be closed while AI is speaking */
.focus-card.locked {
    /* Subtle visual indicator that card is locked */
    box-shadow:
        0 20px 60px rgba(0, 0, 0, 0.3),
        0 8px 25px rgba(255, 193, 7, 0.3),
        inset 0 2px 8px rgba(255, 255, 255, 0.9),
        0 0 0 3px rgba(33, 150, 243, 0.3);
}

.focus-card.locked .focus-card-close {
    opacity: 0.3;
    cursor: not-allowed;
    pointer-events: none;
}

/* Shake Animation - Visual feedback when close is blocked */
@keyframes cardShake {
    0%, 100% { transform: scale(1) translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: scale(1) translateX(-5px); }
    20%, 40%, 60%, 80% { transform: scale(1) translateX(5px); }
}

.focus-card.shake {
    animation: cardShake 0.3s ease-in-out;
}

/* Close button locked state */
.focus-card-close.locked,
.focus-card-close:disabled {
    opacity: 0.3 !important;
    cursor: not-allowed !important;
    pointer-events: none !important;
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .focus-card {
        border: 4px solid #000;
    }

    .karaoke-word.ai-word.active {
        background: #ffeb3b;
        border: 3px solid #000;
        color: #000;
    }

    .focus-action-btn {
        border-width: 4px;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .focus-card,
    .karaoke-word,
    .focus-card-feedback,
    .speaker-avatar {
        animation: none !important;
        transition: opacity 0.2s ease !important;
    }

    .karaoke-word.ai-word.active {
        transform: scale(1.1);
    }

    .focus-card.card-enter {
        transform: scale(1);
    }
}

/* ==========================================================================
   SECTION E: UNIFIED CARD RENDERER STYLES
   New dynamic card rendering system using 7 handler types
   ========================================================================== */

/* -------------------- Rendered Card Container -------------------- */
.rendered-card {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    border: 4px solid var(--handler-color, #FF9800);
    margin: 10px;
}

.rendered-card-header {
    padding: 12px 16px;
    background: linear-gradient(180deg, #FFE082 0%, #FFD54F 100%);
    border-bottom: 3px solid #FFC107;
}

.rendered-card-header .handler-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: white;
    padding: 6px 14px;
    border-radius: 20px;
    color: #5D4037;
    font-size: 0.9rem;
    font-weight: 700;
    border: 2px solid #FFCC80;
}

.rendered-card-body {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* -------------------- Card Title & Question -------------------- */
.card-title {
    font-family: 'OpenDyslexic', 'Nunito', sans-serif;
    font-size: 1.2rem;
    font-weight: 700;
    color: #5D4037;
    text-align: center;
    background: #FFF9E6;
    padding: 12px 16px;
    border-radius: 12px;
    border: 3px dashed #FFCC80;
}

.card-question-text {
    font-family: 'Fredoka One', cursive;
    font-size: 1.6rem;
    color: #E65100;
    text-align: center;
    background: #FFF9E6;
    padding: 12px 16px;
    border-radius: 16px;
    border: 3px solid #FF9800;
}

/* -------------------- Context Text (Story, Paragraph, Sentence) -------------------- */
.card-story,
.card-paragraph,
.card-sentence {
    background: #FFF9E6;
    padding: 16px;
    border-radius: 12px;
    line-height: 1.7;
    border-left: 5px solid #FF9800;
    color: #5D4037;
    font-size: 1.05rem;
}

.card-paragraph,
.card-story {
    font-style: italic;
    background: #FFFDE7;
}

.quiz-blank {
    background: #FFE082;
    padding: 2px 8px;
    border-radius: 6px;
    border-bottom: 3px solid #FFC107;
    font-weight: 700;
    color: #E65100;
}

/* -------------------- Card Images -------------------- */
.card-image {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.card-image img {
    max-width: 220px;
    max-height: 180px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    border: 4px solid #FFCC80;
}

.card-image .image-label {
    font-size: 0.9rem;
    font-weight: 600;
    color: #5D4037;
    text-align: center;
    max-width: 220px;
}

.card-images-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

/* -------------------- Answer Input -------------------- */
.card-answer-input {
    margin-top: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.card-answer-input .answer-input-field {
    flex: 1;
    max-width: 300px;
    padding: 12px 20px;
    font-family: 'OpenDyslexic', 'Nunito', sans-serif;
    font-size: 1.1rem;
    font-weight: 600;
    color: #5D4037;
    background: white;
    border: 4px solid #8D6E63;
    border-radius: 25px;
    outline: none;
    transition: all 0.3s ease;
}

.card-answer-input .answer-input-field:focus {
    border-color: #FF9800;
    box-shadow: 0 0 0 4px rgba(255, 152, 0, 0.3);
}

.card-answer-input .answer-input-field::placeholder {
    color: #BCAAA4;
    font-weight: 500;
}

.card-answer-input .answer-input-field.correct {
    border-color: #4CAF50;
    background: #E8F5E9;
}

.card-answer-input .answer-input-field.incorrect {
    border-color: #F44336;
    background: #FFEBEE;
}

.card-answer-input .mic-btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    border: 4px solid #4CAF50;
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 4px 0 #2E7D32, 0 6px 12px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
    font-size: 1.4rem;
}

.card-answer-input .mic-btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 0 #2E7D32, 0 10px 18px rgba(0, 0, 0, 0.25);
}

/* -------------------- Multiple Answers (Questions List) -------------------- */
.card-questions-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-top: 8px;
}

.card-question-item {
    background: linear-gradient(180deg, #E3F2FD 0%, #BBDEFB 100%);
    padding: 12px 16px;
    border-radius: 12px;
    border: 3px solid #64B5F6;
    color: #1565C0;
}

.card-question-item strong {
    color: #0D47A1;
}

/* -------------------- Multiple Choice -------------------- */
.card-choices {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.card-choice {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: white;
    border-radius: 12px;
    border: 3px solid #FFCC80;
    transition: all 0.2s ease;
}

.card-choice:hover {
    border-color: #FF9800;
    background: #FFF9E6;
}

.card-choice .choice-label {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: linear-gradient(180deg, #FF9800 0%, #F57C00 100%);
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 1rem;
    font-family: 'Fredoka One', cursive;
    border: 2px solid #E65100;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.card-choice.clickable-choice {
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.card-choice.clickable-choice:hover {
    transform: scale(1.02);
    box-shadow: 0 6px 18px rgba(255, 152, 0, 0.3);
}

.card-choice.selected {
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%) !important;
    border: 4px solid #4CAF50 !important;
    box-shadow: 0 0 0 5px rgba(76, 175, 80, 0.3), 0 8px 20px rgba(76, 175, 80, 0.25) !important;
    transform: scale(1.05);
}

.card-choice.selected .choice-label {
    background: linear-gradient(180deg, #4CAF50 0%, #388E3C 100%);
    border-color: #2E7D32;
    transform: scale(1.15);
}

.card-choice.correct {
    background: linear-gradient(180deg, #C8E6C9 0%, #A5D6A7 100%);
    border: 4px solid #4CAF50;
}

.card-choice.incorrect {
    background: linear-gradient(180deg, #FFEBEE 0%, #FFCDD2 100%);
    border-color: #EF9A9A;
    opacity: 0.6;
}

/* -------------------- Image Selection -------------------- */
.card-image-selection-grid {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    padding: 8px;
}

.card-image-selection-item {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 16px;
    background: linear-gradient(180deg, #FFF9E6 0%, #FFE4B5 100%);
    border-radius: 20px;
    border: 4px solid #FFCC80;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.card-image-selection-item:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 10px 25px rgba(255, 152, 0, 0.35);
    border-color: #FF9800;
}

.card-image-selection-item img {
    max-width: 220px;
    max-height: 180px;
    object-fit: contain;
    border-radius: 12px;
    background: white;
    border: 3px solid #FFE082;
}

.image-selection-number {
    position: absolute;
    top: -10px;
    left: -10px;
    width: 32px;
    height: 32px;
    background: linear-gradient(180deg, #FF9800 0%, #F57C00 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Fredoka One', cursive;
    font-size: 1rem;
    border: 3px solid #E65100;
    box-shadow: 0 3px 0 #BF360C;
}

.image-selection-label {
    font-family: 'Fredoka One', cursive;
    font-size: 1rem;
    color: #5D4037;
    text-transform: capitalize;
    text-align: center;
    max-width: 220px;
}

.card-image-selection-item.selected,
.selectable-image.selected {
    border: 4px solid #4CAF50;
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    box-shadow: 0 0 0 5px rgba(76, 175, 80, 0.3), 0 8px 20px rgba(76, 175, 80, 0.25);
    transform: scale(1.08);
}

.card-image-selection-item.correct,
.selectable-image.correct {
    border-color: #4CAF50;
    background: linear-gradient(180deg, #C8E6C9 0%, #A5D6A7 100%);
}

.card-image-selection-item.incorrect,
.selectable-image.incorrect {
    border-color: #EF9A9A;
    background: linear-gradient(180deg, #FFEBEE 0%, #FFCDD2 100%);
    opacity: 0.6;
}

/* -------------------- Sequencing (Image Ordering) -------------------- */
.image-ordering-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin: 16px 0;
}

.sequence-build-area {
    min-height: 120px;
    padding: 16px;
    background: #FFF9E6;
    border: 3px dashed #FFCC80;
    border-radius: 12px;
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    align-items: center;
    justify-content: center;
}

.sequence-build-area:empty::before {
    content: attr(data-placeholder);
    color: #A1887F;
    font-style: italic;
    font-size: 1.1rem;
}

.sequence-build-area .built-image {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
    padding: 12px;
    border-radius: 12px;
    border: 4px solid #4CAF50;
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

.sequence-build-area .built-image:hover {
    background: linear-gradient(180deg, #FFEBEE 0%, #FFCDD2 100%);
    border-color: #F44336;
    transform: scale(1.05);
}

.sequence-build-area .built-image img {
    max-width: 100px;
    max-height: 80px;
    object-fit: contain;
    border-radius: 10px;
}

.sequence-build-area .built-image-label {
    font-size: 0.75rem;
    font-weight: 600;
    color: #2E7D32;
    text-align: center;
    max-width: 100px;
}

.sequence-build-area .built-image:hover .built-image-label {
    color: #C62828;
}

.sequence-build-area.correct {
    border-color: #4CAF50;
    background: #E8F5E9;
}

.sequence-build-area.incorrect {
    border-color: #F44336;
    background: #FFEBEE;
}

.sequence-image-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
}

.sequence-image-btn {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 16px;
    background: linear-gradient(180deg, #FFF9E6 0%, #FFE4B5 100%);
    border: 4px solid #FFCC80;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.sequence-image-btn:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 8px 20px rgba(255, 152, 0, 0.35);
    border-color: #FF9800;
}

.sequence-image-btn img {
    max-width: 140px;
    max-height: 110px;
    object-fit: contain;
    border-radius: 10px;
    background: white;
    border: 2px solid #FFE082;
}

.seq-img-number {
    position: absolute;
    top: -10px;
    left: -10px;
    width: 28px;
    height: 28px;
    background: linear-gradient(180deg, #FF9800 0%, #F57C00 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Fredoka One', cursive;
    font-size: 0.9rem;
    border: 3px solid #E65100;
    box-shadow: 0 2px 0 #BF360C;
}

.seq-img-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: #5D4037;
    text-align: center;
    max-width: 140px;
}

.sequence-image-btn.used {
    background: #E0E0E0;
    border-color: #BDBDBD;
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.sequence-image-btn.used .seq-img-number {
    background: #9E9E9E;
    border-color: #757575;
    box-shadow: none;
}

.clear-sequence-btn {
    background: linear-gradient(180deg, #EF5350 0%, #E53935 100%);
    color: white;
    border: none;
    padding: 8px 24px;
    border-radius: 20px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    align-self: center;
    box-shadow: 0 4px 8px rgba(229, 57, 53, 0.3);
    transition: all 0.2s ease;
}

.clear-sequence-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(229, 57, 53, 0.4);
}

/* -------------------- Building (Word Ordering) -------------------- */
.word-ordering-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin: 16px 0;
}

.sentence-build-area {
    min-height: 60px;
    padding: 16px;
    background: #FFF9E6;
    border: 3px dashed #FFCC80;
    border-radius: 12px;
    font-size: 1.2rem;
    color: #5D4037;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
}

.sentence-build-area:empty::before {
    content: attr(data-placeholder);
    color: #A1887F;
    font-style: italic;
}

.sentence-build-area .built-word {
    background: #4CAF50;
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.sentence-build-area .built-word:hover {
    background: #F44336;
    transform: scale(1.05);
}

.sentence-build-area.correct {
    border-color: #4CAF50;
    background: #E8F5E9;
}

.sentence-build-area.incorrect {
    border-color: #F44336;
    background: #FFEBEE;
}

.word-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
}

.word-btn {
    background: linear-gradient(180deg, #FFB74D 0%, #FF9800 100%);
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);
    transition: all 0.2s ease;
}

.word-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(255, 152, 0, 0.4);
}

.word-btn.used {
    background: #BDBDBD;
    color: #757575;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
}

.clear-sentence-btn {
    background: linear-gradient(180deg, #EF5350 0%, #E53935 100%);
    color: white;
    border: none;
    padding: 8px 24px;
    border-radius: 20px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    align-self: center;
    box-shadow: 0 4px 8px rgba(229, 57, 53, 0.3);
    transition: all 0.2s ease;
}

.clear-sentence-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(229, 57, 53, 0.4);
}

/* -------------------- Conditional (Action Buttons) -------------------- */
.card-conditional-buttons {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 16px;
    flex-wrap: wrap;
}

.conditional-btn {
    padding: 12px 24px;
    font-family: 'Fredoka One', cursive;
    font-size: 1.1rem;
    border-radius: 25px;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    border: 4px solid;
}

.conditional-btn.did-it {
    background: linear-gradient(180deg, #66BB6A 0%, #43A047 100%);
    border-color: #2E7D32;
    color: white;
    box-shadow: 0 4px 0 #1B5E20;
}

.conditional-btn.did-it:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 0 #1B5E20;
}

.conditional-btn.didnt-do-it {
    background: linear-gradient(180deg, #42A5F5 0%, #1E88E5 100%);
    border-color: #1565C0;
    color: white;
    box-shadow: 0 4px 0 #0D47A1;
}

.conditional-btn.didnt-do-it:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 0 #0D47A1;
}

.conditional-btn.selected {
    transform: scale(1.1);
}
