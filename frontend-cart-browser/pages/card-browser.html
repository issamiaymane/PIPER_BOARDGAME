<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Browser - PIPER Speech Therapy</title>
    <link rel="icon" href="../assets/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="../css/card-browser.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="browser-header">
        <div class="header-content">
            <div class="header-text">
                <a href="boardgame.html" class="back-link">← Back to Game</a>
                <h1 class="header-title">Card Browser</h1>
                <p class="header-subtitle">Browse and preview all deck cards</p>
            </div>
            <div class="header-search">
                <input type="text" id="searchInput" placeholder="Search categories...">
            </div>
        </div>
    </header>

    <!-- Filter Bar -->
    <div class="filter-bar">
        <div class="filter-content">
            <div class="filter-group">
                <label for="dataTypeFilter">Data Type:</label>
                <select id="dataTypeFilter">
                    <option value="all" selected>All Categories</option>
                    <option value="language">Language</option>
                    <option value="articulation">Articulation</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="handlerFilter">Filter by Handler:</label>
                <select id="handlerFilter">
                    <option value="all">All Handlers</option>
                    <option value="single-answer">Single Answer</option>
                    <option value="multiple-answers">Multiple Answers</option>
                    <option value="multiple-choice">Multiple Choice</option>
                    <option value="image-selection">Image Selection</option>
                    <option value="sequencing">Sequencing</option>
                    <option value="building">Building</option>
                    <option value="conditional">Conditional</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="sourceFileFilter">Source File:</label>
                <select id="sourceFileFilter">
                    <option value="all">All Files</option>
                </select>
            </div>
            <div class="stats-display">
                <span id="categoryCount">0 categories</span>
                <span id="cardCount">0 cards</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="browser-main">
        <div class="browser-content">
            <!-- Handler Sections will be dynamically generated -->
            <div id="handlerSections" class="handler-sections">
                <div class="loading-message">
                    <div class="loading-spinner"></div>
                    <p>Loading card data...</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Card Preview Modal -->
    <div id="cardPreviewModal" class="preview-modal hidden">
        <div class="preview-backdrop"></div>
        <div class="preview-container">
            <div class="preview-header">
                <h2 id="previewCategoryTitle">Category Name</h2>
                <button class="preview-close-btn" id="previewCloseBtn">&times;</button>
            </div>
            <div class="preview-navigation">
                <button class="preview-nav-btn" id="prevCardBtn">← Prev</button>
                <span class="preview-card-counter" id="cardCounter">1 / 10</span>
                <button class="preview-nav-btn" id="nextCardBtn">Next →</button>
            </div>
            <div class="preview-card-container" id="previewCardContent">
                <!-- Card content will be rendered here -->
            </div>
            <div class="preview-card-info" id="previewCardInfo">
                <!-- Handler type, raw JSON -->
            </div>
        </div>
    </div>

    <!-- Vite Entry Point -->
    <script type="module" src="../scripts/entries/card-browser-entry.ts"></script>
</body>
</html>
